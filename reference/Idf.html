<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read, Modify, and Run an EnergyPlus Model — Idf • eplusr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Read, Modify, and Run an EnergyPlus Model — Idf"><meta property="og:description" content="eplusr provides parsing EnergyPlus Input Data File (IDF) files and strings
in a hierarchical structure, which was extremely inspired by
OpenStudio utilities library,
but with total different data structure under the hook."><meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141601756-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-141601756-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.15.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/eplusr.html">Introduction to eplusr</a>
    </li>
    <li>
      <a href="../articles/job.html">Run simulation and data exploration</a>
    </li>
    <li>
      <a href="../articles/param.html">Parametric simulations</a>
    </li>
    <li>
      <a href="../articles/transition.html">Update IDF version</a>
    </li>
    <li>
      <a href="../articles/epw.html">Work with weather files</a>
    </li>
    <li>
      <a href="../articles/schedule.html">Work with `Schedule:Compact` objects</a>
    </li>
    <li>
      <a href="../articles/geom.html">Work with geometries</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently asked questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hongyuanjia/eplusr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read, Modify, and Run an EnergyPlus Model</h1>
    <small class="dont-index">Source: <a href="https://github.com/hongyuanjia/eplusr/blob/HEAD/R/idf.R" class="external-link"><code>R/idf.R</code></a></small>
    <div class="hidden name"><code>Idf.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>eplusr provides parsing EnergyPlus Input Data File (IDF) files and strings
in a hierarchical structure, which was extremely inspired by
<a href="https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-2.5.1-doc/utilities/html/idf_page.html" class="external-link">OpenStudio utilities library</a>,
but with total different data structure under the hook.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>eplusr uses <code>Idf</code> class to present the whole IDF file and use <a href="IdfObject.html">IdfObject</a>
to present a single object in IDF. Both <code>Idf</code> and <a href="IdfObject.html">IdfObject</a> contain member
functions for helping modify the data in IDF so it complies with the
underlying IDD (EnergyPlus Input Data Dictionary).</p>
<p>Under the hook, eplusr uses a SQL-like structure to store both IDF and IDD
data in different <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a>s. So to modify an EnergyPlus model
in eplusr is equal to change the data in those IDF tables accordingly, in the
context of specific IDD data. This means that a corresponding <a href="Idd.html">Idd</a> object is
needed whenever creating an <code>Idf</code> object. eplusr provides several
<a href="use_idd.html">helpers</a> to easily download IDD files and create <a href="Idd.html">Idd</a> objects.</p>
<p>All IDF reading process starts with function <code><a href="read_idf.html">read_idf()</a></code> which returns an
<code>Idf</code> object. <code>Idf</code> class provides lots of methods to programmatically query
and modify EnergyPlus models.</p>
<p>Internally, the powerful <a href="https://cran.r-project.org/package=data.table" class="external-link">data.table</a>
package is used to speed up the whole IDF parsing process and store the
results. Under the hook, eplusr uses a SQL-like structure to store both IDF
and IDD data in <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a> format. Every IDF will be parsed and
stored in three tables:</p><ul><li><p><code>object</code>: contains object IDs, names and comments.</p></li>
<li><p><code>value</code>: contains field values</p></li>
<li><p><code>reference</code>: contains cross-reference data of field values.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="IdfObject.html">IdfObject</a> class for a single object in an IDF.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Hongyuan Jia</p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>Idf$new()</code></a></p></li>
<li><p><a href="#method-version"><code>Idf$version()</code></a></p></li>
<li><p><a href="#method-path"><code>Idf$path()</code></a></p></li>
<li><p><a href="#method-group_name"><code>Idf$group_name()</code></a></p></li>
<li><p><a href="#method-class_name"><code>Idf$class_name()</code></a></p></li>
<li><p><a href="#method-is_valid_group"><code>Idf$is_valid_group()</code></a></p></li>
<li><p><a href="#method-is_valid_class"><code>Idf$is_valid_class()</code></a></p></li>
<li><p><a href="#method-definition"><code>Idf$definition()</code></a></p></li>
<li><p><a href="#method-object_id"><code>Idf$object_id()</code></a></p></li>
<li><p><a href="#method-object_name"><code>Idf$object_name()</code></a></p></li>
<li><p><a href="#method-object_num"><code>Idf$object_num()</code></a></p></li>
<li><p><a href="#method-is_valid_id"><code>Idf$is_valid_id()</code></a></p></li>
<li><p><a href="#method-is_valid_name"><code>Idf$is_valid_name()</code></a></p></li>
<li><p><a href="#method-object"><code>Idf$object()</code></a></p></li>
<li><p><a href="#method-objects"><code>Idf$objects()</code></a></p></li>
<li><p><a href="#method-object_unique"><code>Idf$object_unique()</code></a></p></li>
<li><p><a href="#method-objects_in_class"><code>Idf$objects_in_class()</code></a></p></li>
<li><p><a href="#method-objects_in_group"><code>Idf$objects_in_group()</code></a></p></li>
<li><p><a href="#method-object_relation"><code>Idf$object_relation()</code></a></p></li>
<li><p><a href="#method-objects_in_relation"><code>Idf$objects_in_relation()</code></a></p></li>
<li><p><a href="#method-search_object"><code>Idf$search_object()</code></a></p></li>
<li><p><a href="#method-dup"><code>Idf$dup()</code></a></p></li>
<li><p><a href="#method-add"><code>Idf$add()</code></a></p></li>
<li><p><a href="#method-set"><code>Idf$set()</code></a></p></li>
<li><p><a href="#method-del"><code>Idf$del()</code></a></p></li>
<li><p><a href="#method-purge"><code>Idf$purge()</code></a></p></li>
<li><p><a href="#method-duplicated"><code>Idf$duplicated()</code></a></p></li>
<li><p><a href="#method-unique"><code>Idf$unique()</code></a></p></li>
<li><p><a href="#method-rename"><code>Idf$rename()</code></a></p></li>
<li><p><a href="#method-insert"><code>Idf$insert()</code></a></p></li>
<li><p><a href="#method-load"><code>Idf$load()</code></a></p></li>
<li><p><a href="#method-update"><code>Idf$update()</code></a></p></li>
<li><p><a href="#method-paste"><code>Idf$paste()</code></a></p></li>
<li><p><a href="#method-search_value"><code>Idf$search_value()</code></a></p></li>
<li><p><a href="#method-replace_value"><code>Idf$replace_value()</code></a></p></li>
<li><p><a href="#method-validate"><code>Idf$validate()</code></a></p></li>
<li><p><a href="#method-is_valid"><code>Idf$is_valid()</code></a></p></li>
<li><p><a href="#method-to_string"><code>Idf$to_string()</code></a></p></li>
<li><p><a href="#method-to_table"><code>Idf$to_table()</code></a></p></li>
<li><p><a href="#method-external_deps"><code>Idf$external_deps()</code></a></p></li>
<li><p><a href="#method-is_unsaved"><code>Idf$is_unsaved()</code></a></p></li>
<li><p><a href="#method-save"><code>Idf$save()</code></a></p></li>
<li><p><a href="#method-run"><code>Idf$run()</code></a></p></li>
<li><p><a href="#method-last_job"><code>Idf$last_job()</code></a></p></li>
<li><p><a href="#method-geometry"><code>Idf$geometry()</code></a></p></li>
<li><p><a href="#method-view"><code>Idf$view()</code></a></p></li>
<li><p><a href="#method-print"><code>Idf$print()</code></a></p></li>
<li><p><a href="#method-clone"><code>Idf$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create an <code>Idf</code> object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/Idf.html">Idf</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path</span>, idd <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>Either a path, a connection, or literal data (either a single
string or a raw vector) to an EnergyPlus Input Data File
(IDF). If a file path, that file usually has a extension
<code>.idf</code>.</p></dd>


<dt><code>idd</code></dt>
<dd><p>Any acceptable input of <code><a href="use_idd.html">use_idd()</a></code>. If <code>NULL</code>, which is the
default, the version of IDF will be passed to <code><a href="use_idd.html">use_idd()</a></code>. If
the input is an <code>.ddy</code> file which does not have a version
field, the latest version of Idf cached will be used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>It takes an EnergyPlus Input Data File (IDF) as input and returns an
<code>Idf</code> object.</p>
<p>Currently, Imf file is not fully supported. All EpMacro lines will be treated
as normal comments of the nearest downwards object. If input is an Imf file,
a warning will be given during parsing. It is recommended to convert the Imf
file to an Idf file and use <a href="ParametricJob.html">ParametricJob</a> class to conduct
parametric analysis.</p>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An <code>Idf</code> object.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# example model shipped with eplusr from EnergyPlus v8.8
path_idf &lt;- system.file("extdata/1ZoneUncontrolled.idf", package = "eplusr") # v8.8

# If neither EnergyPlus v8.8 nor Idd v8.8 was found, error will
# occur. If Idd v8.8 is found, it will be used automatically.
idf &lt;- Idf$new(path_idf)

# argument `idd` can be specified explicitly using `use_idd()`
idf &lt;- Idf$new(path_idf, idd = use_idd(8.8))

# you can set `download` arugment to "auto" in `use_idd()` if you
# want to automatically download corresponding IDD file when
# necessary
idf &lt;- Idf$new(path_idf, use_idd(8.8, download = "auto"))

# Besides use a path to an IDF file, you can also provide IDF in literal
# string format
string_idf &lt;-
    "
    Version, 8.8;
    Building,
        Building;                !- Name
    "

Idf$new(string_idf, use_idd(8.8, download = "auto"))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-version"></a><div class="section">
<h3 id="method-version-">Method <code><a href="https://rdrr.io/r/base/Version.html" class="external-link">version()</a></code><a class="anchor" aria-label="anchor" href="#method-version-"></a></h3>
<p>Get the version of current <code>Idf</code></p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">version</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p><code>$version()</code> returns the version of current <code>Idf</code> in a
<code><a href="https://rdrr.io/r/base/numeric_version.html" class="external-link">base::numeric_version()</a></code> format. This makes it easy to direction
compare versions of different <code>Idf</code>s, e.g. <code>idf$version() &gt; 8.6</code> or
<code>idf1$version() &gt; idf2$version()</code>.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A <code><a href="https://rdrr.io/r/base/numeric_version.html" class="external-link">base::numeric_version()</a></code> object.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get version
idf$version()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-path"></a><div class="section">
<h3 id="method-path-">Method <code>path()</code><a class="anchor" aria-label="anchor" href="#method-path-"></a></h3>
<p>Get the file path of current <code>Idf</code></p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">path</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p><code>$path()</code> returns the full path of current <code>Idf</code> or <code>NULL</code> if the
<code>Idf</code> object is created using a character vector and not saved
locally.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>NULL</code> or a single string.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get path
idf$path()

# return `NULL` if Idf is not created from a file
Idf$new("Version, 8.8;\n")$path()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-group_name"></a><div class="section">
<h3 id="method-group-name-">Method <code>group_name()</code><a class="anchor" aria-label="anchor" href="#method-group-name-"></a></h3>
<p>Get names of groups</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">group_name</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">FALSE</span>, sorted <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>all</code></dt>
<dd><p>If <code>FALSE</code>, only names of groups in current <code>Idf</code> object
will be returned. If <code>TRUE</code>, all group names in the underlying
<a href="Idd.html">Idd</a> will be returned. Default: <code>FALSE</code>.</p></dd>


<dt><code>sorted</code></dt>
<dd><p>Only applicable when <code>all</code> is <code>FALSE</code>. If <code>TRUE</code>,
duplications in returned group or class names are removed, and
unique names are further sorted according to their occurrences
in the underlying <a href="Idd.html">Idd</a>. Default: <code>TRUE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p><code>$group_name()</code> returns names of groups current <code>Idf</code> contains or
the underlying <a href="Idd.html">Idd</a> object contains.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A character vector.</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get names of all groups Idf contains
idf$group_name()

# get group name of each object in Idf
idf$group_name(sorted = FALSE)

# get names of all available groups in underlying Idd
idf$group_name(all = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-class_name"></a><div class="section">
<h3 id="method-class-name-">Method <code>class_name()</code><a class="anchor" aria-label="anchor" href="#method-class-name-"></a></h3>
<p>Get names of classes</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">FALSE</span>, sorted <span class="op">=</span> <span class="cn">TRUE</span>, by_group <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>all</code></dt>
<dd><p>If <code>FALSE</code>, only names of classes in current <code>Idf</code> object
will be returned. If <code>TRUE</code>, all class names in the underlying
<a href="Idd.html">Idd</a> will be returned. Default: <code>FALSE</code>.</p></dd>


<dt><code>sorted</code></dt>
<dd><p>Only applicable when <code>all</code> is <code>FALSE</code>. If <code>TRUE</code>,
duplications in returned group or class names are removed, and
unique names are further sorted according to their occurrences
in the underlying <a href="Idd.html">Idd</a>. Default: <code>TRUE</code>.</p></dd>


<dt><code>by_group</code></dt>
<dd><p>Only applicable when <code>all</code> or <code>sorted</code> is <code>TRUE</code>. If
<code>TRUE</code>, a list is returned which separates class names by the
group they belong to.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p><code>$class_name()</code> returns names of classes current <code>Idf</code> contains or
the underlying <a href="Idd.html">Idd</a> object contains.</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A character vector if <code>by_group</code> is <code>FALSE</code> and a list of
character vectors when <code>by_group</code> is <code>TRUE</code>.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get names of all classes in Idf
idf$class_name()

# get names of all classes grouped by group names in Idf
idf$class_name(by_group = TRUE)

# get class name of each object in Idf
idf$class_name(sorted = FALSE)

# get names of all available classes in underlying Idd
idf$class_name(all = TRUE)

# get names of all available classes grouped by group names in
# underlying Idd
idf$class_name(all = TRUE, by_group = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_valid_group"></a><div class="section">
<h3 id="method-is-valid-group-">Method <code>is_valid_group()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-group-"></a></h3>
<p>Check if elements in input character vector are valid group names.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_valid_group</span><span class="op">(</span><span class="va">group</span>, all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>group</code></dt>
<dd><p>A character vector to check.</p></dd>


<dt><code>all</code></dt>
<dd><p>If <code>FALSE</code>, check if input characters are valid group names
for current <code>Idf</code>. If <code>TRUE</code>, check if input characters are
valid group names for underlying <a href="Idd.html">Idd</a>. Default: FALSE</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p><code>$is_valid_group()</code> returns <code>TRUE</code>s if given character vector
contains valid group names in the context of current <code>Idf</code> (when
<code>all</code> is <code>FALSE</code>) or current underlying <a href="Idd.html">Idd</a> (when <code>all</code> is <code>TRUE</code>).</p>
<p>Note that case-sensitive matching is performed, which means that
<code>"Location and Climate"</code> is a valid group name but <code>"location and climate"</code> is not.</p>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A logical vector with the same length as input character
vector.</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# check if input is a valid group name in current Idf
idf$is_valid_group(c("Schedules", "Compliance Objects"))

# check if input is a valid group name in underlying Idd
idf$is_valid_group(c("Schedules", "Compliance Objects"), all = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_valid_class"></a><div class="section">
<h3 id="method-is-valid-class-">Method <code>is_valid_class()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-class-"></a></h3>
<p>Check if elements in input character vector are valid class names.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_valid_class</span><span class="op">(</span><span class="va">class</span>, all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A character vector to check.</p></dd>


<dt><code>all</code></dt>
<dd><p>If <code>FALSE</code>, check if input characters are valid class names
for current <code>Idf</code>. If <code>TRUE</code>, check if input characters are
valid class names for underlying <a href="Idd.html">Idd</a>. Default: FALSE</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p><code>$is_valid_class()</code> returns <code>TRUE</code>s if given character vector
contains valid class names in the context of current <code>Idf</code> (when
<code>all</code> is <code>FALSE</code>) or current underlying <a href="Idd.html">Idd</a> (when <code>all</code> is <code>TRUE</code>),
and <code>FALSE</code>s otherwise.</p>
<p>Note that case-sensitive matching is performed, which means that
<code>"Version"</code> is a valid class name but <code>"version"</code> is not.</p>
</div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A logical vector with the same length as input character
vector.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# check if input is a valid class name in current Idf
idf$is_valid_class(c("Building", "ShadowCalculation"))

# check if input is a valid class name in underlying Idd
idf$is_valid_class(c("Building", "ShadowCalculation"), all = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-definition"></a><div class="section">
<h3 id="method-definition-">Method <code>definition()</code><a class="anchor" aria-label="anchor" href="#method-definition-"></a></h3>
<p>Get the <a href="IddObject.html">IddObject</a> object for specified class.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">definition</span><span class="op">(</span>class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A <strong>single</strong> string of valid class name in current
<a href="Idd.html">Idd</a>. If <code>NULL</code>, the underlying <a href="Idd.html">Idd</a> object is returned.
Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p><code>$definition()</code> returns an <a href="IddObject.html">IddObject</a> of given class. <a href="IddObject.html">IddObject</a>
contains all data used for parsing and creating an <a href="IdfObject.html">IdfObject</a>. For
details, please see <a href="IddObject.html">IddObject</a> class.</p>
</div>

<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>An <a href="IddObject.html">IddObject</a> object if class is not <code>NULL</code> or an <a href="Idd.html">Idd</a>
object if class is <code>NULL</code>.</p>
</div>
<div class="section">
<h4 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get the IddObject object for specified class
idf$definition("Version")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object_id"></a><div class="section">
<h3 id="method-object-id-">Method <code>object_id()</code><a class="anchor" aria-label="anchor" href="#method-object-id-"></a></h3>
<p>Get the unique ID for each object in specified classes in the <code>Idf</code>.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span>class <span class="op">=</span> <span class="cn">NULL</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A character vector that contains valid class names for
current <code>Idf</code> object. If <code>NULL</code>, all classes in current <code>Idf</code>
object are used. Default: <code>NULL</code>.</p></dd>


<dt><code>simplify</code></dt>
<dd><p>If <code>TRUE</code>, an integer vector contains object IDs of
all specified classes is returned. If <code>FALSE</code>, a named list
that contains object IDs for each specified class is returned.
Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-8">Details<a class="anchor" aria-label="anchor" href="#details-8"></a></h4>
<p>In <code>Idf</code>, each object is assigned with an integer as an universally
unique identifier (UUID) in the context of current <code>Idf</code>. UUID is
not reused even if the object associated is deleted.</p>
<p><code>$object_id()</code> returns an integer vector (when <code>simplify</code> is <code>TRUE</code>)
or a named list (when <code>simplify</code> is <code>FALSE</code>) of integer vectors that
contain object IDs in each specified class. The returned list is
named using specified class names.</p>
</div>

<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>An integer vector (when <code>simplify</code> is <code>TRUE</code>) or a named list
of integer vectors (when <code>simplify</code> is <code>FALSE</code>).</p>
</div>
<div class="section">
<h4 id="examples-8">Examples<a class="anchor" aria-label="anchor" href="#examples-8"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get IDs of all objects in current Idf object
idf$object_id()

# get IDs of all objects in current Idf object, and merge them into a
# single integer vector
idf$object_id(simplify = TRUE)

# get IDs of objects in class Version and Zone
idf$object_id(c("Version", "Zone"))

# get IDs of objects in class Version and Zone, and merge them into a
# single integer vector
idf$object_id(c("Version", "Zone"), simplify = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object_name"></a><div class="section">
<h3 id="method-object-name-">Method <code>object_name()</code><a class="anchor" aria-label="anchor" href="#method-object-name-"></a></h3>
<p>Get names for objects in specified classes in the <code>Idf</code>.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span>class <span class="op">=</span> <span class="cn">NULL</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A character vector that contains valid class names for
current <code>Idf</code>. If <code>NULL</code>, all classes in current <code>Idf</code> are
used. Default: <code>NULL</code>.</p></dd>


<dt><code>simplify</code></dt>
<dd><p>If <code>TRUE</code>, a character vector contains object names
of all specified classes is returned. If <code>FALSE</code>, a named list
that contains a character vector for each specified class is
returned. Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-9">Details<a class="anchor" aria-label="anchor" href="#details-9"></a></h4>
<p>In <code>Idf</code>, each object is assigned with a single string as the name
for it, if the class it belongs to has name attribute, e.g. class
<code>RunPeriod</code>, <code>Material</code> and etc. That name should be unique among all
objects in that class. EnergyPlus will fail with an error if
duplications are found among object names in a class.</p>
<p><code>$object_name()</code> returns a character vector (when <code>simplify</code> is
<code>TRUE</code>) or a named list (when <code>simplify</code> is <code>FALSE</code>) of character
vectors that contain object IDs in each specified class. The returned
list is named using specified class names. If specified class does
not have name attribute, <code>NA</code>s are returned.</p>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>A character vector (when <code>simplify</code> is <code>TRUE</code>) or a named
list of character vectors (when <code>simplify</code> is <code>FALSE</code>).</p>
</div>
<div class="section">
<h4 id="examples-9">Examples<a class="anchor" aria-label="anchor" href="#examples-9"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get names of all objects in current Idf object
idf$object_name()

# get names of all objects in current Idf object, and merge them into
# a single character vector
idf$object_name(simplify = TRUE)

# get names of objects in class Version and Zone
idf$object_name(c("Version", "Zone"))

# get names of objects in class Version and Zone, and merge them into
# a single character vector
idf$object_name(c("Version", "Zone"), simplify = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object_num"></a><div class="section">
<h3 id="method-object-num-">Method <code>object_num()</code><a class="anchor" aria-label="anchor" href="#method-object-num-"></a></h3>
<p>Get number of objects in specified classes in the Idf object.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object_num</span><span class="op">(</span>class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A character vector that contains valid class names for
underlying <a href="Idd.html">Idd</a>. If <code>NULL</code>, all classes in current <code>Idf</code> are
used, and the total object number is returned. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-10">Details<a class="anchor" aria-label="anchor" href="#details-10"></a></h4>
<p><code>$object_num()</code> returns an integer vector of object number in
specified classes. <code>0</code> is returned if there is no object in that
class.</p>
</div>

<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>An integer vector.</p>
</div>
<div class="section">
<h4 id="examples-10">Examples<a class="anchor" aria-label="anchor" href="#examples-10"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get total number of objects
idf$object_num()

# get number of objects in class Zone and Schedule:Compact
idf$object_num(c("Zone", "Schedule:Compact"))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_valid_id"></a><div class="section">
<h3 id="method-is-valid-id-">Method <code>is_valid_id()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-id-"></a></h3>
<p>Check if elements in input integer vector are valid object IDs.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_valid_id</span><span class="op">(</span><span class="va">id</span>, class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>An integer vector to check.</p></dd>


<dt><code>class</code></dt>
<dd><p>A single string indicates the class where the objects to
check against. If <code>NULL</code>, all classes in current <code>Idf</code> are
used. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-11">Details<a class="anchor" aria-label="anchor" href="#details-11"></a></h4>
<p><code>$is_valid_id()</code> returns <code>TRUE</code>s if given integer vector
contains valid object IDs in current <code>Idf</code> object.</p>
</div>

<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>A logical vector with the same length as input integer
vector.</p>
</div>
<div class="section">
<h4 id="examples-11">Examples<a class="anchor" aria-label="anchor" href="#examples-11"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$is_valid_id(c(51, 1000))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_valid_name"></a><div class="section">
<h3 id="method-is-valid-name-">Method <code>is_valid_name()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-name-"></a></h3>
<p>Check if elements in input character vector are valid object names.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_valid_name</span><span class="op">(</span><span class="va">name</span>, class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>A character vector to check.</p></dd>


<dt><code>class</code></dt>
<dd><p>A single string indicates the class where the objects to
check against. If <code>NULL</code>, all classes in current <code>Idf</code> are
used. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-12">Details<a class="anchor" aria-label="anchor" href="#details-12"></a></h4>
<p><code>$is_valid_name()</code> returns <code>TRUE</code>s if given character vector
contains valid object names in current <code>Idf</code> object.</p>
<p>Note that <strong>case-insensitive</strong> matching is performed, which means
that <code>"rOoF"</code> is equivalent to <code>"roof"</code>. This behavior is consistent
in all methods that take object name(s) as input.</p>
</div>

<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>A logical vector with the same length as input character
vector.</p>
</div>
<div class="section">
<h4 id="examples-12">Examples<a class="anchor" aria-label="anchor" href="#examples-12"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$is_valid_name(c("Simple One Zone (Wireframe DXF)", "ZONE ONE", "a"))

# name matching is case-insensitive
idf$is_valid_name(c("simple one zone (wireframe dxf)", "zone one", "a"))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object"></a><div class="section">
<h3 id="method-object-">Method <code>object()</code><a class="anchor" aria-label="anchor" href="#method-object-"></a></h3>
<p>Extract an <a href="IdfObject.html">IdfObject</a> object using object ID or name.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object</span><span class="op">(</span><span class="va">which</span>, class <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>A single integer specifying the object ID or a single
string specifying the object name.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector that contains valid class names for
current <code>Idf</code> object used to locate objects. If <code>NULL</code>, all
classes in current <code>Idf</code> object are used. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-13">Details<a class="anchor" aria-label="anchor" href="#details-13"></a></h4>
<p><code>$object()</code> returns an <a href="IdfObject.html">IdfObject</a> object specified by an object ID
or name.</p>
<p>Note that unlike object ID, which is always unique across the whole
<code>Idf</code> object, different objects can have the same name. If the name
given matches multiple objects, an error is issued showing what
objects are matched by the same name. This behavior is consistent in
all methods that take object name(s) as input. In this case, it is
suggested to directly use object ID instead of name.</p>
<p>Note that <strong>case-insensitive</strong> matching is performed for object
names, which means that <code>"rOoF"</code> is equivalent to <code>"roof"</code>. This
behavior is consistent in all methods that take object name(s) as
input.</p>
</div>

<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>An <a href="IdfObject.html">IdfObject</a> object.</p>
</div>
<div class="section">
<h4 id="examples-13">Examples<a class="anchor" aria-label="anchor" href="#examples-13"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get an object whose ID is 3
idf$object(3)

# get an object whose name is "simple one zone (wireframe dxf)"
# NOTE: object name matching is case-insensitive
idf$object("simple one zone (wireframe dxf)")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-objects"></a><div class="section">
<h3 id="method-objects-">Method <code><a href="https://rdrr.io/r/base/ls.html" class="external-link">objects()</a></code><a class="anchor" aria-label="anchor" href="#method-objects-"></a></h3>
<p>Extract multiple <a href="IdfObject.html">IdfObject</a> objects using object IDs or names.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="va">which</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>An integer vector specifying object IDs or a character
vector specifying object names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-14">Details<a class="anchor" aria-label="anchor" href="#details-14"></a></h4>
<p><code>$objects()</code> returns a named list of <a href="IdfObject.html">IdfObject</a> objects using object
IDS or names. The returned list is named using object names.</p>
<p>Note that unlike object ID, which is always unique across the whole
<code>Idf</code> object, different objects can have the same name. If the name
given matches multiple objects, an error is issued showing what
objects are matched by the same name. This behavior is consistent in
all methods that take object name(s) as input. In this case, it is
suggested to directly use object ID instead of name.</p>
<p>Note that <strong>case-insensitive</strong> matching is performed for object
names, which means that <code>"rOoF"</code> is equivalent to <code>"roof"</code>. This
behavior is consistent in all methods that take object name(s) as
input.</p>
</div>

<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-14">Examples<a class="anchor" aria-label="anchor" href="#examples-14"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get objects whose IDs are 3 and 10
idf$objects(c(3,10))

# get objects whose names are "Simple One Zone (Wireframe DXF)" and "ZONE ONE"
# NOTE: object name matching is case-insensitive
idf$objects(c("Simple One Zone (Wireframe DXF)", "zone one"))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object_unique"></a><div class="section">
<h3 id="method-object-unique-">Method <code>object_unique()</code><a class="anchor" aria-label="anchor" href="#method-object-unique-"></a></h3>
<p>Extract the <a href="IdfObject.html">IdfObject</a> in class with <code>unique-object</code> attribute.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object_unique</span><span class="op">(</span><span class="va">class</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A single string of valid class name for current <code>Idf</code>
object.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-15">Details<a class="anchor" aria-label="anchor" href="#details-15"></a></h4>
<p>For each version of an <code>Idf</code> object, the corresponding underlying
<a href="Idd.html">Idd</a> describe how many objects can be defined in each class. Classes
that have <code>unique-object</code> attribute can only hold a single object,
e.g. <code>Version</code>, <code>SimulationControl</code> and etc. <code>$object_unique()</code> can
be used to directly return the <a href="IdfObject.html">IdfObject</a> in one <code>unique-object</code>
class. An error will be issued if there are multiple objects in that
class or input class is not an <code>unique-object</code> class. This makes sure
that <code>$object_unique()</code> always returns a single <a href="IdfObject.html">IdfObject</a>.</p>
<p><code>Idf</code> class also provides custom S3 method of <code>$</code> and <code>[[</code> to
make it more convenient to get the <a href="IdfObject.html">IdfObject</a> in <code>unique-object</code>
class. Basically, <code>idf$ClassName</code> and <code>idf[["ClassName"]]</code>,
where <code>ClassName</code> is a single valid class name, is equivalent to
<code>idf$object_unique(ClassName)</code> if <code>ClassName</code> is an <code>unique-object</code>
class. For convenience, underscore-style names are allowed when using
<code>$</code>, e.g.  <code>Site_Location</code> is equivalent to <code>Site:Location</code>. For
instance, <code>idf$Site_Location</code> and also <code>idf[["Site_Location"]]</code> will
both return the <a href="IdfObject.html">IdfObject</a>s in <code>Site:Location</code> class. Note that
unlike <code>$object_unique()</code>, <code>idf$ClassName</code> and <code>idf[["ClassName"]]</code>
will directly return <code>NULL</code> instead of giving an error when
<code>ClassName</code> is not a valid class name in current <code>Idf</code> object. This
makes it possible to use <code>is.null(idf$ClassName)</code> to check if
<code>ClassName</code> is a valid class or not.</p>
</div>

<div class="section">
<h4 id="returns-15">Returns<a class="anchor" aria-label="anchor" href="#returns-15"></a></h4>
<p>An <a href="IdfObject.html">IdfObject</a> object.</p>
</div>
<div class="section">
<h4 id="examples-15">Examples<a class="anchor" aria-label="anchor" href="#examples-15"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get the SimulationColtrol object
idf$object_unique("SimulationControl")

# S3 "[[" and "$" can also be used
idf$SimulationControl
idf[["SimulationControl"]]
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-objects_in_class"></a><div class="section">
<h3 id="method-objects-in-class-">Method <code>objects_in_class()</code><a class="anchor" aria-label="anchor" href="#method-objects-in-class-"></a></h3>
<p>Extract all <a href="IdfObject.html">IdfObject</a> objects in one class.</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">objects_in_class</span><span class="op">(</span><span class="va">class</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>class</code></dt>
<dd><p>A single string of valid class name for current <code>Idf</code>
object.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-16">Details<a class="anchor" aria-label="anchor" href="#details-16"></a></h4>
<p><code>$objects_in_class()</code> returns a named list of all <a href="IdfObject.html">IdfObject</a> objects
in specified class. The returned list is named using object names.</p>
<p><code>Idf</code> class also provides custom S3 method of <code>$</code> and <code>[[</code> to
make it more convenient to get all <a href="IdfObject.html">IdfObject</a> objects in one class.
Basically, <code>idf$ClassName</code> and <code>idf[["ClassName"]]</code>, where
<code>ClassName</code> is a single valid class name, is equivalent to
<code>idf$objects_in_class(ClassName)</code> if <code>ClassName</code> is not an
<code>unique-object</code> class. For convenience, <em>underscore-style</em> names are
allowed, e.g.  <code>BuildingSurface_Detailed</code> is equivalent to
<code>BuildingSurface:Detailed</code> when using <code>$</code>. For instance,
<code>idf$BuildingSurface_Detailed</code> and also
<code>idf[["BuildingSurface:Detailed"]]</code> will both return all <a href="IdfObject.html">IdfObject</a>
objects in <code>BuildingSurface:Detailed</code> class. Note that
unlike <code>$objects_in_class()</code>, <code>idf$ClassName</code> and
<code>idf[["ClassName"]]</code> will directly return <code>NULL</code> instead of giving
an error when <code>ClassName</code> is not a valid class name in current <code>Idf</code>
object. This makes it possible to use <code>is.null(idf$ClassName)</code> to
check if <code>ClassName</code> is a valid class or not.</p>
</div>

<div class="section">
<h4 id="returns-16">Returns<a class="anchor" aria-label="anchor" href="#returns-16"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-16">Examples<a class="anchor" aria-label="anchor" href="#examples-16"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get all objects in Zone class
idf$objects_in_class("Zone")

# S3 "[[" and "$" can also be used
idf$Zone
idf[["Zone"]]
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-objects_in_group"></a><div class="section">
<h3 id="method-objects-in-group-">Method <code>objects_in_group()</code><a class="anchor" aria-label="anchor" href="#method-objects-in-group-"></a></h3>
<p>Extract all <a href="IdfObject.html">IdfObject</a> objects in one group.</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">objects_in_group</span><span class="op">(</span><span class="va">group</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>group</code></dt>
<dd><p>A single string of valid group name for current <code>Idf</code>
object.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-17">Details<a class="anchor" aria-label="anchor" href="#details-17"></a></h4>
<p><code>$objects_in_group()</code> returns a named list of all <a href="IdfObject.html">IdfObject</a> objects
in specified group. The returned list is named using object names.</p>
</div>

<div class="section">
<h4 id="returns-17">Returns<a class="anchor" aria-label="anchor" href="#returns-17"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-17">Examples<a class="anchor" aria-label="anchor" href="#examples-17"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get all objects in Schedules group
idf$objects_in_group("Schedules")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-object_relation"></a><div class="section">
<h3 id="method-object-relation-">Method <code>object_relation()</code><a class="anchor" aria-label="anchor" href="#method-object-relation-"></a></h3>
<p>Extract the relationship between object field values.</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">object_relation</span><span class="op">(</span>
  <span class="va">which</span>,
  direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"ref_to"</span>, <span class="st">"ref_by"</span>, <span class="st">"node"</span><span class="op">)</span>,
  object <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  group <span class="op">=</span> <span class="cn">NULL</span>,
  depth <span class="op">=</span> <span class="fl">0L</span>,
  keep <span class="op">=</span> <span class="cn">FALSE</span>,
  class_ref <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"none"</span>, <span class="st">"all"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-16">Arguments<a class="anchor" aria-label="anchor" href="#arguments-16"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>A single integer specifying object ID or a single string
specifying object name.</p></dd>


<dt><code>direction</code></dt>
<dd><p>The relation direction to extract. Should be either
<code>"all"</code>, <code>"ref_to"</code>, <code>"ref_by"</code> and <code>"node"</code>.</p></dd>


<dt><code>object</code></dt>
<dd><p>A character vector of object names or an integer vector
of object IDs used for searching relations. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of class names used for searching
relations. Default: <code>NULL</code>.</p></dd>


<dt><code>group</code></dt>
<dd><p>A character vector of group names used for searching
relations. Default: <code>NULL</code>.</p></dd>


<dt><code>depth</code></dt>
<dd><p>If &gt; 0, the relation is searched recursively. A
simple example of recursive reference: one material named
<code>mat</code> is referred by a construction named <code>const</code>, and <code>const</code>
is also referred by a surface named <code>surf</code>. If <code>NULL</code>,
all possible recursive relations are returned. Default: <code>0</code>.</p></dd>


<dt><code>keep</code></dt>
<dd><p>If <code>TRUE</code>, all fields of specified object are returned
regardless they have any relations with other objects or not.
If <code>FALSE</code>, only fields in specified object that have
relations with other objects are returned. Default: <code>FALSE</code>.</p></dd>


<dt><code>class_ref</code></dt>
<dd><p>Specify how to handle class-name-references. Class
name references refer to references in like field <code>Component 1 Object Type</code> in <code>Branch</code> objects. Their value refers to other
many class names of objects, instaed of referring to specific
field values. There are 3 options in total, i.e. <code>"none"</code>,
<code>"both"</code> and <code>"all"</code>, with <code>"both"</code> being the default.
* <code>"none"</code>: just ignore class-name-references. It is a reasonable
option, as for most cases, class-name-references always come
along with field value references. Ignoring
class-name-references will not impact the most part of the
relation structure.
* <code>"both"</code>: only include class-name-references if this object
also reference field values of the same one. For example, if the
value of field <code>Component 1 Object Type</code> is
<code>Coil:Heating:Water</code>, only the object that is referenced in the
next field <code>Component 1 Name</code> is treated as referenced by
<code>Component 1 Object Type</code>. This is the default option.
* <code>"all"</code>: include all class-name-references. For example, if the
value of field <code>Component 1 Object Type</code> is
<code>Coil:Heating:Water</code>, all objects in <code>Coil:Heating:Water</code> will
be treated as referenced by that field. This is the most
aggressive option.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-18">Details<a class="anchor" aria-label="anchor" href="#details-18"></a></h4>
<p>Many fields in <a href="Idd.html">Idd</a> can be referred by others. For example, the
<code>Outside Layer</code> and other fields in <code>Construction</code> class refer to the
<code>Name</code> field in <code>Material</code> class and other material related classes.
Here it means that the <code>Outside Layer</code> field <strong>refers to</strong> the <code>Name</code>
field and the <code>Name</code> field is <strong>referred by</strong> the <code>Outside Layer</code>. In
EnergyPlus, there is also a special type of field called <code>Node</code>,
which together with <code>Branch</code>, <code>BranchList</code> and other classes define
the topography of the HVAC connections. A outlet node of a component
can be referred by another component as its inlet node, but can also
exists independently, such as zone air node.</p>
<p><code>$object_relation()</code> provides a simple interface to get this kind of
relation. It takes a single object ID or name and also a relation
direction, and returns an <code>IdfRelation</code> object which contains data
presenting such relation above. For instance, if
<code>model$object_relation("WALL-1", "ref_to")</code> gives results below:</p><div class="sourceCode"><pre><code>-- Refer to Others ------------------------
  Class: &lt;Construction&gt;
  \- Object [ID:2] &lt;WALL-1&gt;
     \- 2: "WD01";        !- Outside Layer
        v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        \- Class: &lt;Material&gt;
           \- Object [ID:1] &lt;WD01&gt;
              \- 1: "WD01";        !- Name
</code></pre></div>

<p>This means that the value <code>"WD01"</code> of <code>Outside Layer</code> in a
construction named <code>WALL-1</code> refers to a material named <code>WD01</code>. All
those objects can be further easily extracted using
<code>$objects_in_relation()</code> method described below.</p>
</div>

<div class="section">
<h4 id="returns-18">Returns<a class="anchor" aria-label="anchor" href="#returns-18"></a></h4>
<p>An <code>IdfRelation</code> object, which is a list of 3
<code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>s named <code>ref_to</code>, <code>ref_by</code> and <code>node</code>.
Each <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> contains 24 columns.</p>
</div>
<div class="section">
<h4 id="examples-18">Examples<a class="anchor" aria-label="anchor" href="#examples-18"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# check each layer's reference of a construction named FLOOR
idf$object_relation("floor", "ref_to")

# check where is this construction being used
idf$object_relation("floor", "ref_by")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-objects_in_relation"></a><div class="section">
<h3 id="method-objects-in-relation-">Method <code>objects_in_relation()</code><a class="anchor" aria-label="anchor" href="#method-objects-in-relation-"></a></h3>
<p>Extract multiple <a href="IdfObject.html">IdfObject</a> objects referencing each others.</p><div class="section">
<h4 id="usage-19">Usage<a class="anchor" aria-label="anchor" href="#usage-19"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">objects_in_relation</span><span class="op">(</span>
  <span class="va">which</span>,
  direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ref_to"</span>, <span class="st">"ref_by"</span>, <span class="st">"node"</span><span class="op">)</span>,
  object <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  group <span class="op">=</span> <span class="cn">NULL</span>,
  depth <span class="op">=</span> <span class="fl">0L</span>,
  class_ref <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"none"</span>, <span class="st">"all"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-17">Arguments<a class="anchor" aria-label="anchor" href="#arguments-17"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>A single integer specifying object ID or a single string
specifying object name.</p></dd>


<dt><code>direction</code></dt>
<dd><p>The relation direction to extract. Should be one of
<code>"ref_to"</code>, <code>"ref_by"</code> or <code>"node"</code>.</p></dd>


<dt><code>object</code></dt>
<dd><p>A character vector of object names or an integer vector
of object IDs used for searching relations. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of valid class names in the
underlying <a href="Idd.html">Idd</a>. It is used to restrict the classes to be
returned. If <code>NULL</code>, all possible classes are considered and
corresponding <a href="IdfObject.html">IdfObject</a> objects are returned if
relationships are found. Default: <code>NULL</code>.</p></dd>


<dt><code>group</code></dt>
<dd><p>A character vector of valid group names in the
underlying <a href="Idd.html">Idd</a>. It is used to restrict the groups to be
returned. If <code>NULL</code>, all possible groups are considered and
corresponding <a href="IdfObject.html">IdfObject</a> objects are returned if
relationships are found. Default: <code>NULL</code>.</p></dd>


<dt><code>depth</code></dt>
<dd><p>If &gt; 0, the relation is searched recursively. A
simple example of recursive reference: one material named
<code>mat</code> is referred by a construction named <code>const</code>, and <code>const</code>
is also referred by a surface named <code>surf</code>. If <code>NULL</code>,
all possible recursive relations are returned. Default: <code>0</code>.</p></dd>


<dt><code>class_ref</code></dt>
<dd><p>Specify how to handle class-name-references. Class
name references refer to references in like field <code>Component 1 Object Type</code> in <code>Branch</code> objects. Their value refers to other
many class names of objects, instaed of refering to specific
field values. There are 3 options in total, i.e. <code>"none"</code>,
<code>"both"</code> and <code>"all"</code>, with <code>"both"</code> being the default.
* <code>"none"</code>: just ignore class-name-references. It is a reasonable
option, as for most cases, class-name-references always come
along with field value references. Ignoring
class-name-references will not impact the most part of the
relation structure.
* <code>"both"</code>: only include class-name-references if this object
also reference field values of the same one. For example, if the
value of field <code>Component 1 Object Type</code> is
<code>Coil:Heating:Water</code>, only the object that is referenced in the
next field <code>Component 1 Name</code> is treated as referenced by
<code>Component 1 Object Type</code>. This is the default option.
* <code>"all"</code>: include all class-name-references. For example, if the
value of field <code>Component 1 Object Type</code> is
<code>Coil:Heating:Water</code>, all objects in <code>Coil:Heating:Water</code> will
be treated as referenced by that field. This is the most
aggressive option.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-19">Details<a class="anchor" aria-label="anchor" href="#details-19"></a></h4>
<p><code>$objects_in_relation()</code> returns a named list of <a href="IdfObject.html">IdfObject</a> objects
that have specified relationship with given object. The first element of
returned list is always the specified object itself. If that
object does not have specified relationship with other objects in
specified <code>class</code>, a list that only contains specified object itself
is returned.</p>
<p>For instance, assuming that <code>const</code> is a valid object name in
<code>Construction</code> class, <code>idf$objects_in_relation("const", "ref_by", "BuildingSurface:Detailed")</code>
will return a named list of an <a href="IdfObject.html">IdfObject</a> object named <code>const</code> and
also all other <a href="IdfObject.html">IdfObject</a> objects in <code>BuildingSurface:Detailed</code>
class that refer to field values in <code>const</code>. Similarly,
<code>idf$objects_in_relation("const", "ref_to", "Material")</code>
will return a named list of an <a href="IdfObject.html">IdfObject</a> object named <code>const</code> and
also all other <a href="IdfObject.html">IdfObject</a> objects in <code>Material</code> class that <code>const</code>
refers to. This makes it easy to directly extract groups of related
objects and then use <code>$insert()</code> method or other methods
described below to insert them or extract data.</p>
<p>There are lots of recursive references in a model. For instance, a
material can be referred by a construction, that construction can be
referred by a building surface, and that building surface can be
referred by a window on that surface. These objects related
recursively can be extracted by setting <code>recursive</code> to <code>TRUE</code>.</p>
</div>

<div class="section">
<h4 id="returns-19">Returns<a class="anchor" aria-label="anchor" href="#returns-19"></a></h4>
<p>An named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-19">Examples<a class="anchor" aria-label="anchor" href="#examples-19"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get a construction named FLOOR and all materials it uses
idf$objects_in_relation("floor", "ref_to")

# get a construction named FLOOR and all surfaces that uses it
idf$objects_in_relation("floor", "ref_by", class = "BuildingSurface:Detailed")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-search_object"></a><div class="section">
<h3 id="method-search-object-">Method <code>search_object()</code><a class="anchor" aria-label="anchor" href="#method-search-object-"></a></h3>
<p>Extract multiple <a href="IdfObject.html">IdfObject</a> objects using regular expression on
names.</p><div class="section">
<h4 id="usage-20">Usage<a class="anchor" aria-label="anchor" href="#usage-20"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">search_object</span><span class="op">(</span>
  <span class="va">pattern</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  ignore.case <span class="op">=</span> <span class="cn">FALSE</span>,
  perl <span class="op">=</span> <span class="cn">FALSE</span>,
  fixed <span class="op">=</span> <span class="cn">FALSE</span>,
  useBytes <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-18">Arguments<a class="anchor" aria-label="anchor" href="#arguments-18"></a></h4>
<p></p><div class="arguments"><dl><dt><code>pattern, ignore.case, perl, fixed, useBytes</code></dt>
<dd><p>All are directly
passed to <a href="https://rdrr.io/r/base/grep.html" class="external-link">base::grepl</a>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of valid class names in the
underlying <a href="Idd.html">Idd</a>. It is used to restrict the classes to be
returned. If <code>NULL</code>, all possible classes are considered and
corresponding <a href="IdfObject.html">IdfObject</a> objects are returned if
<code>pattern</code> is met Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-20">Details<a class="anchor" aria-label="anchor" href="#details-20"></a></h4>
<p><code>$search_object()</code> returns a named list of <a href="IdfObject.html">IdfObject</a> objects whose
names meet the given regular expression in specified classes.</p>
</div>

<div class="section">
<h4 id="returns-20">Returns<a class="anchor" aria-label="anchor" href="#returns-20"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-20">Examples<a class="anchor" aria-label="anchor" href="#examples-20"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get all objects whose names contains "floor"
idf$search_object("floor", ignore.case = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-dup"></a><div class="section">
<h3 id="method-dup-">Method <code>dup()</code><a class="anchor" aria-label="anchor" href="#method-dup-"></a></h3>
<p>Duplicate existing objects.</p><div class="section">
<h4 id="usage-21">Usage<a class="anchor" aria-label="anchor" href="#usage-21"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">dup</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-19">Arguments<a class="anchor" aria-label="anchor" href="#arguments-19"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Integer vectors of object IDs and character vectors of
object names. If input is named, its name will be used as the
name of newly created objects.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-21">Details<a class="anchor" aria-label="anchor" href="#details-21"></a></h4>
<p><code>$dup()</code> takes integer vectors of object IDs and character vectors of
object names, duplicates objects specified, and returns a list of
newly created <a href="IdfObject.html">IdfObject</a> objects. The names of input are used as new
names for created <a href="IdfObject.html">IdfObject</a>s. If input is not named, new names are
the names of duplicated objects with a suffix <code>"_1"</code>, <code>"_2"</code> and etc,
depending on how many times that object has been duplicated. Note an
error will be issued if trying to assign a new name to an object
which belongs to a class that does not have name attribute.</p>
<p>Assigning newly added objects with an existing name in current <code>Idf</code>
object is prohibited if current validation level includes object name
conflicting checking. For details, please see <code><a href="level_checks.html">level_checks()</a></code>.</p>
</div>

<div class="section">
<h4 id="returns-21">Returns<a class="anchor" aria-label="anchor" href="#returns-21"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-21">Examples<a class="anchor" aria-label="anchor" href="#examples-21"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# duplicate an object named "FLOOR"
idf$dup("floor") # New object name 'FLOOR_1' is auto-generated

# duplicate that object again by specifing object ID
idf$dup(16) # New object name 'FLOOR_2' is auto-generated

# duplicate that object two times and giving new names
idf$dup(new_floor = "floor", new_floor2 = 16)

# duplicate that object multiple times using variable inputs
floors_1 &lt;- c(new_floor3 = "floor", new_floor4 = "floor")
floors_2 &lt;- setNames(rep(16, 5), paste0("flr", 1:5))
idf$dup(floors_1, floors_2)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-add"></a><div class="section">
<h3 id="method-add-">Method <code>add()</code><a class="anchor" aria-label="anchor" href="#method-add-"></a></h3>
<p>Add new objects.</p><div class="section">
<h4 id="usage-22">Usage<a class="anchor" aria-label="anchor" href="#usage-22"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">...</span>, .default <span class="op">=</span> <span class="cn">TRUE</span>, .all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-20">Arguments<a class="anchor" aria-label="anchor" href="#arguments-20"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Lists of object definitions. Each list should be named
with a valid class name. There is a special element <code>.comment</code>
in each list, which will be used as the comments of newly
added object.</p></dd>


<dt><code>.default</code></dt>
<dd><p>If <code>TRUE</code>, default values are used for those blank
fields if possible. If <code>FALSE</code>, empty fields are kept blank.
Default: <code>TRUE</code>.</p></dd>


<dt><code>.all</code></dt>
<dd><p>If <code>TRUE</code>, all fields are added. If <code>FALSE</code>, only minimum
required fields are added. Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-22">Details<a class="anchor" aria-label="anchor" href="#details-22"></a></h4>
<p><code>$add()</code> takes new object definitions in list format, adds
corresponding objects in specified classes, returns a list of newly
added <a href="IdfObject.html">IdfObject</a> objects. The returned list will be named using
newly added object names. Every list should be named using a valid
class name.  Underscore-style class name is allowed for class name.
Names in each list element are treated as field names. Values without
names will be inserted according to their position. There is a
special element named <code>.comment</code> in each list, which will be used as
the comments of newly added object.</p>
<p>Empty objects can be added using an empty list, e.g.
<code>idf$add(Building = list())</code>. All empty fields will be filled with
corresponding default value if <code>.default</code> is <code>TRUE</code>, leaving other
fields as blanks. However, adding blank objects may not be allowed if
there are required fields in that class and current validate level
includes missing-required-field checking. For what kind of validation
components will be performed during adding new objects, please see
<code><a href="level_checks.html">level_checks()</a></code>.</p>
<p>Note that <code>.()</code> can be used as an alias as <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, e.g.
<code>idf$add(Building = .())</code> is equivalent to
<code>idf$add(Building = list())</code>.</p>
<p>Field name matching is <strong>case-insensitive</strong>. For convenience,
underscore-style field names are also allowed, e.g. <code>eNd_MoNtH</code> is
equivalent to <code>End Month</code>. This behavior is consistent among all
methods that take field names as input.</p>
<p>There is no need to give all field values if only specific fields are
interested, as long as other fields are not required. For example, to
define a new object in <code>RunPeriod</code> class, the following is enough (at
least for EnergyPlus v8.8):</p><div class="sourceCode"><pre><code><span class="va">idf</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span>
    RunPeriod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
        <span class="st">"my run period"</span>,
        begin_month <span class="op">=</span> <span class="fl">1</span>, begin_day_of_month <span class="op">=</span> <span class="fl">1</span>,
        end_month <span class="op">=</span> <span class="fl">1</span>, end_day_of_month <span class="op">=</span> <span class="fl">31</span>
    <span class="op">)</span>,
    .default <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>

<p>If not all field names are given, positions of those values without
field names are determined after those values with names. E.g. in
<code>idf$add(Construction = list("out_layer", name = "name"))</code>,
<code>"out_layer"</code> will be treated as the value for field <code>Outside Layer</code>
in <code>Construction</code> class, since the value for field <code>Name</code> has been
specified using explicit field name.</p>
</div>

<div class="section">
<h4 id="returns-22">Returns<a class="anchor" aria-label="anchor" href="#returns-22"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-22">Examples<a class="anchor" aria-label="anchor" href="#examples-22"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# add a new Building object with all default values
empty &lt;- empty_idf(8.8) # create an empty Idf
empty$add(Building = .())

# add a new Building object with all default values and comments
empty &lt;- empty_idf(8.8) # create an empty Idf
empty$add(Building = .(.comment = c("this is", "a new building")))

# add a new RunPeriod object with all possible fields
empty &lt;- empty_idf(8.8) # create an empty Idf
empty$add(Building = list(), RunPeriod = list("rp", 1, 1, 1, 31), .all = TRUE)

# add objects using variable inputs
empty &lt;- empty_idf(8.8) # create an empty Idf
objs1 &lt;- list(Schedule_Constant = list("const"), Building = list())
rp &lt;- list(RunPeriod = list("rp", 2, 1, 2, 28))
empty$add(objs1, rp)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-set"></a><div class="section">
<h3 id="method-set-">Method <code>set()</code><a class="anchor" aria-label="anchor" href="#method-set-"></a></h3>
<p>Set values of existing objects.</p><div class="section">
<h4 id="usage-23">Usage<a class="anchor" aria-label="anchor" href="#usage-23"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">...</span>, .default <span class="op">=</span> <span class="cn">TRUE</span>, .empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-21">Arguments<a class="anchor" aria-label="anchor" href="#arguments-21"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Lists of object definitions. Each list should be named
with a valid object name or ID denoted in style <code>..ID</code>. There
is a special element <code>.comment</code> in each list, which will be
used as new comments of modified object, overwriting existing
comments if any.</p></dd>


<dt><code>.default</code></dt>
<dd><p>If <code>TRUE</code>, default values are used for those blank
fields if possible. If <code>FALSE</code>, empty fields are kept blank.
Default: <code>TRUE</code>.</p></dd>


<dt><code>.empty</code></dt>
<dd><p>If <code>TRUE</code>, trailing empty fields are kept. Default:
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-23">Details<a class="anchor" aria-label="anchor" href="#details-23"></a></h4>
<p><code>$set()</code> takes new field value definitions in list format, sets new
values for fields in objects specified, and returns a list of
modified <a href="IdfObject.html">IdfObject</a>s. The returned list will be named using names of
modified objects. Every list in <code>$set()</code> should be named with a
valid object name. Object ID can also be used but have to be combined
with prevailing two periods <code>..</code>, e.g. <code>..10</code> indicates the object
with ID <code>10</code>. Similar to
<a href="../../eplusr/html/Idf.html#method-add"><code>$add()</code></a>, a
special element <code>.comment</code> in each list will be used as the <strong>new</strong>
comments for modified object, overwriting the old ones. Names in list
element are treated as field names.</p>
<p>Note that <code>.()</code> can be used as an alias as <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, e.g.
<code>idf$set(Building = .(...))</code> is equivalent to
<code>idf$set(Building = list(...))</code>.</p>
<p>There is two special syntax in <code>$set()</code>, which is inspired by the
<a href="https://cran.r-project.org/package=eplusr" class="external-link">data.table</a> package:</p><ul><li><p><code>class := list(field = value)</code>: Note the use of <code>:=</code> instead of
<code>=</code>. The main difference is that, unlike <code>=</code>, the left hand side of
<code>:=</code> should be a valid class name in current <code>Idf</code> object. It will
set the field of all objects in specified class to specified value.</p></li>
<li><p><code>.(object, object) := list(field = value)</code>: Similar like above, but
note the use of <code>.()</code> in the left hand side. You can put multiple
object ID or names in <code>.()</code>. It will set the field of all specified
objects to specified value.</p></li>
</ul><p>You can delete a field by assigning <code>NULL</code> to it, e.g. <code>list(fld = NULL)</code> means to delete the value of field <code>fld</code>, in the condition
that <code>.default</code> is <code>FALSE</code>, <code>fld</code> is not a required field and the
index of <code>fld</code> is larger than the number minimum fields required for
that class. If those conditions are not required, <code>fld</code> will be left
as blank if <code>.default</code> is <code>FALSE</code> or filled with default value if
<code>.default</code> is <code>TRUE</code>.</p>
<p>By default, trailing empty fields that are not required will be
removed and only minimum required fields are kept. For example, if
<code>rp</code> is an object in <code>RunPeriod</code> class in an <code>Idf</code> of version 8.8,
by default empty field with index larger than 11 will be removed
since they are all non-required fields. You can keep the trailing
empty fields by setting <code>.empty</code> to <code>TRUE</code>.</p>
<p>New fields that currently do not exist in that object can also be
set. They will be automatically added on the fly.</p>
<p>Field name matching is <strong>case-insensitive</strong>. For convenience,
underscore-style field names are also allowed, e.g. <code>eNd_MoNtH</code> is
equivalent to <code>End Month</code>.</p>
<p>If not all field names are given, positions of those values without
field names are determined after those values with names. E.g. in
<code>idf$set(floor = list("out_layer", name = "name"))</code>, <code>"out_layer"</code>
will be treated as the value for field <code>Outside Layer</code> in an object
named <code>floor</code>, since the value for field <code>Name</code> has been specified
using explicit field name.</p>
</div>

<div class="section">
<h4 id="returns-23">Returns<a class="anchor" aria-label="anchor" href="#returns-23"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-23">Examples<a class="anchor" aria-label="anchor" href="#examples-23"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# modify an object by name (case-insensitive)
idf$set(r13layer = list(roughness = "smooth"))

# modify an object by ID
idf$set(..12 = list(roughness = "rough"))

# overwrite existing object comments
idf$set(r13layer = list(.comment = c("New comment")))

# assign default values to fields
idf$set(r13layer = list(solar_absorptance = NULL), .default = TRUE)

# set field values to blanks
idf$set(r13layer = list(solar_absorptance = NULL), .default = FALSE)

# set field values to blank and delete trailing fields
idf$set(r13layer = list(visible_absorptance = NULL), .default = FALSE)

# set field values to blank and keep blank fields
idf$set(r13layer = list(visible_absorptance = NULL), .default = FALSE, .empty = TRUE)

# set all fields in one class
idf$set(Material_NoMass := list(visible_absorptance = 0.9))

# set multiple objects in one class
idf$set(.("r13layer", "r31layer") := list(solar_absorptance = 0.8))
# above is equivalent to
idf$set(r13layer = list(solar_absorptance = 0.8),
        r31layer = list(solar_absorptance = 0.8)
)

# use variable input
sets &lt;- list(r13layer = list(roughness = "smooth"))
idf$set(sets)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-del"></a><div class="section">
<h3 id="method-del-">Method <code>del()</code><a class="anchor" aria-label="anchor" href="#method-del-"></a></h3>
<p>Delete existing objects</p><div class="section">
<h4 id="usage-24">Usage<a class="anchor" aria-label="anchor" href="#usage-24"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span>
  <span class="va">...</span>,
  .ref_by <span class="op">=</span> <span class="cn">FALSE</span>,
  .ref_to <span class="op">=</span> <span class="cn">FALSE</span>,
  .recursive <span class="op">=</span> <span class="cn">FALSE</span>,
  .force <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-22">Arguments<a class="anchor" aria-label="anchor" href="#arguments-22"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>integer vectors of object IDs and character vectors of
object names in current <code>Idf</code> object.</p></dd>


<dt><code>.ref_by</code></dt>
<dd><p>If <code>TRUE</code>, objects whose fields refer to input objects
will also be deleted. Default: <code>FALSE</code>.</p></dd>


<dt><code>.ref_to</code></dt>
<dd><p>If <code>TRUE</code>, objects whose fields are referred by input
objects will also be deleted. Default: <code>FALSE</code>.</p></dd>


<dt><code>.recursive</code></dt>
<dd><p>If <code>TRUE</code>, relation searching is performed
recursively, in case that objects whose fields refer to target
object are also referred by another object, and also objects
whose fields are referred by target object are also referred
by another object. Default: <code>FALSE</code>.</p></dd>


<dt><code>.force</code></dt>
<dd><p>If <code>TRUE</code>, objects are deleted even if they are
referred by other objects.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-24">Details<a class="anchor" aria-label="anchor" href="#details-24"></a></h4>
<p><code>$del()</code> takes integer vectors of object IDs and character vectors of
object names, and deletes objects specified.</p>
<p>If current <a href="level_checks.html">validate level</a> includes reference
checking, objects will not be allowed to be deleted if they are
referred by other objects. For example, an error will be issued if
you want to delete one material that is referred by other
constructions, because doing so will result in invalid field value
references. You may bypass this if you really want to by setting
<code>.force</code> to <code>TRUE</code>.</p>
<p>When <code>.ref_by</code> or <code>.ref_to</code> is <code>TRUE</code>, objects will be deleted
only when they have and only have relation with input objects but not
any other objects. For example, a construction <code>const</code> consist of 4
different materials. If <code>.ref_to</code> is <code>TRUE</code>, that 4 materials will
only be deleted when they are only used in <code>const</code>, but not used in
any other objects.</p>
<p>There are recursively reference relations in <code>Idf</code> object. For
example, one material's name is referenced by one construction, and
that construction's name can be referred by another surface. You can
delete all of them by setting <code>.recursive</code> to <code>TRUE</code>.</p>
<p>If <code>.ref_by</code> is <code>TRUE</code>, objects whose fields refer to input objects
will also be deleted.</p>
<p>IF <code>.ref_to</code> is <code>TRUE</code>, objects whose fields
are referred by input objects will also be deleted.</p>
</div>

<div class="section">
<h4 id="returns-24">Returns<a class="anchor" aria-label="anchor" href="#returns-24"></a></h4>
<p>The modified <code>Idf</code> object itself, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-24">Examples<a class="anchor" aria-label="anchor" href="#examples-24"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# delete objects using names
idf$object("Fraction") # ScheduleTypeLimits
idf$del("Fraction")

# delete objects using IDs
idf$objects(c(39, 40)) # Output:Variable
idf$del(39, 40)

# cannot delete objects that are referred by others
level_checks()$reference # reference-checking is enable by default
idf$del("r13layer") # error

# force to delete objects even thay are referred by others
idf$del("r13layer", .force = TRUE)

# delete objects and also objects that refer to them
idf$del("r31layer", .ref_by = TRUE) # Construction 'ROOF31' will be kept

# delete objects and also objects that they refer to
idf$del("extlights", .ref_to = TRUE) # Schedule 'AlwaysOn' will be kept

# delete objects and also other objects that refer to them recursively
idf$del("roof31", .ref_by = TRUE, .recursive = TRUE)

# delete objects using variable inputs
ids &lt;- idf$object_id("Output:Variable", simplify = TRUE)
idf$del(ids)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-purge"></a><div class="section">
<h3 id="method-purge-">Method <code>purge()</code><a class="anchor" aria-label="anchor" href="#method-purge-"></a></h3>
<p>Purge resource objects that are not used</p><div class="section">
<h4 id="usage-25">Usage<a class="anchor" aria-label="anchor" href="#usage-25"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">purge</span><span class="op">(</span>object <span class="op">=</span> <span class="cn">NULL</span>, class <span class="op">=</span> <span class="cn">NULL</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-23">Arguments<a class="anchor" aria-label="anchor" href="#arguments-23"></a></h4>
<p></p><div class="arguments"><dl><dt><code>object</code></dt>
<dd><p>an integer vector of object IDs or a character vector
of object names in current <code>Idf</code> object. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of valid class names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p></dd>


<dt><code>group</code></dt>
<dd><p>A character vector of valid group names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-25">Details<a class="anchor" aria-label="anchor" href="#details-25"></a></h4>
<p><code>$purge()</code> takes an integer vector of object IDs or a character
vectors of object names, and deletes resource objects specified that
are not used by any objects.</p>
<p>Here resource objects indicate all objects that can be referenced by
other objects, e.g. all schedules. <code>$purge()</code> will ignore any inputs
that are not resources. If inputs contain objects from multiple
classes, references among them are also taken into account, which
means purging is performed hierarchically. If both materials and
constructions are specified, the latter will be purged first, because
it is possible that input constructions reference input materials.</p>
</div>

<div class="section">
<h4 id="returns-25">Returns<a class="anchor" aria-label="anchor" href="#returns-25"></a></h4>
<p>The modified <code>Idf</code> object itself, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-25">Examples<a class="anchor" aria-label="anchor" href="#examples-25"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# purge unused "Fraction" schedule type
idf$purge("on/off") # ScheduleTypeLimits

# purge all unused schedule types
idf$purge(class = "ScheduleTypeLimits")

# purge all unused schedule related objects
idf$purge(group = "Schedules")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-duplicated"></a><div class="section">
<h3 id="method-duplicated-">Method <code><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated()</a></code><a class="anchor" aria-label="anchor" href="#method-duplicated-"></a></h3>
<p>Determine duplicated objects</p><div class="section">
<h4 id="usage-26">Usage<a class="anchor" aria-label="anchor" href="#usage-26"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">duplicated</span><span class="op">(</span>object <span class="op">=</span> <span class="cn">NULL</span>, class <span class="op">=</span> <span class="cn">NULL</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-24">Arguments<a class="anchor" aria-label="anchor" href="#arguments-24"></a></h4>
<p></p><div class="arguments"><dl><dt><code>object</code></dt>
<dd><p>an integer vector of object IDs or a character vector
of object names in current <code>Idf</code> object. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of valid class names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p></dd>


<dt><code>group</code></dt>
<dd><p>A character vector of valid group names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p>
<p>If all <code>object</code>, <code>class</code> and <code>group</code> are <code>NULL</code>, duplication checking
is performed on the whole <code>Idf</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-26">Details<a class="anchor" aria-label="anchor" href="#details-26"></a></h4>
<p><code>$duplicated()</code> takes an integer vector of object IDs or a character
vectors of object names, and returns a <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>
to show whether input objects contain duplications or not.</p>
<p>Here duplicated objects refer to objects whose field values are the
same except the names. Object comments are just ignored during
comparison.</p>
</div>

<div class="section">
<h4 id="returns-26">Returns<a class="anchor" aria-label="anchor" href="#returns-26"></a></h4>
<p>A <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> of 4 columns:</p><ul><li><p><code>class</code>: Character. Names of classes that input objects belong to</p></li>
<li><p><code>id</code>: Integer. Input object IDs</p></li>
<li><p><code>name</code>: Character. Input object names</p></li>
<li><p><code>duplicate</code>: Integer. The IDs of objects that input objects
duplicate. If input object is not a duplication, <code>NA</code> is returned</p></li>
</ul></div>
<div class="section">
<h4 id="examples-26">Examples<a class="anchor" aria-label="anchor" href="#examples-26"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# check if there are any duplications in the Idf
idf$duplicated(class = "ScheduleTypeLimits")

# check if there are any duplications in the schedule types
idf$duplicated(class = "ScheduleTypeLimits")

# check if there are any duplications in the schedule groups and
# material class
idf$duplicated(class = "Material", group = "Schedules")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-unique"></a><div class="section">
<h3 id="method-unique-">Method <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique()</a></code><a class="anchor" aria-label="anchor" href="#method-unique-"></a></h3>
<p>Remove duplicated objects</p><div class="section">
<h4 id="usage-27">Usage<a class="anchor" aria-label="anchor" href="#usage-27"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">unique</span><span class="op">(</span>object <span class="op">=</span> <span class="cn">NULL</span>, class <span class="op">=</span> <span class="cn">NULL</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-25">Arguments<a class="anchor" aria-label="anchor" href="#arguments-25"></a></h4>
<p></p><div class="arguments"><dl><dt><code>object</code></dt>
<dd><p>an integer vector of object IDs or a character vector
of object names in current <code>Idf</code> object. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of valid class names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p></dd>


<dt><code>group</code></dt>
<dd><p>A character vector of valid group names in current <code>Idf</code>
object. Default: <code>NULL</code>.</p>
<p>If all <code>object</code>, <code>class</code> and <code>group</code> are <code>NULL</code>, duplication checking
is performed on the whole <code>Idf</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-27">Details<a class="anchor" aria-label="anchor" href="#details-27"></a></h4>
<p><code>$unique()</code> takes an integer vector of object IDs or a character
vectors of object names, and remove duplicated objects.</p>
<p>Here duplicated objects refer to objects whose field values are the
same except the names. Object comments are just ignored during
comparison.</p>
<p><code>$unique()</code> will only keep the first unique object and remove all
redundant objects. Value referencing the redundant objects will be
redirected into the unique object.</p>
</div>

<div class="section">
<h4 id="returns-27">Returns<a class="anchor" aria-label="anchor" href="#returns-27"></a></h4>
<p>The modified <code>Idf</code> object itself, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-27">Examples<a class="anchor" aria-label="anchor" href="#examples-27"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# remove duplications in the Idf
idf$unique(class = "ScheduleTypeLimits")

# remove duplications in the schedule types
idf$unique(class = "ScheduleTypeLimits")

# remove duplications in the schedule groups and material class
idf$unique(class = "Material", group = "Schedules")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-rename"></a><div class="section">
<h3 id="method-rename-">Method <code>rename()</code><a class="anchor" aria-label="anchor" href="#method-rename-"></a></h3>
<p>Rename existing objects</p><div class="section">
<h4 id="usage-28">Usage<a class="anchor" aria-label="anchor" href="#usage-28"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">rename</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-26">Arguments<a class="anchor" aria-label="anchor" href="#arguments-26"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Integer vectors of valid object IDs and character vectors
of valid object names in current <code>Idf</code> object. Each element
should be named. Names of input vectors are used as the new
object names</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-28">Details<a class="anchor" aria-label="anchor" href="#details-28"></a></h4>
<p><code>$rename()</code> takes named character vectors of object names and named
integer vectors of object IDs, renames specified objects to names of
input vectors and returns a list of renamed <a href="IdfObject.html">IdfObject</a>s. The
returned list will be named using names of modified objects. An error
will be issued if trying to "rename" an object which does not have
name attribute. When renaming an object that is referred by other
objects, corresponding fields that refer to that object's name will
also be changed accordingly.</p>
</div>

<div class="section">
<h4 id="returns-28">Returns<a class="anchor" aria-label="anchor" href="#returns-28"></a></h4>
<p>A named list of renamed <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-28">Examples<a class="anchor" aria-label="anchor" href="#examples-28"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$objects(c("on/off", "test 352a"))
idf$rename(on_off = "on/off", test_352a = 51)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-insert"></a><div class="section">
<h3 id="method-insert-">Method <code>insert()</code><a class="anchor" aria-label="anchor" href="#method-insert-"></a></h3>
<p>Insert new objects from <a href="IdfObject.html">IdfObject</a>s</p><div class="section">
<h4 id="usage-29">Usage<a class="anchor" aria-label="anchor" href="#usage-29"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">insert</span><span class="op">(</span><span class="va">...</span>, .unique <span class="op">=</span> <span class="cn">TRUE</span>, .empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-27">Arguments<a class="anchor" aria-label="anchor" href="#arguments-27"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p><a href="IdfObject.html">IdfObject</a>s or lists of <a href="IdfObject.html">IdfObject</a>s from same version as
current <code>Idf</code> object.</p></dd>


<dt><code>.unique</code></dt>
<dd><p>If there are duplications in input <a href="IdfObject.html">IdfObject</a>s or
there is same object in current <code>Idf</code> object, duplications in
input are removed. Default: <code>TRUE</code>.</p></dd>


<dt><code>.empty</code></dt>
<dd><p>If <code>TRUE</code>, trailing empty fields are kept. Default:
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-29">Details<a class="anchor" aria-label="anchor" href="#details-29"></a></h4>
<p><code>$insert()</code> takes <a href="IdfObject.html">IdfObject</a>s or lists of <a href="IdfObject.html">IdfObject</a>s as input,
inserts them into current <code>Idf</code> objects, and returns a list of
inserted <a href="IdfObject.html">IdfObject</a>s. The returned list will be named using names of
inserted objects.</p>
<p><code>$insert()</code> is quite useful to insert objects from other <code>Idf</code>
objects. However, you cannot insert an <a href="IdfObject.html">IdfObject</a> which comes from a
different version than current <code>Idf</code> object.</p>
<p><code>$insert()</code> will skip <a href="IdfObject.html">IdfObject</a>s that have exactly same fields in
current <code>Idf</code> object. If input <a href="IdfObject.html">IdfObject</a> has the same name as one
<a href="IdfObject.html">IdfObject</a> in current <code>Idf</code> object but field values are not equal,
an error will be issued if current <a href="level_checks.html">validate level</a>
includes conflicted-name checking.</p>
<p>By default, trailing empty fields that are not required will be
removed and only minimum required fields are kept. You can keep the
trailing empty fields by setting <code>.empty</code> to <code>TRUE</code>.</p>
</div>

<div class="section">
<h4 id="returns-29">Returns<a class="anchor" aria-label="anchor" href="#returns-29"></a></h4>
<p>A named list of inserted <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-29">Examples<a class="anchor" aria-label="anchor" href="#examples-29"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# insert all material from another IDF
path_idf2 &lt;- file.path(eplus_config(8.8)$dir, "ExampleFiles/5ZoneTDV.idf")
idf2 &lt;- Idf$new(path_idf2)
idf$insert(idf2$Material)

# insert objects from same Idf is equivalent to using Idf$dup()
idf$insert(idf$SizingPeriod_DesignDay)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-load"></a><div class="section">
<h3 id="method-load-">Method <code><a href="https://rdrr.io/r/base/load.html" class="external-link">load()</a></code><a class="anchor" aria-label="anchor" href="#method-load-"></a></h3>
<p>Load new objects from characters or data.frames</p><div class="section">
<h4 id="usage-30">Usage<a class="anchor" aria-label="anchor" href="#usage-30"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="va">...</span>, .unique <span class="op">=</span> <span class="cn">TRUE</span>, .default <span class="op">=</span> <span class="cn">TRUE</span>, .empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-28">Arguments<a class="anchor" aria-label="anchor" href="#arguments-28"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Character vectors or data.frames of object definitions.</p></dd>


<dt><code>.unique</code></dt>
<dd><p>If <code>TRUE</code>, and there are duplications in input
<a href="IdfObject.html">IdfObject</a>s or there is same object in current <code>Idf</code> object,
duplications in input are removed. Default: <code>TRUE</code>.</p></dd>


<dt><code>.default</code></dt>
<dd><p>If <code>TRUE</code>, default values are filled for those blank
fields if possible. Default: <code>TRUE</code>.</p></dd>


<dt><code>.empty</code></dt>
<dd><p>If <code>TRUE</code>, trailing empty fields are kept. Default:
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-30">Details<a class="anchor" aria-label="anchor" href="#details-30"></a></h4>
<p><code>$load()</code> is similar to
<a href="../../eplusr/html/Idf.html#method-insert"><code>$insert()</code></a>,
except it takes directly character vectors or data.frames as
<a href="IdfObject.html">IdfObject</a> definitions, insert corresponding objects into current
<code>Idf</code> object and returns a named list of newly added <a href="IdfObject.html">IdfObject</a>s.
The returned list will be named using names of added objects. This
makes it easy to create objects using the output from<code>$to_string()</code>
and <code>$to_table()</code> method from
<a href="../../eplusr/html/Idd.html#method-to_string"><code>Idd</code></a>,
<a href="../../eplusr/html/IddObject.html#method-to_string"><code>IddObject</code></a>,
also from
<a href="../../eplusr/html/Idf.html#method-to_string"><code>Idf</code></a>,
and
<a href="../../eplusr/html/IdfObject.html#method-to_string"><code>IdfObject</code></a>,
class.</p>
<p>For object definitions in character vector format, they follow the
same rules as a normal IDF file:</p><ul><li><p>Each object starts with a class name and a comma (<code>,</code>);</p></li>
<li><p>Separates each values with a comma (<code>,</code>);</p></li>
<li><p>Ends an object with a semicolon (<code>;</code>) for the last value.</p></li>
</ul><p>Each character vector can contain:</p><ul><li><p>One single object, e.g. <code>c("Building,", "MyBuilding;")</code>, or
"Building, MyBuilding;".</p></li>
<li><p>Multiple objects, e.g. <code>c("Building, MyBuilding;", "SimulationControl, Yes")</code>.</p></li>
</ul><p>You can also provide an option header to indicate if input objects
are presented in IP units, using <code>!-Option ViewInIPunits</code>. If this
header does not exist, then all values are treated as in SI units.</p>
<p>For object definitions in data.frame format, it is highly recommended
to use <code>$to_table()</code> method in
<a href="../../eplusr/html/Idd.html#method-to_table"><code>Idd</code></a>,
<a href="Idd.html">Idd</a>,
<a href="../../eplusr/html/IddObject.html#method-to_table"><code>IddObject</code></a>,
<a href="IddObject.html">IddObject</a>,
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>,
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>,
class to create an acceptable data.frame template. A
valid definition requires at least three columns described below.
Note that column order does not matter.</p><ul><li><p><code>class</code>:Character type. Valid class names in the underlying
<a href="Idd.html">Idd</a> object.</p></li>
<li><p><code>index</code>:Integer type. Valid field indices for each class.</p></li>
<li><p><code>value</code>:Character type or list type. Value for each field
to be added.</p><ul><li><p>If character type, usually when <code>string_value</code> is <code>TRUE</code>
in method <code>$to_table()</code> in
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>
class. Note that
each value should be given as a string even if the corresponding
field is a numeric type.</p></li>
<li><p>If list type, usually when <code>string_value</code> is set to
<code>FALSE</code> in method<code>$to_table()</code> in
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>
class.
Each value should have the right type as the corresponding field
definition.  Otherwise, errors will be issued if current
<a href="level_checks.html">validation level</a> includes invalid-type checking.</p></li>
</ul></li>
<li><p><code>id</code>: <strong>Optional</strong>. Integer type. If input data.frame includes
multiple object definitions in a same class, values in <code>id</code> column
will be used to distinguish each definition. If <code>id</code> column does
not exists, it assumes that each definition is separated by <code>class</code>
column and will issue an error if there is any duplication in the
<code>index</code> column.</p></li>
</ul><p>Note that <code>$load()</code> assumes all definitions are from the same version
as current <code>Idf</code> object. If input definition is from different
version, parsing error may occur.</p>
<p>By default, trailing empty fields that are not required will be
removed and only minimum required fields are kept. You can keep the
trailing empty fields by setting <code>.empty</code> to <code>TRUE</code>.</p>
</div>

<div class="section">
<h4 id="returns-30">Returns<a class="anchor" aria-label="anchor" href="#returns-30"></a></h4>
<p>A named list of loaded <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-30">Examples<a class="anchor" aria-label="anchor" href="#examples-30"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# load objects from character vectors
idf$load(
    c("Material,",
      "    mat,                     !- Name",
      "    MediumSmooth,            !- Roughness",
      "    0.667,                   !- Thickness {m}",
      "    0.115,                   !- Conductivity {W/m-K}",
      "    513,                     !- Density {kg/m3}",
      "    1381;                    !- Specific Heat {J/kg-K}"),

    "Construction, const, mat;"
)

# load objects from data.frame definitions
dt &lt;- idf$to_table(class = "Material")
dt[field == "Name", value := paste(value, 1)]
dt[field == "Thickness", value := "0.5"]
idf$load(dt)

# by default, duplications are removed
idf$load(idf$to_table(class = "Material"))

# keep empty fields as they are
idf$load("Material, mat1, smooth, 0.5, 0.2, 500, 1000,,, 0.5;", .default = FALSE)

# keep trailing empty fields
idf$load("Material, mat2, smooth, 0.5, 0.2, 500, 1000,,,;",
    .default = FALSE, .empty = TRUE
)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-update"></a><div class="section">
<h3 id="method-update-">Method <code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update()</a></code><a class="anchor" aria-label="anchor" href="#method-update-"></a></h3>
<p>Update existing object values from characters or data.frames</p><div class="section">
<h4 id="usage-31">Usage<a class="anchor" aria-label="anchor" href="#usage-31"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span><span class="va">...</span>, .default <span class="op">=</span> <span class="cn">TRUE</span>, .empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-29">Arguments<a class="anchor" aria-label="anchor" href="#arguments-29"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Character vectors or data.frames of object definitions.</p></dd>


<dt><code>.default</code></dt>
<dd><p>If <code>TRUE</code>, default values are filled for those blank
fields if possible. Default: <code>TRUE</code>.</p></dd>


<dt><code>.empty</code></dt>
<dd><p>If <code>TRUE</code>, trailing empty fields are kept. Default:
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-31">Details<a class="anchor" aria-label="anchor" href="#details-31"></a></h4>
<p><code>$update()</code> is similar to
<a href="../../eplusr/html/Idf.html#method-set"><code>$set()</code></a>, except
it takes directly character vectors or data.frames as <a href="IdfObject.html">IdfObject</a>
definitions, updates new values for fields in objects specified, and
returns a named list of modified <a href="IdfObject.html">IdfObject</a>s. The returned list will
be named using names of modified objects. This makes it easy to
update object values using the output from <code>$to_string()</code> and
<code>$to_table</code> method from
<a href="../../eplusr/html/Idf.html#method-to_string"><code>Idf</code></a>,
and
<a href="../../eplusr/html/IdfObject.html#method-to_string"><code>IdfObject</code></a>,
class.</p>
<p>The format of object definitions is similar to <code>$load()</code>.</p>
<p>For object definitions in character vector format, object names are
used to locate which objects to update. Objects that have name
attribute should have valid names. This means that there is no way to
update object names using character vector format, but this can be
achieved using data.frame format as it uses object IDs instead of
object names to locate objects. The format of acceptable characters
follows the same rules as a normal IDF file:</p><ul><li><p>Each object starts with a class name and a comma (<code>,</code>);</p></li>
<li><p>Separates each values with a comma (<code>,</code>);</p></li>
<li><p>Ends an object with a semicolon (<code>;</code>) for the last value.</p></li>
</ul><p>Each character vector can contain:</p><ul><li><p>One single object, e.g. <code>c("Building,", "MyBuilding;")</code>, or
"Building, MyBuilding;".</p></li>
<li><p>Multiple objects, e.g. <code>c("Building, MyBuilding;", "SimulationControl, Yes")</code>.</p></li>
</ul><p>You can also provide an option header to indicate if input objects
are presented in IP units, using <code>!-Option ViewInIPunits</code>. If this
header does not exist, then all values are treated as in SI units.</p>
<p>For object definitions in data.frame format, it is highly recommended
to use <code>$to_table()</code> method in
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>,
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>,
class to create an acceptable data.frame template. A valid definition
requires three columns described below. Note that column order does
not matter.</p><ul><li><p><code>id</code>: Integer type. Valid IDs of objects to update.</p></li>
<li><p><code>index</code>:Integer type. Valid field indices for each object.</p></li>
<li><p><code>value</code>:Character type or list type. Value for each field
to be added.</p><ul><li><p>If character type, usually when <code>string_value</code> is <code>TRUE</code>
in method <code>$to_table()</code> in
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>
class. Note that
each value should be given as a string even if the corresponding
field is a numeric type.</p></li>
<li><p>If list type, usually when <code>string_value</code> is set to
<code>FALSE</code> in method <code>$to_table()</code> in
<a href="../../eplusr/html/Idf.html#method-to_table"><code>Idf</code></a>
and
<a href="../../eplusr/html/IdfObject.html#method-to_table"><code>IdfObject</code></a>
class.
Each value should have the right type as the corresponding field
definition.  Otherwise, errors will be issued if current
<a href="level_checks.html">validation level</a> includes invalid-type checking.</p></li>
</ul></li>
</ul><p>Note that <code>$update()</code> assumes all definitions are from the same version
as current <code>Idf</code> object. If input definition is from different
version, parsing error may occur.</p>
<p>By default, trailing empty fields that are not required will be
removed and only minimum required fields are kept. You can keep the
trailing empty fields by setting <code>.empty</code> to <code>TRUE</code>.</p>
</div>

<div class="section">
<h4 id="returns-31">Returns<a class="anchor" aria-label="anchor" href="#returns-31"></a></h4>
<p>A named list of updated <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-31">Examples<a class="anchor" aria-label="anchor" href="#examples-31"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# update objects from string definitions:
str &lt;- idf$to_string("zone one", header = FALSE, format = "new_top")
str[8] &lt;- "2," # Multiplier
idf$update(str)

# update objects from data.frame definitions:
dt &lt;- idf$to_table("zone one")
dt[field == "Multiplier", value := "1"]
idf$update(dt)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-paste"></a><div class="section">
<h3 id="method-paste-">Method <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code><a class="anchor" aria-label="anchor" href="#method-paste-"></a></h3>
<p>Paste new objects from IDF Editor</p><div class="section">
<h4 id="usage-32">Usage<a class="anchor" aria-label="anchor" href="#usage-32"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">paste</span><span class="op">(</span>in_ip <span class="op">=</span> <span class="cn">FALSE</span>, ver <span class="op">=</span> <span class="cn">NULL</span>, unique <span class="op">=</span> <span class="cn">TRUE</span>, empty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-30">Arguments<a class="anchor" aria-label="anchor" href="#arguments-30"></a></h4>
<p></p><div class="arguments"><dl><dt><code>in_ip</code></dt>
<dd><p>Set to <code>TRUE</code> if the IDF file is open with <code>Inch-Pound</code>
view option toggled. Numeric values will automatically
converted to SI units if necessary. Default: <code>FALSE</code>.</p></dd>


<dt><code>ver</code></dt>
<dd><p>The version of IDF file open by IDF Editor, e.g. <code>8.6</code>,
<code>"8.8.0"</code>. If <code>NULL</code>, assume that the file has the same
version as current Idf object. Default: <code>NULL</code>.</p></dd>


<dt><code>unique</code></dt>
<dd><p>If <code>TRUE</code>, and there are duplications in copied objects
from IDF Editor or there is same object in current Idf,
duplications in input are removed. Default: <code>TRUE</code>.</p></dd>


<dt><code>empty</code></dt>
<dd><p>If <code>TRUE</code>, trailing empty fields are kept. Default:
<code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-32">Details<a class="anchor" aria-label="anchor" href="#details-32"></a></h4>
<p><code>$paste()</code> reads the contents (from clipboard) of copied objects from IDF
Editor (after hitting <code>Copy Obj</code> button), inserts corresponding
objects into current <code>Idf</code> object and returns a named list of newly
added <a href="IdfObject.html">IdfObject</a>s. The returned list will be named using names of
added objects. As IDF Editor is only available on Windows platform,
<code>$paste()</code> only works on Windows too.</p>
<p>There is no version data copied to the clipboard when copying objects in
IDF Editor. <code>$paste()</code> assumes the file open in IDF Editor has the
same version as current <code>Idf</code> object. This may not be always true.
Please check the version before running <code>$paste()</code>, or explicitly
specify the version of file opened by IDF Editor using <code>ver</code>
parameter. Parsing error may occur if there is a version mismatch.</p>
<p>By default, trailing empty fields that are not required will be
removed and only minimum required fields are kept. You can keep the
trailing empty fields by setting <code>.empty</code> to <code>TRUE</code>.</p>
</div>

<div class="section">
<h4 id="returns-32">Returns<a class="anchor" aria-label="anchor" href="#returns-32"></a></h4>
<p>A named list of loaded <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>

</div><p></p><hr><a id="method-search_value"></a><div class="section">
<h3 id="method-search-value-">Method <code>search_value()</code><a class="anchor" aria-label="anchor" href="#method-search-value-"></a></h3>
<p>Search objects by field values using regular expression</p><div class="section">
<h4 id="usage-33">Usage<a class="anchor" aria-label="anchor" href="#usage-33"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">search_value</span><span class="op">(</span>
  <span class="va">pattern</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  ignore.case <span class="op">=</span> <span class="cn">FALSE</span>,
  perl <span class="op">=</span> <span class="cn">FALSE</span>,
  fixed <span class="op">=</span> <span class="cn">FALSE</span>,
  useBytes <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-31">Arguments<a class="anchor" aria-label="anchor" href="#arguments-31"></a></h4>
<p></p><div class="arguments"><dl><dt><code>pattern, ignore.case, perl, fixed, useBytes</code></dt>
<dd><p>All of them are
directly passed to <a href="https://rdrr.io/r/base/grep.html" class="external-link">base::grepl</a> and
<a href="https://rdrr.io/r/base/grep.html" class="external-link">base::gsub</a>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of invalid class names in current
<code>Idf</code> object to search for values. If <code>NULL</code>, all classes are
used. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-33">Details<a class="anchor" aria-label="anchor" href="#details-33"></a></h4>
<p><code>$search_value()</code> returns a list of <a href="IdfObject.html">IdfObject</a>s that contain values
which match the given pattern. If no matched found, <code>NULL</code> is
returned invisibly. The returned list will be named using names of
matched objects.</p>
<p>Note that during matching, all values are treated as characters,
including numeric values.</p>
</div>

<div class="section">
<h4 id="returns-33">Returns<a class="anchor" aria-label="anchor" href="#returns-33"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-32">Examples<a class="anchor" aria-label="anchor" href="#examples-32"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# search values that contains "floor"
idf$search_value("floor", ignore.case = TRUE)

# search values that contains "floor" in class Construction
idf$search_value("floor", "Construction", ignore.case = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-replace_value"></a><div class="section">
<h3 id="method-replace-value-">Method <code>replace_value()</code><a class="anchor" aria-label="anchor" href="#method-replace-value-"></a></h3>
<p>Replace object field values using regular expression</p><div class="section">
<h4 id="usage-34">Usage<a class="anchor" aria-label="anchor" href="#usage-34"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">replace_value</span><span class="op">(</span>
  <span class="va">pattern</span>,
  <span class="va">replacement</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  ignore.case <span class="op">=</span> <span class="cn">FALSE</span>,
  perl <span class="op">=</span> <span class="cn">FALSE</span>,
  fixed <span class="op">=</span> <span class="cn">FALSE</span>,
  useBytes <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-32">Arguments<a class="anchor" aria-label="anchor" href="#arguments-32"></a></h4>
<p></p><div class="arguments"><dl><dt><code>pattern, replacement, ignore.case, perl, fixed, useBytes</code></dt>
<dd><p>All of
them are directly passed to <a href="https://rdrr.io/r/base/grep.html" class="external-link">base::grepl</a> and
<a href="https://rdrr.io/r/base/grep.html" class="external-link">base::gsub</a>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of invalid class names in current
<code>Idf</code> object to search for values. If <code>NULL</code>, all classes are
used. Default: <code>NULL</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-34">Details<a class="anchor" aria-label="anchor" href="#details-34"></a></h4>
<p><code>$replace_value()</code> returns a list of <a href="IdfObject.html">IdfObject</a>s whose values have
been replaced using given pattern. If no matched found, <code>NULL</code> is
returned invisibly. The returned list will be named using names of
matched objects.</p>
<p>Note that during matching, all values are treated as characters,
including numeric values.</p>
<p>Modifying object values using regular expression is not recommended.
Consider to use
<a href="../../eplusr/html/Idf.html#method-set"><code>$set()</code></a>
and
<a href="../../eplusr/html/Idf.html#method-update"><code>$update()</code></a>
if possible.
<a href="level_checks.html">Validation</a> rules also apply during replacing.</p>
</div>

<div class="section">
<h4 id="returns-34">Returns<a class="anchor" aria-label="anchor" href="#returns-34"></a></h4>
<p>A named list of <a href="IdfObject.html">IdfObject</a> objects.</p>
</div>
<div class="section">
<h4 id="examples-33">Examples<a class="anchor" aria-label="anchor" href="#examples-33"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# search values that contains "win" and replace them with "windows"
idf$replace_value("win", "windows")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-validate"></a><div class="section">
<h3 id="method-validate-">Method <code>validate()</code><a class="anchor" aria-label="anchor" href="#method-validate-"></a></h3>
<p>Check possible object field value errors</p><div class="section">
<h4 id="usage-35">Usage<a class="anchor" aria-label="anchor" href="#usage-35"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="../reference/eplusr_option.html">eplusr_option</a></span><span class="op">(</span><span class="st">"validate_level"</span><span class="op">)</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-33">Arguments<a class="anchor" aria-label="anchor" href="#arguments-33"></a></h4>
<p></p><div class="arguments"><dl><dt><code>level</code></dt>
<dd><p>One of <code>"none"</code>, <code>"draft"</code>, <code>"final"</code> or a list of 10
elements with same format as <code><a href="custom_validate.html">custom_validate()</a></code> output.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-35">Details<a class="anchor" aria-label="anchor" href="#details-35"></a></h4>
<p><code>$validate()</code> checks if there are errors in current <code>Idf</code> object
under specified validation level and returns an <code>IdfValidity</code> object.
<code>$validate()</code> is useful to help avoid some common errors before
running the model. By default, validation is performed when calling
all methods that modify objects, e.g.
<a href="../../eplusr/html/Idf.html#method-dup"><code>$dup()</code></a>
<a href="../../eplusr/html/Idf.html#method-add"><code>$add()</code></a>,
<a href="../../eplusr/html/Idf.html#method-set"><code>$set()</code></a>,
<a href="../../eplusr/html/Idf.html#method-del"><code>$del()</code></a>,
and etc.</p>
<p>In total, there are 10 different validate checking components:</p><ul><li><p><code>required_object</code>: Check if required objects are missing in current
<code>Idf</code>.</p></li>
<li><p><code>unique_object</code>: Check if there are multiple objects in one
unique-object class. An unique-object class means that there should
be at most only one object existing in that class.</p></li>
<li><p><code>unique_name</code>: Check if all objects in each class have unique names.</p></li>
<li><p><code>extensible</code>: Check if all fields in an extensible group have
values. An extensible group is a set of fields that should be
treated as a whole, such like the X, Y and Z vertices of a building
surfaces. An extensible group should be added or deleted together.
<code>extensible</code> component checks if there are some, but not all,
fields in an extensible group are empty.</p></li>
<li><p><code>required_field</code>: Check if all required fields have values.</p></li>
<li><p><code>auto_field</code>: Check if all fields filled with value <code>"Autosize"</code> and
<code>"Autocalculate"</code> are actual autosizable and autocalculatable
fields or not.</p></li>
<li><p><code>type</code>: Check if all fields have value types complied with their
definitions, i.e. character, numeric and integer fields should be
filled with corresponding type of values.</p></li>
<li><p><code>choice</code>: Check if all choice fields are filled with valid choice
values.</p></li>
<li><p><code>range</code>: Check if all numeric fields have values within prescibed
ranges.</p></li>
<li><p><code>reference</code>: Check if all fields whose values refer to other fields
are valid.</p></li>
</ul><p>The <code>level</code> argument controls what checkings should be performed.
<code>level</code> here is just a list of 10 element which specify the toggle
status of each component. You can use helper <code><a href="custom_validate.html">custom_validate()</a></code> to
get that list and pass it directly to <code>level</code>.</p>
<p>There are 3 predefined validate level that indicates different
combinations of checking components, i.e. <code>none</code>, <code>draft</code> and
<code>final</code>. Basically, <code>none</code> level just does not perform any
checkings; <code>draft</code> includes 5 components, i.e. <code>auto_field</code>, <code>type</code>,
<code>unique_name</code>, <code>choice</code> and <code>range</code>; and <code>final</code> level includes all
10 components. You can always get what components each level contains
using <code><a href="level_checks.html">level_checks()</a></code>. By default, the result from
<code>eplusr_option("validate_level")</code> is passed to <code>level</code>. If not set,
<code>final</code> level is used.</p>
<p>Underneath, an <code>IdfValidity</code> object which <code>$validate()</code> returns is a
list of 13 element as shown below. Each element or several elements
represents the results from a single validation checking component.</p><ul><li><p><code>missing_object</code>: Result of <code>required_object</code> checking.</p></li>
<li><p><code>duplicate_object</code>: Result of <code>unique_object</code> checking.</p></li>
<li><p><code>conflict_name</code>: Result of <code>unique_name</code> checking.</p></li>
<li><p><code>incomplete_extensible</code>: Result of <code>extensible</code> checking.</p></li>
<li><p><code>missing_value</code>: Result of <code>required_field</code> checking.</p></li>
<li><p><code>invalid_autosize</code>: Result of <code>auto_field</code> checking for invalid
<code>Autosize</code> field values.</p></li>
<li><p><code>invalid_autocalculate</code>: Result of <code>auto_field</code> checking for
invalid <code>Autocalculate</code> field values.</p></li>
<li><p><code>invalid_character</code>: Result of <code>type</code> checking for invalid
character field values.</p></li>
<li><p><code>invalid_numeric</code>: Result of <code>type</code> checking for invalid
numeric field values.</p></li>
<li><p><code>invalid_integer</code>: Result of <code>type</code> checking for invalid
integer field values.</p></li>
<li><p><code>invalid_choice</code>: Result of <code>choice</code> checking.</p></li>
<li><p><code>invalid_range</code>: Result of <code>range</code> checking.</p></li>
<li><p><code>invalid_reference</code>: Result of <code>reference</code> checking.</p></li>
</ul><p>Except <code>missing_object</code>, which is a character vector of class names
that are missing, all other elements are
<a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> with 9 columns containing data
of invalid field values:</p><ul><li><p><code>object_id</code>: IDs of objects that contain invalid values</p></li>
<li><p><code>object_name</code>: names of objects that contain invalid values</p></li>
<li><p><code>class_id</code>: indexes of classes that invalid objects belong to</p></li>
<li><p><code>class_name</code>: names of classes that invalid objects belong to</p></li>
<li><p><code>field_id</code>: indexes (at Idd level) of object fields that are invalid</p></li>
<li><p><code>field_index</code>: indexes of object fields in corresponding that are invalid</p></li>
<li><p><code>field_name</code>: names (without units) of object fields that are invalid</p></li>
<li><p><code>units</code>: SI units of object fields that are invalid</p></li>
<li><p><code>ip_units</code>: IP units of object fields that are invalid</p></li>
<li><p><code>type_enum</code>: An integer vector indicates types of invalid fields</p></li>
<li><p><code>value_id</code>: indexes (at Idf level) of object field values that are invalid</p></li>
<li><p><code>value_chr</code>: values (converted to characters) of object fields that are
invalid</p></li>
<li><p><code>value_num</code>: values (converted to numbers in SI units) of object fields
that are invalid</p></li>
</ul><p>Knowing the internal structure of <code>IdfValidity</code>, it is easy to extract
invalid <a href="IdfObject.html">IdfObject</a>s you interested in. For example, you can get all IDs of
objects that contain invalid value references using
<code>model$validate()$invalid_reference$object_id</code>. Then using
<a href="../../eplusr/html/Idf.html#method-set"><code>$set()</code></a>
method to correct them.</p>
<p>Different validate result examples are shown below:</p><ul><li><p>No error is found:</p><div class="sourceCode"><pre><code>v No error found.
</code></pre></div>

<p>Above result shows that there is no error found after conducting all
validate checks in specified validate level.</p></li>
<li><p>Errors are found:</p><div class="sourceCode"><pre><code> x [2] Errors found during validation.
=========================================================================

-- [2] Invalid Autocalculate Field --------------------------------------
   Fields below cannot be `autocalculate`:

    Class: &lt;AirTerminal:SingleDuct:VAV:Reheat&gt;
    \- Object [ID:176] &lt;SPACE5-1 VAV Reheat&gt;
       +- 17: AUTOCALCULATE, !- Maximum Flow per Zone Floor Area During Reheat {m3/s-m2}
       \- 18: AUTOCALCULATE; !- Maximum Flow Fraction During Reheat
</code></pre></div>

<p>Above result shows that after all validate components
performed under current validate level, 2 invalid field values
are found. All of them are in a object named <code>SPACE5-1 VAV Reheat</code>
with ID <code>176</code>. They are invalid because those two fields do not
have an autocalculatable attribute but are given <code>AUTOCALCULATE</code>
value. Knowing this info, one simple way to fix the
error is to correct those two fields by doing:</p><div class="sourceCode"><pre><code><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>..176 <span class="op">=</span>
    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`Maximum Flow per Zone Floor Area During Reheat` <span class="op">=</span> <span class="st">"autosize"</span>,
         `Maximum Flow Fraction During Reheat` <span class="op">=</span> <span class="st">"autosize"</span>
    <span class="op">)</span>
<span class="op">)</span></code></pre></div></li>
</ul></div>

<div class="section">
<h4 id="returns-35">Returns<a class="anchor" aria-label="anchor" href="#returns-35"></a></h4>
<p>An <code>IdfValidity</code> object.</p>
</div>
<div class="section">
<h4 id="examples-34">Examples<a class="anchor" aria-label="anchor" href="#examples-34"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$validate()

# check at predefined validate level
idf$validate("none")
idf$validate("draft")
idf$validate("final")

# custom validate checking components
idf$validate(custom_validate(auto_field = TRUE, choice = TRUE))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_valid"></a><div class="section">
<h3 id="method-is-valid-">Method <code>is_valid()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-"></a></h3>
<p>Check if there is any error in current <code>Idf</code></p><div class="section">
<h4 id="usage-36">Usage<a class="anchor" aria-label="anchor" href="#usage-36"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="../reference/eplusr_option.html">eplusr_option</a></span><span class="op">(</span><span class="st">"validate_level"</span><span class="op">)</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-34">Arguments<a class="anchor" aria-label="anchor" href="#arguments-34"></a></h4>
<p></p><div class="arguments"><dl><dt><code>level</code></dt>
<dd><p>One of <code>"none"</code>, <code>"draft"</code>, <code>"final"</code> or a list of 10
elements with same format as <code><a href="custom_validate.html">custom_validate()</a></code> output.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-36">Details<a class="anchor" aria-label="anchor" href="#details-36"></a></h4>
<p><code>$is_valid()</code> checks if there are errors in current <code>Idf</code> object
under specified validation level and returns <code>TRUE</code> or <code>FALSE</code>
accordingly. For detailed description on validate checking, see
<a href="../../eplusr/html/Idf.html#method-validate"><code>$validate()</code></a>
documentation above.</p>
</div>

<div class="section">
<h4 id="returns-36">Returns<a class="anchor" aria-label="anchor" href="#returns-36"></a></h4>
<p>A single logical value of <code>TRUE</code> or <code>FALSE</code>.</p>
</div>
<div class="section">
<h4 id="examples-35">Examples<a class="anchor" aria-label="anchor" href="#examples-35"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$is_valid()

# check at predefined validate level
idf$is_valid("none")
idf$is_valid("draft")
idf$is_valid("final")

# custom validate checking components
idf$is_valid(custom_validate(auto_field = TRUE, choice = TRUE))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-to_string"></a><div class="section">
<h3 id="method-to-string-">Method <code>to_string()</code><a class="anchor" aria-label="anchor" href="#method-to-string-"></a></h3>
<p>Format <code>Idf</code> as a character vector</p><div class="section">
<h4 id="usage-37">Usage<a class="anchor" aria-label="anchor" href="#usage-37"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span>
  which <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  comment <span class="op">=</span> <span class="cn">TRUE</span>,
  header <span class="op">=</span> <span class="cn">TRUE</span>,
  format <span class="op">=</span> <span class="fu"><a href="../reference/eplusr_option.html">eplusr_option</a></span><span class="op">(</span><span class="st">"save_format"</span><span class="op">)</span>,
  leading <span class="op">=</span> <span class="fl">4L</span>,
  sep_at <span class="op">=</span> <span class="fl">29L</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-35">Arguments<a class="anchor" aria-label="anchor" href="#arguments-35"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>Either an integer vector of valid object IDs or a
character vector of valid object names. If <code>NULL</code>, the whole
<code>Idf</code> object is converted. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of class names. If <code>NULL</code>, all
classed in current <code>Idf</code> object is converted. Default: <code>NULL</code>.</p></dd>


<dt><code>comment</code></dt>
<dd><p>If <code>FALSE</code>, all comments will not be included.
Default: <code>TRUE</code>.</p></dd>


<dt><code>header</code></dt>
<dd><p>If <code>FALSE</code>, the header will not be included. Default:
<code>TRUE</code>.</p></dd>


<dt><code>format</code></dt>
<dd><p>Specific format used when formatting. Should be one of
<code>"asis"</code>, <code>"sorted"</code>, <code>"new_top"</code>, and <code>"new_bot"</code>.</p><ul><li><p>If <code>"asis"</code>, <code>Idf</code> object will be formatted in the same way as it
was when first read. If <code>Idf</code> object does not contain any format
saving option, which is typically the case when the model was not
saved using eplusr or IDFEditor, <code>"sorted"</code> will be used.</p></li>
<li><p><code>"sorted"</code>, <code>"new_top"</code> and <code>"new_bot"</code> are the same as the save
options <code>"Sorted"</code>, <code>"Original with New at Top"</code>, and <code>"Original with New at Bottom"</code> in IDFEditor. Default:
<code>eplusr_option("save_format")</code>.</p></li>
</ul></dd>


<dt><code>leading</code></dt>
<dd><p>Leading spaces added to each field. Default: <code>4L</code>.</p></dd>


<dt><code>sep_at</code></dt>
<dd><p>The character width to separate value string and field
string. Default: <code>29L</code> which is the same as IDF Editor.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-37">Details<a class="anchor" aria-label="anchor" href="#details-37"></a></h4>
<p><code>$to_string()</code> returns the text format of parts or whole <code>Idf</code>
object.</p>
</div>

<div class="section">
<h4 id="returns-37">Returns<a class="anchor" aria-label="anchor" href="#returns-37"></a></h4>
<p>A character vector.</p>
</div>
<div class="section">
<h4 id="examples-36">Examples<a class="anchor" aria-label="anchor" href="#examples-36"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get text format of the whole Idf
head(idf$to_string())

# get text format of the whole Idf, excluding the header and all comments
head(idf$to_string(comment = FALSE, header = FALSE))

# get text format of all objects in class Material
head(idf$to_string(class = "Material", comment = FALSE, header = FALSE))

# get text format of some objects
head(idf$to_string(c("floor", "zone one")))

# tweak output formatting
head(idf$to_string("floor", leading = 0, sep_at = 0))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-to_table"></a><div class="section">
<h3 id="method-to-table-">Method <code>to_table()</code><a class="anchor" aria-label="anchor" href="#method-to-table-"></a></h3>
<p>Format <code>Idf</code> as a data.frame</p><div class="section">
<h4 id="usage-38">Usage<a class="anchor" aria-label="anchor" href="#usage-38"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>
  which <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  string_value <span class="op">=</span> <span class="cn">TRUE</span>,
  unit <span class="op">=</span> <span class="cn">FALSE</span>,
  wide <span class="op">=</span> <span class="cn">FALSE</span>,
  align <span class="op">=</span> <span class="cn">FALSE</span>,
  all <span class="op">=</span> <span class="cn">FALSE</span>,
  group_ext <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"group"</span>, <span class="st">"index"</span><span class="op">)</span>,
  force <span class="op">=</span> <span class="cn">FALSE</span>,
  init <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-36">Arguments<a class="anchor" aria-label="anchor" href="#arguments-36"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>Either an integer vector of valid object IDs or a
character vector of valid object names. If <code>NULL</code>, the whole
<code>Idf</code> object is converted. Default: <code>NULL</code>.</p></dd>


<dt><code>class</code></dt>
<dd><p>A character vector of class names. If <code>NULL</code>, all
classed in current <code>Idf</code> object is converted. Default: <code>NULL</code>.</p></dd>


<dt><code>string_value</code></dt>
<dd><p>If <code>TRUE</code>, all field values are returned as
character. If <code>FALSE</code>, <code>value</code> column in returned
<a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> is a list column with
each value stored as corresponding type. Note that if the
value of numeric field is set to <code>"Autosize"</code> or
<code>"Autocalculate"</code>, it is left as it is, leaving the returned
type being a string instead of a number. Default: <code>TRUE</code>.</p></dd>


<dt><code>unit</code></dt>
<dd><p>Only applicable when <code>string_value</code> is <code>FALSE</code>. If
<code>TRUE</code>, values of numeric fields are assigned with units using
<code><a href="https://rdrr.io/pkg/units/man/units.html" class="external-link">units::set_units()</a></code> if applicable. Default: <code>FALSE</code>.</p></dd>


<dt><code>wide</code></dt>
<dd><p>Only applicable if target objects belong to a same class.
If <code>TRUE</code>, a wide table will be returned, i.e. first three
columns are always <code>id</code>, <code>name</code> and <code>class</code>, and then every
field in a separate column. Note that this requires all
objects specified must from the same class.
Default: <code>FALSE</code>.</p></dd>


<dt><code>align</code></dt>
<dd><p>If <code>TRUE</code>, all objects in the same class will have the
same field number. The number of fields is the same as the
object that have the most fields among objects specified.
Default: <code>FALSE</code>.</p></dd>


<dt><code>all</code></dt>
<dd><p>If <code>TRUE</code>, all available fields defined in IDD for the
class that objects belong to will be returned. Default:
<code>FALSE</code>.</p></dd>


<dt><code>group_ext</code></dt>
<dd><p>Should be one of <code>"none"</code>, <code>"group"</code> or <code>"index"</code>.
If not <code>"none"</code>, <code>value</code> column in returned
<code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> will be converted into a list.
If <code>"group"</code>, values from extensible fields will be grouped by the
extensible group they belong to. For example, coordinate
values of each vertex in class <code>BuildingSurface:Detailed</code> will
be put into a list. If <code>"index"</code>, values from extensible fields
will be grouped by the extensible field indice they belong to.
For example, coordinate values of all x coordinates will be
put into a list. If <code>"none"</code>, nothing special will be done.
Default: <code>"none"</code>.</p></dd>


<dt><code>force</code></dt>
<dd><p>If <code>TRUE</code>, <code>wide</code> can be <code>TRUE</code> even though there are
multiple classes in input. This can result in a data.table
with lots of columns. But may be useful when you know that
target classes have the exact same fields, e.g.
<code>Ceiling:Adiabatic</code> and <code>Floor:Adiabatic</code>. Default: <code>FALSE</code>.</p></dd>


<dt><code>init</code></dt>
<dd><p>If <code>TRUE</code>, a table for new object input will be returned
with all values filled with defaults. In this case, <code>object</code>
input will be ignored. The <code>id</code> column will be filled with
possible new object IDs. Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-38">Details<a class="anchor" aria-label="anchor" href="#details-38"></a></h4>
<p><code>$to_table()</code> returns a <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> that
contains core data of specified objects.
The returned <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> has 5 columns:</p><ul><li><p><code>id</code>: Integer type. Object IDs.</p></li>
<li><p><code>name</code>: Character type. Object names.</p></li>
<li><p><code>class</code>: Character type. Current class name.</p></li>
<li><p><code>index</code>: Integer type. Field indexes.</p></li>
<li><p><code>field</code>: Character type. Field names.</p></li>
<li><p><code>value</code>: Character type if <code>string_value</code> is <code>TRUE</code> or list type if
<code>string_value</code> is <code>FALSE</code> or <code>group_ext</code> is not <code>"none"</code>. Field values.</p></li>
</ul><p>Note that when <code>group_ext</code> is not <code>"none"</code>, <code>index</code> and <code>field</code>
values will not match the original field indices and names. In this
case, <code>index</code> will only indicate the indices of sequences. For
<code>field</code> column, specifically:</p><ul><li><p>When <code>group_ext</code> is <code>"group"</code>, each field name in a extensible group
will be abbreviated using <code><a href="https://rdrr.io/r/base/abbreviate.html" class="external-link">abbreviate()</a></code> with <code>minlength</code> being
<code>10L</code> and all abbreviated names will be separated by <code>|</code> and
combined together. For example, field names in the extensible group
(<code>Vertex 1 X-coordinate</code>, <code>Vertex 1 Y-coordinate</code>, <code>Vertex 1 Z-coordinate</code>) in class <code>BuildiBuildingSurface:Detailed</code> will be
merged into one name <code>Vrtx1X-crd|Vrtx1Y-crd|Vrtx1Z-crd</code>.</p></li>
<li><p>When <code>group_ext</code> is <code>"index"</code>, the extensible group indicator in field
names will be removed. Take the same example as above, the
resulting field names will be <code>Vertex X-coordinate</code>, <code>Vertex Y-coordinate</code>, and <code>Vertex Z-coordinate</code>.</p></li>
</ul></div>

<div class="section">
<h4 id="returns-38">Returns<a class="anchor" aria-label="anchor" href="#returns-38"></a></h4>
<p>A <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> with 6 columns (if
<code>wide</code> is <code>FALSE</code>) or at least 6 columns (if <code>wide</code> is <code>TRUE</code>).</p>
</div>
<div class="section">
<h4 id="examples-37">Examples<a class="anchor" aria-label="anchor" href="#examples-37"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# extract whole Idf data
idf$to_table()

# extract all data from class Material
idf$to_table(class = "Material")

# extract multiple object data
idf$to_table(c("FLOOR", "ZONE ONE"))

# keep value types and put actual values into a list column
idf$to_table(c("FLOOR", "ZONE ONE"), string_value = FALSE)$value

# add the unit to each value
idf$to_table(c("FLOOR", "ZONE ONE"), string_value = FALSE, unit = TRUE)

# get all possible fields
idf$to_table("ZONE ONE", all = TRUE)

# make sure all objects in same class have the same number of fields
idf$to_table(class = "Construction", align = TRUE)

# get a wide table with string values
idf$to_table(class = "Construction", wide = TRUE)

# get a wide table with actual values
idf$to_table(class = "OtherEquipment", wide = TRUE, string_value = FALSE)

# group extensible by extensible group number
idf$to_table(class = "BuildingSurface:Detailed", group_ext = "group")

# group extensible by extensible group number and convert into a wide table
idf$to_table(class = "BuildingSurface:Detailed", group_ext = "group", wide = TRUE)

# group extensible by extensible field index
idf$to_table(class = "BuildingSurface:Detailed", group_ext = "index")

# group extensible by extensible field index and convert into a wide table
idf$to_table(class = "BuildingSurface:Detailed", group_ext = "index", wide = TRUE)

# when grouping extensible, 'string_value' and 'unit' still take effect
idf$to_table(class = "BuildingSurface:Detailed", group_ext = "index",
    wide = TRUE, string_value = FALSE, unit = TRUE
)

# create table for new object input
idf$to_table(class = "BuildingSurface:Detailed", init = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-external_deps"></a><div class="section">
<h3 id="method-external-deps-">Method <code>external_deps()</code><a class="anchor" aria-label="anchor" href="#method-external-deps-"></a></h3>
<p>Get external file dependencies that the Idf needs for simulation.</p><div class="section">
<h4 id="usage-39">Usage<a class="anchor" aria-label="anchor" href="#usage-39"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">external_deps</span><span class="op">(</span>full <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-37">Arguments<a class="anchor" aria-label="anchor" href="#arguments-37"></a></h4>
<p></p><div class="arguments"><dl><dt><code>full</code></dt>
<dd><p>If <code>TRUE</code>, a <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> is
returned giving details about the objects and fields that use those
external file dependencies. Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-39">Details<a class="anchor" aria-label="anchor" href="#details-39"></a></h4>
<p><code>$external_deps()</code> returns information of files that are used as
external resources for the simulation.</p>
<p>Currently, classes below are checked:</p><ul><li><p><code>Schedule:File:Shading</code></p></li>
<li><p><code>Schedule:File</code></p></li>
<li><p><code>Construction:WindowDataFile</code></p></li>
<li><p><code>ExternalInterface:FunctionalMockupUnitImport</code></p></li>
<li><p><code>ExternalInterface:FunctionalMockupUnitImport:From:Variable</code></p></li>
<li><p><code>ExternalInterface:FunctionalMockupUnitImport:To:Schedule</code></p></li>
<li><p><code>ExternalInterface:FunctionalMockupUnitImport:To:Actuator</code></p></li>
<li><p><code>ExternalInterface:FunctionalMockupUnitImport:To:Variable</code></p></li>
<li><p><code>Table:IndependentVariable</code></p></li>
<li><p><code>Table:Lookup</code></p></li>
</ul><p>Note that, for <code>ExternalInterface:FunctionalMockupUnitImport</code> and
<code>ExternalInterface:FunctionalMockupUnitImport:*</code>, resources of FMU
will also be extracted.</p>
</div>

<div class="section">
<h4 id="returns-39">Returns<a class="anchor" aria-label="anchor" href="#returns-39"></a></h4>
<p>When <code>full</code> is <code>FALSE</code>, which is the default, a character vector.</p>
<p>When <code>full</code> is <code>TRUE</code>, a <a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a> of 8
columns:</p><ul><li><p><code>id</code>: Integer type. Object IDs.</p></li>
<li><p><code>name</code>: Character type. Object names.</p></li>
<li><p><code>class</code>: Character type. Current class name.</p></li>
<li><p><code>index</code>: Integer type. Field indexes.</p></li>
<li><p><code>field</code>: Character type. Field names.</p></li>
<li><p><code>value</code>: Character type. Field values.</p></li>
<li><p><code>path</code>: Character type. Full file paths.</p></li>
<li><p><code>exist</code>: Logical type. <code>TRUE</code> if file exists, <code>FALSE</code> otherwise.</p></li>
</ul><p>If there are any FMUs using external file resources, the returned
data.table will have an attribute named <code>extra</code> which is a list
giving the FMU name and external file resources it use.</p>
</div>
<div class="section">
<h4 id="examples-38">Examples<a class="anchor" aria-label="anchor" href="#examples-38"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$external_deps()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-is_unsaved"></a><div class="section">
<h3 id="method-is-unsaved-">Method <code>is_unsaved()</code><a class="anchor" aria-label="anchor" href="#method-is-unsaved-"></a></h3>
<p>Check if there are unsaved changes in current <code>Idf</code></p><div class="section">
<h4 id="usage-40">Usage<a class="anchor" aria-label="anchor" href="#usage-40"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">is_unsaved</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-40">Details<a class="anchor" aria-label="anchor" href="#details-40"></a></h4>
<p><code>$is_unsaved()</code> returns <code>TRUE</code> if there are modifications on the
model since it was read or since last time it was saved, and returns
<code>FALSE</code> otherwise.</p>
</div>

<div class="section">
<h4 id="returns-40">Returns<a class="anchor" aria-label="anchor" href="#returns-40"></a></h4>
<p>A single logical value of <code>TRUE</code> or <code>FALSE</code>.</p>
</div>
<div class="section">
<h4 id="examples-39">Examples<a class="anchor" aria-label="anchor" href="#examples-39"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$is_unsaved()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-save"></a><div class="section">
<h3 id="method-save-">Method <code><a href="https://rdrr.io/r/base/save.html" class="external-link">save()</a></code><a class="anchor" aria-label="anchor" href="#method-save-"></a></h3>
<p>Save <code>Idf</code> object as an IDF file</p><div class="section">
<h4 id="usage-41">Usage<a class="anchor" aria-label="anchor" href="#usage-41"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span>
  path <span class="op">=</span> <span class="cn">NULL</span>,
  format <span class="op">=</span> <span class="fu"><a href="../reference/eplusr_option.html">eplusr_option</a></span><span class="op">(</span><span class="st">"save_format"</span><span class="op">)</span>,
  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,
  copy_external <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-38">Arguments<a class="anchor" aria-label="anchor" href="#arguments-38"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>A path where to save the IDF file. If <code>NULL</code>, the path of
the <code>Idf</code> itself, i.e.
<a href="../../eplusr/html/Idf.html#method-path"><code>$path()</code></a>,
will be used.</p></dd>


<dt><code>format</code></dt>
<dd><p>Specific format used when formatting. Should be one of
<code>"asis"</code>, <code>"sorted"</code>, <code>"new_top"</code>, and <code>"new_bot"</code>.</p><ul><li><p>If <code>"asis"</code>, <code>Idf</code> object will be formatted in the same way as it
was when first read. If <code>Idf</code> object does not contain any format
saving option, which is typically the case when the model was not
saved using eplusr or IDFEditor, <code>"sorted"</code> will be used.</p></li>
<li><p><code>"sorted"</code>, <code>"new_top"</code> and <code>"new_bot"</code> are the same as the save
options <code>"Sorted"</code>, <code>"Original with New at Top"</code>, and <code>"Original with New at Bottom"</code> in IDFEditor. Default:
<code>eplusr_option("save_format")</code>.</p></li>
</ul></dd>


<dt><code>overwrite</code></dt>
<dd><p>Whether to overwrite the file if it already exists.
Default: <code>FALSE</code>.</p></dd>


<dt><code>copy_external</code></dt>
<dd><p>If <code>TRUE</code>, the external files extracted from
<code>$external_deps()</code> will also be copied into the same directory.
The values of file paths in the <code>Idf</code> will be changed into
relative path automatically. This makes it possible to create
fully reproducible simulation conditions. If <code>FALSE</code>, the
values of those fields that reference external file paths will
be updated to absolute paths. Default: <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-41">Details<a class="anchor" aria-label="anchor" href="#details-41"></a></h4>
<p><code>$save()</code> formats current <code>Idf</code> object, saves it as an IDF file and
returns the path of saved file invisibly. After saving,
<a href="../../eplusr/html/Idf.html#method-path"><code>$path()</code></a>
will also be updated to return the path of saved file.</p>
</div>

<div class="section">
<h4 id="returns-41">Returns<a class="anchor" aria-label="anchor" href="#returns-41"></a></h4>
<p>A length-one character vector, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-40">Examples<a class="anchor" aria-label="anchor" href="#examples-40"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# save Idf as a new file
idf$save(tempfile(fileext = ".idf"))

# save and overwrite current file
idf$save(overwrite = TRUE)

# save the model with newly created and modified objects at the top
idf$save(overwrite = TRUE, format = "new_top")

# save the model to a new file and copy all external csv files used in
# "Schedule:File" class into the same folder
idf$save(path = file.path(tempdir(), "test1.idf"), copy_external = TRUE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-run"></a><div class="section">
<h3 id="method-run-">Method <code>run()</code><a class="anchor" aria-label="anchor" href="#method-run-"></a></h3>
<p>Run simulation using EnergyPlus</p><div class="section">
<h4 id="usage-42">Usage<a class="anchor" aria-label="anchor" href="#usage-42"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>
  <span class="va">weather</span>,
  dir <span class="op">=</span> <span class="cn">NULL</span>,
  wait <span class="op">=</span> <span class="cn">TRUE</span>,
  force <span class="op">=</span> <span class="cn">FALSE</span>,
  copy_external <span class="op">=</span> <span class="cn">FALSE</span>,
  echo <span class="op">=</span> <span class="va">wait</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-39">Arguments<a class="anchor" aria-label="anchor" href="#arguments-39"></a></h4>
<p></p><div class="arguments"><dl><dt><code>weather</code></dt>
<dd><p>A path to an <code>.epw</code> file or an <a href="Epw.html">Epw</a> object. <code>weather</code>
can also be <code>NULL</code> which will force design-day-only
simulation. Note that this needs at least one
<code>Sizing:DesignDay</code> object exists in the <code>Idf</code>.</p></dd>


<dt><code>dir</code></dt>
<dd><p>The directory to save the simulation results. If <code>NULL</code>,
the folder of <code>Idf</code> path will be used. Default: <code>NULL</code>.</p></dd>


<dt><code>wait</code></dt>
<dd><p>Whether to wait until the simulation completes and print
the standard output and error of EnergyPlus. If <code>FALSE</code>, the
simulation will run in the background. Default is <code>TRUE</code>.</p></dd>


<dt><code>force</code></dt>
<dd><p>Only applicable when the last simulation runs with
<code>wait</code> equals to <code>FALSE</code> and is still running. If <code>TRUE</code>,
current running job is forced to stop and a new one will
start. Default: <code>FALSE</code>.</p></dd>


<dt><code>copy_external</code></dt>
<dd><p>If <code>TRUE</code>, the external files that current <code>Idf</code>
object depends on will also be copied into the simulation
output directory. The values of file paths in the Idf will be
changed automatically. This ensures that the output directory
will have all files needed for the model to run. Default is
<code>FALSE</code>.</p></dd>


<dt><code>echo</code></dt>
<dd><p>Only applicable when <code>wait</code> is <code>TRUE</code>. Whether to show
standard output and error from EnergyPlus. Default: same as
<code>wait</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-42">Details<a class="anchor" aria-label="anchor" href="#details-42"></a></h4>
<p><code>$run()</code> calls corresponding version of EnergyPlus to run the current
<code>Idf</code> object together with specified weather. The model and the
weather used will be copied into the output directory. An <a href="EplusJob.html">EplusJob</a>
object is returned which provides detailed info of the simulation and
methods to collect simulation results. Please see <a href="EplusJob.html">EplusJob</a> for
details.</p>
<p>eplusr uses the EnergyPlus command line interface which was
introduced since EnergyPlus 8.3.0. So <code>$run()</code> only supports models
with version no lower than 8.3.0.</p>
<p>When calling <code>$run()</code>, eplusr will do steps below to make sure the
output collecting methods work as expected. Please note that this may
result in an IDF file that may not be exactly same as your current
<code>Idf</code> object.</p><ul><li><p>eplusr uses EnergyPlus SQL output for extracting simulation
results. In order to do so, an object in <code>Output:SQLite</code> class with
<code>Option Type</code> value being <code>SimpleAndTabular</code> will be automatically
created if it does not exists.</p></li>
<li><p>In order to make sure <code>.rdd</code> (Report Data Dictionary) and <code>.mdd</code>
(Meter Data Dictionary) files are created during simulation, an
object in <code>Output:VariableDictionary</code> class with <code>Key Field</code> value
being <code>IDF</code> will be automatically created if it does not exists.</p></li>
</ul></div>

<div class="section">
<h4 id="returns-42">Returns<a class="anchor" aria-label="anchor" href="#returns-42"></a></h4>
<p>An <a href="EplusJob.html">EplusJob</a> object of current simulation.</p>
</div>
<div class="section">
<h4 id="examples-41">Examples<a class="anchor" aria-label="anchor" href="#examples-41"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf &lt;- Idf$new(path_idf)
# save the model to tempdir()
idf$save(file.path(tempdir(), "test_run.idf"))

# use the first epw file in "WeatherData" folder in EnergyPlus v8.8
# installation path
epw &lt;- list.files(file.path(eplus_config(8.8)$dir, "WeatherData"),
    pattern = "\\.epw$", full.names = TRUE)[1]

# if `dir` is NULL, the directory of IDF file will be used as simulation
# output directory
job &lt;- idf$run(epw, dir = NULL)

# run simulation in the background
idf$run(epw, dir = tempdir(), wait = FALSE)

# copy all external files into the directory run simulation
idf$run(epw, dir = tempdir(), copy_external = TRUE)

# check for simulation errors
job$errors()

# get simulation status
job$status()

# get output directory
job$output_dir()

# re-run the simulation
job$run()

# get simulation results
job$report_data()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-last_job"></a><div class="section">
<h3 id="method-last-job-">Method <code>last_job()</code><a class="anchor" aria-label="anchor" href="#method-last-job-"></a></h3>
<p>Get the last simulation job</p><div class="section">
<h4 id="usage-43">Usage<a class="anchor" aria-label="anchor" href="#usage-43"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">last_job</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-43">Details<a class="anchor" aria-label="anchor" href="#details-43"></a></h4>
<p><code>$last_job()</code> returns the last <a href="EplusJob.html">EplusJob</a> object that was created
using
<a href="../../eplusr/html/Idf.html#method-run"><code>$run()</code></a>. If the
<code>Idf</code> hasn't been run yet, <code>NULL</code> is returned.</p>
</div>

<div class="section">
<h4 id="returns-43">Returns<a class="anchor" aria-label="anchor" href="#returns-43"></a></h4>
<p><code>NULL</code> or an <a href="EplusJob.html">EplusJob</a> object.</p>
</div>
<div class="section">
<h4 id="examples-42">Examples<a class="anchor" aria-label="anchor" href="#examples-42"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$last_job()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-geometry"></a><div class="section">
<h3 id="method-geometry-">Method <code>geometry()</code><a class="anchor" aria-label="anchor" href="#method-geometry-"></a></h3>
<p>Extract <code>Idf</code> geometries</p><div class="section">
<h4 id="usage-44">Usage<a class="anchor" aria-label="anchor" href="#usage-44"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">geometry</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-44">Details<a class="anchor" aria-label="anchor" href="#details-44"></a></h4>
<p><code>$geometry()</code> extracts all geometry objects into an <a href="IdfGeometry.html">IdfGeometry</a>
object. <code>IdfGeometry</code> is an abstraction of a collection of geometry
in an Idf. It provides more detail methods to query geometry
properties, update geometry vertices and visualize geometry in 3D
using the <a href="https://cran.r-project.org/package=rgl" class="external-link">rgl</a> package.</p>
</div>

<div class="section">
<h4 id="returns-44">Returns<a class="anchor" aria-label="anchor" href="#returns-44"></a></h4>
<p>An <a href="IdfGeometry.html">IdfGeometry</a> object.</p>
</div>
<div class="section">
<h4 id="examples-43">Examples<a class="anchor" aria-label="anchor" href="#examples-43"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$geometry()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-view"></a><div class="section">
<h3 id="method-view-">Method <code>view()</code><a class="anchor" aria-label="anchor" href="#method-view-"></a></h3>
<p>View 3D <code>Idf</code> geometry</p><div class="section">
<h4 id="usage-45">Usage<a class="anchor" aria-label="anchor" href="#usage-45"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">view</span><span class="op">(</span>
  new <span class="op">=</span> <span class="cn">FALSE</span>,
  render_by <span class="op">=</span> <span class="st">"surface_type"</span>,
  wireframe <span class="op">=</span> <span class="cn">TRUE</span>,
  x_ray <span class="op">=</span> <span class="cn">FALSE</span>,
  axis <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-40">Arguments<a class="anchor" aria-label="anchor" href="#arguments-40"></a></h4>
<p></p><div class="arguments"><dl><dt><code>new</code></dt>
<dd><p>If <code>TRUE</code>, a new rgl window will be open using
<code><a href="https://dmurdoch.github.io/rgl/dev/reference/rgl.open.html" class="external-link">rgl::rgl.open()</a></code>. If <code>FALSE</code>, existing rgl window will be
reused if possible. Default: <code>FALSE</code>.</p></dd>


<dt><code>render_by</code></dt>
<dd><p>A single string specifying the way of rendering the
geometry. Possible values are:</p><ul><li><p><code>"surface_type"</code>: Default. Render the model by surface type
model. Walls, roofs, windows, doors, floors, and shading
surfaces will have unique colors.</p></li>
<li><p><code>"boundary"</code>: Render the model by outside boundary condition.
Only surfaces that have boundary conditions will be rendered
with a color. All other surfaces will be white.</p></li>
<li><p><code>"construction"</code>: Render the model by surface constructions.</p></li>
<li><p><code>"zone"</code>: Render the model by zones assigned.</p></li>
<li><p><code>"normal"</code>: Render the model by surface normal. The outside
face of a heat transfer face will be rendered as white and the
inside face will be rendered as red.</p></li>
</ul></dd>


<dt><code>wireframe</code></dt>
<dd><p>If <code>TRUE</code>, the wireframe of each surface will be
shown. Default: <code>TRUE</code>.</p></dd>


<dt><code>x_ray</code></dt>
<dd><p>If <code>TRUE</code>, all surfaces will be rendered translucently.
Default: <code>FALSE</code>.</p></dd>


<dt><code>axis</code></dt>
<dd><p>If <code>TRUE</code>, the X, Y and Z axes will be drawn at the
global origin. Default: <code>TRUE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-45">Details<a class="anchor" aria-label="anchor" href="#details-45"></a></h4>
<p><code>$view()</code> uses the <a href="https://cran.r-project.org/package=rgl" class="external-link">rgl</a>
package to visualize the IDF geometry in 3D in a similar way as
<a href="https://openstudio.net/" class="external-link">OpenStudio</a>.</p>
<p><code>$view()</code> returns an <a href="IdfViewer.html">IdfViewer</a> object which can be used to further
tweak the viewer scene.</p>
<p>In the rgl window, you can control the view using your mouse:</p><ul><li><p>Left button: Trackball</p></li>
<li><p>Right button: Pan</p></li>
<li><p>Middle button: Field-of-view (FOV). '0' means orthographic
projection.</p></li>
<li><p>Wheel: Zoom</p></li>
</ul></div>

<div class="section">
<h4 id="returns-45">Returns<a class="anchor" aria-label="anchor" href="#returns-45"></a></h4>
<p>An <a href="IdfViewer.html">IdfViewer</a> object</p>
</div>
<div class="section">
<h4 id="examples-44">Examples<a class="anchor" aria-label="anchor" href="#examples-44"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$view()
idf$view(render_by = "zone")
idf$view(render_by = "construction")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Print <code>Idf</code> object</p><div class="section">
<h4 id="usage-46">Usage<a class="anchor" aria-label="anchor" href="#usage-46"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span>zoom <span class="op">=</span> <span class="st">"class"</span>, order <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-41">Arguments<a class="anchor" aria-label="anchor" href="#arguments-41"></a></h4>
<p></p><div class="arguments"><dl><dt><code>zoom</code></dt>
<dd><p>Control how detailed of the Idf object should be printed.
Should be one of <code>"group"</code>, <code>"class"</code>, <code>"object"</code> and
<code>"field"</code>. Default: <code>"group"</code>.</p><ul><li><p><code>"group"</code>: all group names current existing are shown with prevailing
square bracket showing how many <strong>C</strong>lasses existing in that group.</p></li>
<li><p><code>"class"</code>: all class names are shown with prevailing square bracket
showing how many <strong>O</strong>bjects existing in that class, together with
parent group name of each class.</p></li>
<li><p><code>"object"</code>: all object IDs and names are shown, together with parent
class name of each object.</p></li>
<li><p><code>"field"</code>: all object IDs and names, field names and values are shown,
together with parent class name of each object.</p></li>
</ul></dd>


<dt><code>order</code></dt>
<dd><p>Only applicable when <code>zoom</code> is <code>"object"</code> or <code>"field"</code>.
If <code>TRUE</code>, objects are shown as the same order in the IDF. If
<code>FALSE</code>, objects are grouped and ordered by classes. Default:
<code>TRUE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-46">Details<a class="anchor" aria-label="anchor" href="#details-46"></a></h4>
<p><code>$print()</code> prints the <code>Idf</code> object according to different detail
level specified using the <code>zoom</code> argument.</p>
<p>With the default <code>zoom</code> level <code>object</code>, contents of the <code>Idf</code> object
is printed in a similar style as you see in IDF Editor, with
additional heading lines showing <code>Path</code>, <code>Version</code> of the <code>Idf</code>
object. Class names of objects are ordered by group and the number of
objects in classes are shown in square bracket.</p>
</div>

<div class="section">
<h4 id="returns-46">Returns<a class="anchor" aria-label="anchor" href="#returns-46"></a></h4>
<p>The <code>Idf</code> object itself, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-45">Examples<a class="anchor" aria-label="anchor" href="#examples-45"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
idf$print("group")
idf$print("class")
idf$print("object")
idf$print("field")

# order objects by there classes
idf$print("object", order = FALSE)
idf$print("field", order = FALSE)
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-47">Usage<a class="anchor" aria-label="anchor" href="#usage-47"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Idf</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-42">Arguments<a class="anchor" aria-label="anchor" href="#arguments-42"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$new`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># example model shipped with eplusr from EnergyPlus v8.8</span></span>
<span class="r-in"><span class="va">path_idf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/1ZoneUncontrolled.idf"</span>, package <span class="op">=</span> <span class="st">"eplusr"</span><span class="op">)</span> <span class="co"># v8.8</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If neither EnergyPlus v8.8 nor Idd v8.8 was found, error will</span></span>
<span class="r-in"><span class="co"># occur. If Idd v8.8 is found, it will be used automatically.</span></span>
<span class="r-in"><span class="va">idf</span> <span class="op">&lt;-</span> <span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path_idf</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># argument `idd` can be specified explicitly using `use_idd()`</span></span>
<span class="r-in"><span class="va">idf</span> <span class="op">&lt;-</span> <span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path_idf</span>, idd <span class="op">=</span> <span class="fu"><a href="use_idd.html">use_idd</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># you can set `download` arugment to "auto" in `use_idd()` if you</span></span>
<span class="r-in"><span class="co"># want to automatically download corresponding IDD file when</span></span>
<span class="r-in"><span class="co"># necessary</span></span>
<span class="r-in"><span class="va">idf</span> <span class="op">&lt;-</span> <span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path_idf</span>, <span class="fu"><a href="use_idd.html">use_idd</a></span><span class="op">(</span><span class="fl">8.8</span>, download <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Besides use a path to an IDF file, you can also provide IDF in literal</span></span>
<span class="r-in"><span class="co"># string format</span></span>
<span class="r-in"><span class="va">string_idf</span> <span class="op">&lt;-</span></span>
<span class="r-in">    <span class="st">"</span>
<span class="r-in">    Version, 8.8;</span>
<span class="r-in">    Building,</span>
<span class="r-in">        Building;                !- Name</span>
<span class="r-in">    "</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">string_idf</span>, <span class="fu"><a href="use_idd.html">use_idd</a></span><span class="op">(</span><span class="fl">8.8</span>, download <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$version`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get version</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">version</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$path`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get path</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">path</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># return `NULL` if Idf is not created from a file</span></span>
<span class="r-in"><span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"Version, 8.8;\n"</span><span class="op">)</span><span class="op">$</span><span class="fu">path</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$group_name`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get names of all groups Idf contains</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">group_name</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get group name of each object in Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">group_name</span><span class="op">(</span>sorted <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of all available groups in underlying Idd</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">group_name</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$class_name`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get names of all classes in Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of all classes grouped by group names in Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>by_group <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get class name of each object in Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>sorted <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of all available classes in underlying Idd</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of all available classes grouped by group names in</span></span>
<span class="r-in"><span class="co"># underlying Idd</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span>, by_group <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_valid_group`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># check if input is a valid group name in current Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_group</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Schedules"</span>, <span class="st">"Compliance Objects"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check if input is a valid group name in underlying Idd</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_group</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Schedules"</span>, <span class="st">"Compliance Objects"</span><span class="op">)</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_valid_class`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># check if input is a valid class name in current Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_class</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Building"</span>, <span class="st">"ShadowCalculation"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check if input is a valid class name in underlying Idd</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_class</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Building"</span>, <span class="st">"ShadowCalculation"</span><span class="op">)</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$definition`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get the IddObject object for specified class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">definition</span><span class="op">(</span><span class="st">"Version"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object_id`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get IDs of all objects in current Idf object</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get IDs of all objects in current Idf object, and merge them into a</span></span>
<span class="r-in"><span class="co"># single integer vector</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span>simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get IDs of objects in class Version and Zone</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Version"</span>, <span class="st">"Zone"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get IDs of objects in class Version and Zone, and merge them into a</span></span>
<span class="r-in"><span class="co"># single integer vector</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Version"</span>, <span class="st">"Zone"</span><span class="op">)</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object_name`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get names of all objects in current Idf object</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of all objects in current Idf object, and merge them into</span></span>
<span class="r-in"><span class="co"># a single character vector</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span>simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of objects in class Version and Zone</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Version"</span>, <span class="st">"Zone"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get names of objects in class Version and Zone, and merge them into</span></span>
<span class="r-in"><span class="co"># a single character vector</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Version"</span>, <span class="st">"Zone"</span><span class="op">)</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object_num`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get total number of objects</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_num</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get number of objects in class Zone and Schedule:Compact</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_num</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Zone"</span>, <span class="st">"Schedule:Compact"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_valid_id`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_id</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">51</span>, <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_valid_name`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_name</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Simple One Zone (Wireframe DXF)"</span>, <span class="st">"ZONE ONE"</span>, <span class="st">"a"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># name matching is case-insensitive</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid_name</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"simple one zone (wireframe dxf)"</span>, <span class="st">"zone one"</span>, <span class="st">"a"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get an object whose ID is 3</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get an object whose name is "simple one zone (wireframe dxf)"</span></span>
<span class="r-in"><span class="co"># NOTE: object name matching is case-insensitive</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object</span><span class="op">(</span><span class="st">"simple one zone (wireframe dxf)"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$objects`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get objects whose IDs are 3 and 10</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get objects whose names are "Simple One Zone (Wireframe DXF)" and "ZONE ONE"</span></span>
<span class="r-in"><span class="co"># NOTE: object name matching is case-insensitive</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Simple One Zone (Wireframe DXF)"</span>, <span class="st">"zone one"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object_unique`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get the SimulationColtrol object</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_unique</span><span class="op">(</span><span class="st">"SimulationControl"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># S3 "[[" and "$" can also be used</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="va">SimulationControl</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">[[</span><span class="st">"SimulationControl"</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$objects_in_class`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get all objects in Zone class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects_in_class</span><span class="op">(</span><span class="st">"Zone"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># S3 "[[" and "$" can also be used</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="va">Zone</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">[[</span><span class="st">"Zone"</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$objects_in_group`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get all objects in Schedules group</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects_in_group</span><span class="op">(</span><span class="st">"Schedules"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$object_relation`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># check each layer's reference of a construction named FLOOR</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_relation</span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"ref_to"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check where is this construction being used</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object_relation</span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"ref_by"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$objects_in_relation`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get a construction named FLOOR and all materials it uses</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects_in_relation</span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"ref_to"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get a construction named FLOOR and all surfaces that uses it</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects_in_relation</span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"ref_by"</span>, class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$search_object`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get all objects whose names contains "floor"</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">search_object</span><span class="op">(</span><span class="st">"floor"</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$dup`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># duplicate an object named "FLOOR"</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">dup</span><span class="op">(</span><span class="st">"floor"</span><span class="op">)</span> <span class="co"># New object name 'FLOOR_1' is auto-generated</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># duplicate that object again by specifing object ID</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">dup</span><span class="op">(</span><span class="fl">16</span><span class="op">)</span> <span class="co"># New object name 'FLOOR_2' is auto-generated</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># duplicate that object two times and giving new names</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">dup</span><span class="op">(</span>new_floor <span class="op">=</span> <span class="st">"floor"</span>, new_floor2 <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># duplicate that object multiple times using variable inputs</span></span>
<span class="r-in"><span class="va">floors_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>new_floor3 <span class="op">=</span> <span class="st">"floor"</span>, new_floor4 <span class="op">=</span> <span class="st">"floor"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">floors_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"flr"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">dup</span><span class="op">(</span><span class="va">floors_1</span>, <span class="va">floors_2</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$add`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># add a new Building object with all default values</span></span>
<span class="r-in"><span class="va">empty</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_idf.html">empty_idf</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span> <span class="co"># create an empty Idf</span></span>
<span class="r-in"><span class="va">empty</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span>Building <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add a new Building object with all default values and comments</span></span>
<span class="r-in"><span class="va">empty</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_idf.html">empty_idf</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span> <span class="co"># create an empty Idf</span></span>
<span class="r-in"><span class="va">empty</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span>Building <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>.comment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"this is"</span>, <span class="st">"a new building"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add a new RunPeriod object with all possible fields</span></span>
<span class="r-in"><span class="va">empty</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_idf.html">empty_idf</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span> <span class="co"># create an empty Idf</span></span>
<span class="r-in"><span class="va">empty</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span>Building <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, RunPeriod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rp"</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">31</span><span class="op">)</span>, .all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add objects using variable inputs</span></span>
<span class="r-in"><span class="va">empty</span> <span class="op">&lt;-</span> <span class="fu"><a href="empty_idf.html">empty_idf</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span> <span class="co"># create an empty Idf</span></span>
<span class="r-in"><span class="va">objs1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Schedule_Constant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"const"</span><span class="op">)</span>, Building <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">rp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>RunPeriod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rp"</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">28</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">empty</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">objs1</span>, <span class="va">rp</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$set`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># modify an object by name (case-insensitive)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>roughness <span class="op">=</span> <span class="st">"smooth"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># modify an object by ID</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>..12 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>roughness <span class="op">=</span> <span class="st">"rough"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># overwrite existing object comments</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>.comment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"New comment"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># assign default values to fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>solar_absorptance <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, .default <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set field values to blanks</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>solar_absorptance <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, .default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set field values to blank and delete trailing fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>visible_absorptance <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, .default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set field values to blank and keep blank fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>visible_absorptance <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, .default <span class="op">=</span> <span class="cn">FALSE</span>, .empty <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set all fields in one class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">Material_NoMass</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>visible_absorptance <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set multiple objects in one class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="fu">.</span><span class="op">(</span><span class="st">"r13layer"</span>, <span class="st">"r31layer"</span><span class="op">)</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>solar_absorptance <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># above is equivalent to</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>solar_absorptance <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>,</span>
<span class="r-in">        r31layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>solar_absorptance <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># use variable input</span></span>
<span class="r-in"><span class="va">sets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>r13layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>roughness <span class="op">=</span> <span class="st">"smooth"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">sets</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$del`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># delete objects using names</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">object</span><span class="op">(</span><span class="st">"Fraction"</span><span class="op">)</span> <span class="co"># ScheduleTypeLimits</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"Fraction"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># delete objects using IDs</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">39</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span> <span class="co"># Output:Variable</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="fl">39</span>, <span class="fl">40</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># cannot delete objects that are referred by others</span></span>
<span class="r-in"><span class="fu"><a href="level_checks.html">level_checks</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">reference</span> <span class="co"># reference-checking is enable by default</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"r13layer"</span><span class="op">)</span> <span class="co"># error</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># force to delete objects even thay are referred by others</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"r13layer"</span>, .force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># delete objects and also objects that refer to them</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"r31layer"</span>, .ref_by <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># Construction 'ROOF31' will be kept</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># delete objects and also objects that they refer to</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"extlights"</span>, .ref_to <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># Schedule 'AlwaysOn' will be kept</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># delete objects and also other objects that refer to them recursively</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="st">"roof31"</span>, .ref_by <span class="op">=</span> <span class="cn">TRUE</span>, .recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># delete objects using variable inputs</span></span>
<span class="r-in"><span class="va">ids</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">object_id</span><span class="op">(</span><span class="st">"Output:Variable"</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">del</span><span class="op">(</span><span class="va">ids</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$purge`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># purge unused "Fraction" schedule type</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">purge</span><span class="op">(</span><span class="st">"on/off"</span><span class="op">)</span> <span class="co"># ScheduleTypeLimits</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># purge all unused schedule types</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">purge</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ScheduleTypeLimits"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># purge all unused schedule related objects</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">purge</span><span class="op">(</span>group <span class="op">=</span> <span class="st">"Schedules"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$duplicated`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># check if there are any duplications in the Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">duplicated</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ScheduleTypeLimits"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check if there are any duplications in the schedule types</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">duplicated</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ScheduleTypeLimits"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check if there are any duplications in the schedule groups and</span></span>
<span class="r-in"><span class="co"># material class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">duplicated</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span>, group <span class="op">=</span> <span class="st">"Schedules"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$unique`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># remove duplications in the Idf</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">unique</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ScheduleTypeLimits"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># remove duplications in the schedule types</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">unique</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ScheduleTypeLimits"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># remove duplications in the schedule groups and material class</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">unique</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span>, group <span class="op">=</span> <span class="st">"Schedules"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$rename`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"on/off"</span>, <span class="st">"test 352a"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">rename</span><span class="op">(</span>on_off <span class="op">=</span> <span class="st">"on/off"</span>, test_352a <span class="op">=</span> <span class="fl">51</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$insert`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># insert all material from another IDF</span></span>
<span class="r-in"><span class="va">path_idf2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="use_eplus.html">eplus_config</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span><span class="op">$</span><span class="va">dir</span>, <span class="st">"ExampleFiles/5ZoneTDV.idf"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf2</span> <span class="op">&lt;-</span> <span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path_idf2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">insert</span><span class="op">(</span><span class="va">idf2</span><span class="op">$</span><span class="va">Material</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># insert objects from same Idf is equivalent to using Idf$dup()</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">insert</span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="va">SizingPeriod_DesignDay</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$load`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># load objects from character vectors</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Material,"</span>,</span>
<span class="r-in">      <span class="st">"    mat,                     !- Name"</span>,</span>
<span class="r-in">      <span class="st">"    MediumSmooth,            !- Roughness"</span>,</span>
<span class="r-in">      <span class="st">"    0.667,                   !- Thickness {m}"</span>,</span>
<span class="r-in">      <span class="st">"    0.115,                   !- Conductivity {W/m-K}"</span>,</span>
<span class="r-in">      <span class="st">"    513,                     !- Density {kg/m3}"</span>,</span>
<span class="r-in">      <span class="st">"    1381;                    !- Specific Heat {J/kg-K}"</span><span class="op">)</span>,</span>
<span class="r-in"></span>
<span class="r-in">    <span class="st">"Construction, const, mat;"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># load objects from data.frame definitions</span></span>
<span class="r-in"><span class="va">dt</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">dt</span><span class="op">[</span><span class="va">field</span> <span class="op">==</span> <span class="st">"Name"</span>, <span class="va">value</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">value</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="va">dt</span><span class="op">[</span><span class="va">field</span> <span class="op">==</span> <span class="st">"Thickness"</span>, <span class="va">value</span> <span class="op">:=</span> <span class="st">"0.5"</span><span class="op">]</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="va">dt</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># by default, duplications are removed</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># keep empty fields as they are</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="st">"Material, mat1, smooth, 0.5, 0.2, 500, 1000,,, 0.5;"</span>, .default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># keep trailing empty fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">load</span><span class="op">(</span><span class="st">"Material, mat2, smooth, 0.5, 0.2, 500, 1000,,,;"</span>,</span>
<span class="r-in">    .default <span class="op">=</span> <span class="cn">FALSE</span>, .empty <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$update`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># update objects from string definitions:</span></span>
<span class="r-in"><span class="va">str</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span><span class="st">"zone one"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, format <span class="op">=</span> <span class="st">"new_top"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">str</span><span class="op">[</span><span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"2,"</span> <span class="co"># Multiplier</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span><span class="va">str</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># update objects from data.frame definitions:</span></span>
<span class="r-in"><span class="va">dt</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="st">"zone one"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">dt</span><span class="op">[</span><span class="va">field</span> <span class="op">==</span> <span class="st">"Multiplier"</span>, <span class="va">value</span> <span class="op">:=</span> <span class="st">"1"</span><span class="op">]</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span><span class="va">dt</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$search_value`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># search values that contains "floor"</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">search_value</span><span class="op">(</span><span class="st">"floor"</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># search values that contains "floor" in class Construction</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">search_value</span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"Construction"</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$replace_value`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># search values that contains "win" and replace them with "windows"</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">replace_value</span><span class="op">(</span><span class="st">"win"</span>, <span class="st">"windows"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$validate`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check at predefined validate level</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="st">"none"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="st">"draft"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="st">"final"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># custom validate checking components</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="fu"><a href="custom_validate.html">custom_validate</a></span><span class="op">(</span>auto_field <span class="op">=</span> <span class="cn">TRUE</span>, choice <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_valid`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check at predefined validate level</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="st">"none"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="st">"draft"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="st">"final"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># custom validate checking components</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="fu"><a href="custom_validate.html">custom_validate</a></span><span class="op">(</span>auto_field <span class="op">=</span> <span class="cn">TRUE</span>, choice <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$to_string`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># get text format of the whole Idf</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get text format of the whole Idf, excluding the header and all comments</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span>comment <span class="op">=</span> <span class="cn">FALSE</span>, header <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get text format of all objects in class Material</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span>, comment <span class="op">=</span> <span class="cn">FALSE</span>, header <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get text format of some objects</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"floor"</span>, <span class="st">"zone one"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># tweak output formatting</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">idf</span><span class="op">$</span><span class="fu">to_string</span><span class="op">(</span><span class="st">"floor"</span>, leading <span class="op">=</span> <span class="fl">0</span>, sep_at <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$to_table`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># extract whole Idf data</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># extract all data from class Material</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Material"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># extract multiple object data</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FLOOR"</span>, <span class="st">"ZONE ONE"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># keep value types and put actual values into a list column</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FLOOR"</span>, <span class="st">"ZONE ONE"</span><span class="op">)</span>, string_value <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">value</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># add the unit to each value</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FLOOR"</span>, <span class="st">"ZONE ONE"</span><span class="op">)</span>, string_value <span class="op">=</span> <span class="cn">FALSE</span>, unit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get all possible fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="st">"ZONE ONE"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># make sure all objects in same class have the same number of fields</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Construction"</span>, align <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get a wide table with string values</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"Construction"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get a wide table with actual values</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"OtherEquipment"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span>, string_value <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># group extensible by extensible group number</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, group_ext <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># group extensible by extensible group number and convert into a wide table</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, group_ext <span class="op">=</span> <span class="st">"group"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># group extensible by extensible field index</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, group_ext <span class="op">=</span> <span class="st">"index"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># group extensible by extensible field index and convert into a wide table</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, group_ext <span class="op">=</span> <span class="st">"index"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># when grouping extensible, 'string_value' and 'unit' still take effect</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, group_ext <span class="op">=</span> <span class="st">"index"</span>,</span>
<span class="r-in">    wide <span class="op">=</span> <span class="cn">TRUE</span>, string_value <span class="op">=</span> <span class="cn">FALSE</span>, unit <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create table for new object input</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"BuildingSurface:Detailed"</span>, init <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$external_deps`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">external_deps</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$is_unsaved`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">is_unsaved</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$save`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># save Idf as a new file</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".idf"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># save and overwrite current file</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span>overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># save the model with newly created and modified objects at the top</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span>overwrite <span class="op">=</span> <span class="cn">TRUE</span>, format <span class="op">=</span> <span class="st">"new_top"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># save the model to a new file and copy all external csv files used in</span></span>
<span class="r-in"><span class="co"># "Schedule:File" class into the same folder</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"test1.idf"</span><span class="op">)</span>, copy_external <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$run`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span> <span class="op">&lt;-</span> <span class="va">Idf</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">path_idf</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># save the model to tempdir()</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"test_run.idf"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># use the first epw file in "WeatherData" folder in EnergyPlus v8.8</span></span>
<span class="r-in"><span class="co"># installation path</span></span>
<span class="r-in"><span class="va">epw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="use_eplus.html">eplus_config</a></span><span class="op">(</span><span class="fl">8.8</span><span class="op">)</span><span class="op">$</span><span class="va">dir</span>, <span class="st">"WeatherData"</span><span class="op">)</span>,</span>
<span class="r-in">    pattern <span class="op">=</span> <span class="st">"\\.epw$"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># if `dir` is NULL, the directory of IDF file will be used as simulation</span></span>
<span class="r-in"><span class="co"># output directory</span></span>
<span class="r-in"><span class="va">job</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="va">epw</span>, dir <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># run simulation in the background</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="va">epw</span>, dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, wait <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># copy all external files into the directory run simulation</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="va">epw</span>, dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, copy_external <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># check for simulation errors</span></span>
<span class="r-in"><span class="va">job</span><span class="op">$</span><span class="fu">errors</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get simulation status</span></span>
<span class="r-in"><span class="va">job</span><span class="op">$</span><span class="fu">status</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get output directory</span></span>
<span class="r-in"><span class="va">job</span><span class="op">$</span><span class="fu">output_dir</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># re-run the simulation</span></span>
<span class="r-in"><span class="va">job</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get simulation results</span></span>
<span class="r-in"><span class="va">job</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$last_job`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">last_job</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$geometry`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">geometry</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$view`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">view</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">view</span><span class="op">(</span>render_by <span class="op">=</span> <span class="st">"zone"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">view</span><span class="op">(</span>render_by <span class="op">=</span> <span class="st">"construction"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Idf$print`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"group"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"class"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"object"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"field"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># order objects by there classes</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"object"</span>, order <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">idf</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="st">"field"</span>, order <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://github.com/hongyuanjia" class="external-link">Hongyuan Jia</a>, Adrian Chong.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

