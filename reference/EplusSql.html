<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Retrieve Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql • eplusr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Retrieve Simulation Outputs Using EnergyPlus SQLite Output File — EplusSql"><meta property="og:description" content="EplusSql class wraps SQL queries that can retrieve simulation outputs using
EnergyPlus SQLite output file."><meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141601756-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-141601756-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.16.2.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/eplusr.html">Introduction to eplusr</a>
    </li>
    <li>
      <a href="../articles/job.html">Run simulation and data exploration</a>
    </li>
    <li>
      <a href="../articles/param.html">Parametric simulations</a>
    </li>
    <li>
      <a href="../articles/transition.html">Update IDF version</a>
    </li>
    <li>
      <a href="../articles/epw.html">Work with weather files</a>
    </li>
    <li>
      <a href="../articles/schedule.html">Work with `Schedule:Compact` objects</a>
    </li>
    <li>
      <a href="../articles/geom.html">Work with geometries</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently asked questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hongyuanjia/eplusr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve Simulation Outputs Using EnergyPlus SQLite Output File</h1>
    <small class="dont-index">Source: <a href="https://github.com/hongyuanjia/eplusr/blob/HEAD/R/sql.R" class="external-link"><code>R/sql.R</code></a></small>
    <div class="hidden name"><code>EplusSql.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>EplusSql</code> class wraps SQL queries that can retrieve simulation outputs using
EnergyPlus SQLite output file.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>SQLite output is an optional output format for EnergyPlus. It will be created
if there is an object in class <code>Output:SQLite</code>. If the value of field
<code>Option</code> in class <code>Output:SQLite</code> is set to <code>"SimpleAndTabular"</code>, then
database tables related to the tabular reports will be also included.</p>
<p>There are more than 30 tables in the SQLite output file which contains all of
the data found in EnergyPlus's tabular output files, standard variable and
meter output files, plus a number of reports that are found in the
eplusout.eio output file. The full description for SQLite outputs can be
found in the EnergyPlus <em>"Output Details and Examples"</em> documentation.  Note
that all column names of tables returned have been tidied, i.e. <code>"KeyValue"</code>
becomes <code>"key_value"</code>, <code>"IsMeter"</code> becomes <code>"is_meter"</code> and etc.</p>
<p><code>EplusSql</code> class makes it possible to directly retrieve simulation results
without creating an <a href="EplusJob.html">EplusJob</a> object. <a href="EplusJob.html">EplusJob</a> can only get simulation
outputs after the job was successfully run before.</p>
<p>However, it should be noted that, unlike <a href="EplusJob.html">EplusJob</a>, there is no checking on
whether the simulation is terminated or completed unsuccessfully or, the
parent Idf has been changed since last simulation. This means that you may
encounter some problems when retrieve data from an unsuccessful simulation.
It is suggested to carefully go through the <code>.err</code> file using <code><a href="read_err.html">read_err()</a></code> to
make sure the output data in the SQLite is correct and reliable.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Hongyuan Jia</p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-EplusSql-new"><code>EplusSql$new()</code></a></p></li>
<li><p><a href="#method-EplusSql-path"><code>EplusSql$path()</code></a></p></li>
<li><p><a href="#method-EplusSql-path_idf"><code>EplusSql$path_idf()</code></a></p></li>
<li><p><a href="#method-EplusSql-list_table"><code>EplusSql$list_table()</code></a></p></li>
<li><p><a href="#method-EplusSql-read_table"><code>EplusSql$read_table()</code></a></p></li>
<li><p><a href="#method-EplusSql-report_data_dict"><code>EplusSql$report_data_dict()</code></a></p></li>
<li><p><a href="#method-EplusSql-report_data"><code>EplusSql$report_data()</code></a></p></li>
<li><p><a href="#method-EplusSql-tabular_data"><code>EplusSql$tabular_data()</code></a></p></li>
<li><p><a href="#method-EplusSql-print"><code>EplusSql$print()</code></a></p></li>
</ul></div><p></p><hr><a id="method-EplusSql-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create an <code>EplusSql</code> object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/EplusSql.html">EplusSql</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">sql</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sql</code></dt>
<dd><p>A path to an local EnergyPlus SQLite output file.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An <code>EplusSql</code> object.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
if (is_avail_eplus("8.8")) {
    idf_name &lt;- "1ZoneUncontrolled.idf"
    epw_name &lt;-  "USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"

    idf_path &lt;- path_eplus_example("8.8", idf_name)
    epw_path &lt;- path_eplus_weather("8.8", epw_name)

    # copy to tempdir and run the model
    idf &lt;- read_idf(idf_path)
    idf$run(epw_path, tempdir(), echo = FALSE)

    # create from local file
    sql &lt;- eplus_sql(file.path(tempdir(), "1ZoneUncontrolled.sql"))
}
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-path"></a><div class="section">
<h3 id="method-path-">Method <code>path()</code><a class="anchor" aria-label="anchor" href="#method-path-"></a></h3>
<p>Get the file path of current <code>EpwSql</code> object</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">path</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p><code>$path()</code> returns the path of EnergyPlus SQLite file.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A single string.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get path
sql$path()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-path_idf"></a><div class="section">
<h3 id="method-path-idf-">Method <code>path_idf()</code><a class="anchor" aria-label="anchor" href="#method-path-idf-"></a></h3>
<p>Get the path of corresponding IDF file</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">path_idf</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p><code>$path_idf()</code> returns the IDF file path with same name as the SQLite
file in the same folder. <code>NULL</code> is returned if no corresponding IDF
is found.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>NULL or a single string.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# get path
sql$path_idf()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-list_table"></a><div class="section">
<h3 id="method-list-table-">Method <code>list_table()</code><a class="anchor" aria-label="anchor" href="#method-list-table-"></a></h3>
<p>List all table names in current EnergyPlus SQL output</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">list_table</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p><code>$list_table()</code> returns all available table and view names in the
EnergyPlus SQLite file.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A character vector</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
sql$list_table()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-read_table"></a><div class="section">
<h3 id="method-read-table-">Method <code>read_table()</code><a class="anchor" aria-label="anchor" href="#method-read-table-"></a></h3>
<p>Read a single table from current EnergyPlus SQL output</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">read_table</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>A single string specifying the name of table to read.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p><code>$read_table()</code> takes a valid table <code>name</code> of those from
<a href="../../eplusr/html/EplusSql.html#method-list_table"><code>$list_table()</code></a>
and returns that table data in a <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> format.</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# read a specific table
sql$read_table("Zones")
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-report_data_dict"></a><div class="section">
<h3 id="method-report-data-dict-">Method <code>report_data_dict()</code><a class="anchor" aria-label="anchor" href="#method-report-data-dict-"></a></h3>
<p>Read report data dictionary from current EnergyPlus SQL output</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">report_data_dict</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p><code>$report_data_dict()</code> returns a <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> which
contains all information about report data.</p>
<p>For details on the meaning of each columns, please see "2.20.2.1
ReportDataDictionary Table" in EnergyPlus "Output Details and
Examples" documentation.</p>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> of 10 columns:</p><ul><li><p><code>report_data_dictionary_index</code>: The integer used to link the
dictionary data to the variable data. Mainly useful when joining
different tables</p></li>
<li><p><code>is_meter</code>: Whether report data is a meter data. Possible values:
<code>0</code> and <code>1</code></p></li>
<li><p><code>timestep_type</code>: Type of data timestep. Possible values: <code>Zone</code> and
<code>HVAC System</code></p></li>
<li><p><code>key_value</code>: Key name of the data</p></li>
<li><p><code>name</code>: Actual report data name</p></li>
<li><p><code>reporting_frequency</code>:</p></li>
<li><p><code>schedule_name</code>: Name of the the schedule that controls reporting
frequency.</p></li>
<li><p><code>units</code>: The data units</p></li>
</ul></div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
sql$report_data_dict()
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-report_data"></a><div class="section">
<h3 id="method-report-data-">Method <code>report_data()</code><a class="anchor" aria-label="anchor" href="#method-report-data-"></a></h3>
<p>Read report data</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span></span>
<span>  key_value <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tz <span class="op">=</span> <span class="st">"UTC"</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  wide <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  day <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hour <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minute <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulation_days <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  day_type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  environment_name <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key_value</code></dt>
<dd><p>A character vector to identify key values of the
data. If <code>NULL</code>, all keys of that variable will be returned.
<code>key_value</code> can also be data.frame that contains <code>key_value</code>
and <code>name</code> columns. In this case, <code>name</code> argument in
<code>$report_data()</code> is ignored. All available <code>key_value</code> for
current simulation output can be obtained using
<a href="../../eplusr/html/EplusSql.html#method-report_data_dict"><code>$report_data_dict()</code></a>.
Default: <code>NULL</code>.</p></dd>


<dt><code>name</code></dt>
<dd><p>A character vector to identify names of the data. If
<code>NULL</code>, all names of that variable will be returned. If
<code>key_value</code> is a data.frame, <code>name</code> is ignored. All available
<code>name</code> for current simulation output can be obtained using
<a href="../../eplusr/html/EplusSql.html#method-report_data_dict"><code>$report_data_dict()</code></a>.
Default: <code>NULL</code>.</p></dd>


<dt><code>year</code></dt>
<dd><p>Year of the date time in column <code>datetime</code>. If <code>NULL</code>, it
will calculate a year value that meets the start day of week
restriction for each environment. Default: <code>NULL</code>.</p></dd>


<dt><code>tz</code></dt>
<dd><p>Time zone of date time in column <code>datetime</code>. Default:
<code>"UTC"</code>.</p></dd>


<dt><code>case</code></dt>
<dd><p>A single string used to add a character column <code>case</code> in
the returned results to indicate the case of this simulation.
If <code>NULL</code>, no column is added. If <code>"auto"</code>, the name of the
IDF file without extension is used. Default: <code>"auto"</code>.</p></dd>


<dt><code>all</code></dt>
<dd><p>If <code>TRUE</code>, extra columns are also included in the returned
<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>.</p></dd>


<dt><code>wide</code></dt>
<dd><p>If <code>TRUE</code>, the output is formatted in the same way as
standard EnergyPlus csv output file.</p></dd>


<dt><code>period</code></dt>
<dd><p>A Date or POSIXt vector used to specify which time
period to return. The year value does not matter and only
month, day, hour and minute value will be used when
subsetting. If <code>NULL</code>, all time period of data is returned.
Default: <code>NULL</code>.</p></dd>


<dt><code>month, day, hour, minute</code></dt>
<dd><p>Each is an integer vector for month,
day, hour, minute subsetting of <code>datetime</code> column when
querying on the SQL database. If <code>NULL</code>, no subsetting is
performed on those components. All possible <code>month</code>, <code>day</code>,
<code>hour</code> and <code>minute</code> can be obtained using
<a href="../../eplusr/html/EplusSql.html#method-read_table"><code>$read_table("Time")</code></a>.
Default: <code>NULL</code>.</p></dd>


<dt><code>interval</code></dt>
<dd><p>An integer vector used to specify which interval
length of report to extract. If <code>NULL</code>, all interval will be
used. Default: <code>NULL</code>.</p></dd>


<dt><code>simulation_days</code></dt>
<dd><p>An integer vector to specify which simulation
day data to extract. Note that this number resets after warmup
and at the beginning of an environment period. All possible
<code>simulation_days</code> can be obtained using
<a href="../../eplusr/html/EplusSql.html#method-read_table"><code>$read_table("Time")</code></a>.
If <code>NULL</code>, all simulation days will be used. Default: <code>NULL</code>.</p></dd>


<dt><code>day_type</code></dt>
<dd><p>A character vector to specify which day type of data
to extract. All possible day types are: <code>Sunday</code>, <code>Monday</code>,
<code>Tuesday</code>, <code>Wednesday</code>, <code>Thursday</code>, <code>Friday</code>, <code>Saturday</code>,
<code>Holiday</code>, <code>SummerDesignDay</code>, <code>WinterDesignDay</code>, <code>CustomDay1</code>,
and <code>CustomDay2</code>. All possible values for current simulation
output can be obtained using
<a href="../../eplusr/html/EplusSql.html#method-read_table"><code>$read_table("Time")</code></a>.
A few grouped options are also provided:</p><ul><li><p><code>"Weekday"</code>: All working days, i.e. from Monday to Friday</p></li>
<li><p><code>"Weekend"</code>: Saturday and Sunday</p></li>
<li><p><code>"DesignDay"</code>: Equivalent to <code>"SummerDesignDay"</code> plus <code>"WinterDesignDay"</code></p></li>
<li><p><code>"CustomDay"</code>: CustomDay1 and CustomDay2</p></li>
<li><p><code>"SpecialDay"</code>: Equivalent to <code>"DesignDay"</code> plus <code>"CustomDay"</code></p></li>
<li><p><code>"NormalDay"</code>: Equivalent to <code>"Weekday"</code> and <code>"Weekend"</code> plus <code>"Holiday"</code></p></li>
</ul></dd>


<dt><code>environment_name</code></dt>
<dd><p>A character vector to specify which
environment data to extract. If <code>NULL</code>, all environment data
are returned. Default: <code>NULL</code>. All possible
<code>environment_name</code> for current simulation output can be
obtained using:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="sc">$</span><span class="fu">read_table</span>(<span class="st">"EnvironmentPeriods"</span>)</span></code></pre><p></p></div></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p><code>$report_data()</code> extracts the report data in a
<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> using key values, variable names and other
specifications.</p>
<p><code>$report_data()</code> can also directly take all or subset output from
<code>$report_data_dict()</code> as input, and extract all data specified.</p>
<p>The returned column numbers varies depending on <code>all</code> argument.</p><ul><li><p><code>all</code> is <code>FALSE</code>, the returned <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> has 6 columns:</p><ul><li><p><code>case</code>: Simulation case specified using <code>case</code> argument</p></li>
<li><p><code>datetime</code>: The date time of simulation result</p></li>
<li><p><code>key_value</code>: Key name of the data</p></li>
<li><p><code>name</code>: Actual report data name</p></li>
<li><p><code>units</code>: The data units</p></li>
<li><p><code>value</code>: The data value</p></li>
</ul></li>
<li><p><code>all</code> is <code>TRUE</code>, besides columns described above, extra columns are also
included:</p><ul><li><p><code>month</code>: The month of reported date time</p></li>
<li><p><code>day</code>: The day of month of reported date time</p></li>
<li><p><code>hour</code>: The hour of reported date time</p></li>
<li><p><code>minute</code>: The minute of reported date time</p></li>
<li><p><code>dst</code>: Daylight saving time indicator. Possible values: <code>0</code> and <code>1</code></p></li>
<li><p><code>interval</code>: Length of reporting interval</p></li>
<li><p><code>simulation_days</code>: Day of simulation</p></li>
<li><p><code>day_type</code>: The type of day, e.g. <code>Monday</code>, <code>Tuesday</code> and etc.</p></li>
<li><p><code>environment_period_index</code>: The indices of environment.</p></li>
<li><p><code>environment_name</code>: A text string identifying the environment.</p></li>
<li><p><code>is_meter</code>: Whether report data is a meter data. Possible values: <code>0</code> and
<code>1</code></p></li>
<li><p><code>type</code>: Nature of data type with respect to state. Possible values: <code>Sum</code>
and <code>Avg</code></p></li>
<li><p><code>index_group</code>: The report group, e.g. <code>Zone</code>, <code>System</code></p></li>
<li><p><code>timestep_type</code>: Type of data timestep. Possible values: <code>Zone</code> and <code>HVAC System</code></p></li>
<li><p><code>reporting_frequency</code>: The reporting frequency of the variable, e.g.
<code>HVAC System Timestep</code>, <code>Zone Timestep</code>.</p></li>
<li><p><code>schedule_name</code>: Name of the the schedule that controls reporting
frequency.</p></li>
</ul></li>
</ul><p>With the <code>datetime</code> column, it is quite straightforward to apply time-series
analysis on the simulation output. However, another painful thing is that
every simulation run period has its own <code>Day of Week for Start Day</code>. Randomly
setting the <code>year</code> may result in a date time series that does not have
the same start day of week as specified in the RunPeriod objects.</p>
<p>eplusr provides a simple solution for this. By setting <code>year</code> to <code>NULL</code>,
which is the default behavior, eplusr will calculate a year value (from
year 2017 backwards) for each run period that compliances with the start
day of week restriction.</p>
<p>It is worth noting that EnergyPlus uses 24-hour clock system where 24 is only
used to denote midnight at the end of a calendar day. In EnergyPlus output,
"00:24:00" with a time interval being 15 mins represents a time period from
"00:23:45" to "00:24:00", and similarly "00:15:00" represents a time period
from "00:24:00" to "00:15:00" of the next day. This means that if current day
is Friday, day of week rule applied in schedule time period "00:23:45" to
"00:24:00" (presented as "00:24:00" in the output) is also Friday, but not
Saturday. However, if you try to get the day of week of time "00:24:00" in R,
you will get Saturday, but not Friday. This introduces inconsistency and may
cause problems when doing data analysis considering day of week value.</p>
<p>With <code>wide</code> equals <code>TRUE</code>, <code>$report_data()</code> will format the simulation output
in the same way as standard EnergyPlus csv output file. Sometimes this can be
useful as there may be existing tools/workflows that depend on this format.
When both <code>wide</code> and <code>all</code> are <code>TRUE</code>, columns of runperiod environment names
and date time components are also returned, including:
<code>environment_period_index", "environment_name</code>, <code>simulation_days</code>,
<code>datetime</code>, <code>month</code>, <code>day</code>, <code>hour</code>, <code>minute</code>, <code>day_type</code>.</p>
<p>For convenience, input character arguments matching in
<code>$report_data()</code> are <strong>case-insensitive</strong>.</p>
</div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# read all report data
sql$report_data()

# specify output variables using report data dictionary
dict &lt;- sql$report_data_dict()
sql$report_data(dict[units == "C"])

# specify output variables using 'key_value' and 'name'
sql$report_data("environment", "site outdoor air drybulb temperature")

# explicitly specify year value and time zone
sql$report_data(dict[1], year = 2020, tz = "Etc/GMT+8")

# explicitly specify case name
sql$report_data(dict[1], case = "example")

# get all possible columns
sql$report_data(dict[1], all = TRUE)

# return in a format that is similar as EnergyPlus CSV output
sql$report_data(dict[1], wide = TRUE)

# return in a format that is similar as EnergyPlus CSV output with
# extra columns
sql$report_data(dict[1], wide = TRUE, all = TRUE)

# only get data at the working hour on the first Monday
sql$report_data(dict[1], hour = 8:18, day_type = "monday", simulation_days = 1:7)

# only get specified run period data
sql$read_table("EnvironmentPeriods") # possible environment name
sql$report_data(dict[1], environment_name = "San Francisco Intl Ap CA USA TMY3 WMO#=724940")
# can also be done using 'environment_period_index' column
sql$report_data(dict[1], all = TRUE)[environment_period_index == 3L]
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-tabular_data"></a><div class="section">
<h3 id="method-tabular-data-">Method <code>tabular_data()</code><a class="anchor" aria-label="anchor" href="#method-tabular-data-"></a></h3>
<p>Read tabular data</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span></span>
<span>  report_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  report_for <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  column_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  wide <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  string_value <span class="op">=</span> <span class="op">!</span><span class="va">wide</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>report_name, report_for, table_name, column_name, row_name</code></dt>
<dd><p>Each is
a character vector for subsetting when querying the SQL
database.  For the meaning of each argument, please see the
description above.</p></dd>


<dt><code>case</code></dt>
<dd><p>A single string used to add a character column <code>case</code> in
the returned results to indicate the case of this simulation.
If <code>NULL</code>, no column is added. If <code>"auto"</code>, the name of the
IDF file without extension is used. Default: <code>"auto"</code>.</p></dd>


<dt><code>wide</code></dt>
<dd><p>If <code>TRUE</code>, each table will be converted into the similar
format as it is shown in EnergyPlus HTML output file. Default:
<code>FALSE</code>.</p></dd>


<dt><code>string_value</code></dt>
<dd><p>Only applicable when <code>wide</code> is <code>TRUE</code>. If
<code>string_value</code> is <code>FALSE</code>, instead of keeping all values as
characters, values in possible numeric columns are converted
into numbers. Default: the opposite of <code>wide</code>. Possible
numeric columns indicate column that:</p><ul><li><p>columns that have associated units</p></li>
<li><p>columns that contents numbers</p></li>
</ul></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p><code>$tabular_data()</code> extracts the tabular data in a
<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> using report, table, column and row name
specifications. The returned <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> has
9 columns:</p><ul><li><p><code>case</code>: Simulation case specified using <code>case</code> argument</p></li>
<li><p><code>index</code>: Tabular data index</p></li>
<li><p><code>report_name</code>: The name of the report that the record belongs to</p></li>
<li><p><code>report_for</code>: The <code>For</code> text that is associated with the record</p></li>
<li><p><code>table_name</code>: The name of the table that the record belongs to</p></li>
<li><p><code>column_name</code>: The name of the column that the record belongs to</p></li>
<li><p><code>row_name</code>: The name of the row that the record belongs to</p></li>
<li><p><code>units</code>: The units of the record</p></li>
<li><p><code>value</code>: The value of the record <strong>in string format</strong> by default.</p></li>
</ul><p>For convenience, input character arguments matching in
<code>$tabular_data()</code> are <strong>case-insensitive</strong>.</p>
</div>

<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>A <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> with 9 columns (when <code>wide</code> is
<code>FALSE</code>) or a named list of <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>s where the
names are the combination of <code>report_name</code>, <code>report_for</code> and
<code>table_name</code>.</p>
</div>
<div class="section">
<h4 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# read all tabular data
sql$tabular_data()

# explicitly specify data you want
str(sql$tabular_data(
    report_name = "AnnualBuildingUtilityPerformanceSummary",
    table_name = "Site and Source Energy",
    column_name = "Total Energy",
    row_name = "Total Site Energy"
))

# get tabular data in wide format and coerce numeric values
str(sql$tabular_data(
    report_name = "AnnualBuildingUtilityPerformanceSummary",
    table_name = "Site and Source Energy",
    column_name = "Total Energy",
    row_name = "Total Site Energy",
    wide = TRUE, string_value = FALSE
))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EplusSql-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Print <code>EplusSql</code> object</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EplusSql</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p><code>$print()</code> shows the core information of this <code>EplusSql</code> object,
including the path of the EnergyPlus SQLite file, last modified
time of the SQLite file and the path of the IDF file with the
same name in the same folder.</p>
</div>

<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>The <code>EplusSql</code> object itself, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-8">Examples<a class="anchor" aria-label="anchor" href="#examples-8"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
sql$print()
}

</code></pre></div><p></p></div>
</div>


</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$new`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="use_eplus.html">is_avail_eplus</a></span><span class="op">(</span><span class="st">"8.8"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">idf_name</span> <span class="op">&lt;-</span> <span class="st">"1ZoneUncontrolled.idf"</span></span></span>
<span class="r-in"><span>    <span class="va">epw_name</span> <span class="op">&lt;-</span>  <span class="st">"USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">idf_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="path_eplus.html">path_eplus_example</a></span><span class="op">(</span><span class="st">"8.8"</span>, <span class="va">idf_name</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">epw_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="path_eplus.html">path_eplus_weather</a></span><span class="op">(</span><span class="st">"8.8"</span>, <span class="va">epw_name</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># copy to tempdir and run the model</span></span></span>
<span class="r-in"><span>    <span class="va">idf</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_idf.html">read_idf</a></span><span class="op">(</span><span class="va">idf_path</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">idf</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="va">epw_path</span>, <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># create from local file</span></span></span>
<span class="r-in"><span>    <span class="va">sql</span> <span class="op">&lt;-</span> <span class="fu"><a href="eplus_sql.html">eplus_sql</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"1ZoneUncontrolled.sql"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$path`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># get path</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">path</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$path_idf`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># get path</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">path_idf</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$list_table`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">list_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$read_table`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># read a specific table</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">read_table</span><span class="op">(</span><span class="st">"Zones"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$report_data_dict`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data_dict</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$report_data`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># read all report data</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify output variables using report data dictionary</span></span></span>
<span class="r-in"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="va">sql</span><span class="op">$</span><span class="fu">report_data_dict</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="va">units</span> <span class="op">==</span> <span class="st">"C"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify output variables using 'key_value' and 'name'</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="st">"environment"</span>, <span class="st">"site outdoor air drybulb temperature"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># explicitly specify year value and time zone</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, year <span class="op">=</span> <span class="fl">2020</span>, tz <span class="op">=</span> <span class="st">"Etc/GMT+8"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># explicitly specify case name</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, case <span class="op">=</span> <span class="st">"example"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get all possible columns</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># return in a format that is similar as EnergyPlus CSV output</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># return in a format that is similar as EnergyPlus CSV output with</span></span></span>
<span class="r-in"><span><span class="co"># extra columns</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, wide <span class="op">=</span> <span class="cn">TRUE</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only get data at the working hour on the first Monday</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, hour <span class="op">=</span> <span class="fl">8</span><span class="op">:</span><span class="fl">18</span>, day_type <span class="op">=</span> <span class="st">"monday"</span>, simulation_days <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only get specified run period data</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">read_table</span><span class="op">(</span><span class="st">"EnvironmentPeriods"</span><span class="op">)</span> <span class="co"># possible environment name</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, environment_name <span class="op">=</span> <span class="st">"San Francisco Intl Ap CA USA TMY3 WMO#=724940"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># can also be done using 'environment_period_index' column</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">report_data</span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="va">environment_period_index</span> <span class="op">==</span> <span class="fl">3L</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$tabular_data`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># read all tabular data</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># explicitly specify data you want</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sql</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>    report_name <span class="op">=</span> <span class="st">"AnnualBuildingUtilityPerformanceSummary"</span>,</span></span>
<span class="r-in"><span>    table_name <span class="op">=</span> <span class="st">"Site and Source Energy"</span>,</span></span>
<span class="r-in"><span>    column_name <span class="op">=</span> <span class="st">"Total Energy"</span>,</span></span>
<span class="r-in"><span>    row_name <span class="op">=</span> <span class="st">"Total Site Energy"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get tabular data in wide format and coerce numeric values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sql</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>    report_name <span class="op">=</span> <span class="st">"AnnualBuildingUtilityPerformanceSummary"</span>,</span></span>
<span class="r-in"><span>    table_name <span class="op">=</span> <span class="st">"Site and Source Energy"</span>,</span></span>
<span class="r-in"><span>    column_name <span class="op">=</span> <span class="st">"Total Energy"</span>,</span></span>
<span class="r-in"><span>    row_name <span class="op">=</span> <span class="st">"Total Site Energy"</span>,</span></span>
<span class="r-in"><span>    wide <span class="op">=</span> <span class="cn">TRUE</span>, string_value <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `EplusSql$print`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">sql</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://github.com/hongyuanjia" class="external-link">Hongyuan Jia</a>, Adrian Chong.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

