<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read, and modify an EnergyPlus Weather File (EPW) — epw • eplusr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Read, and modify an EnergyPlus Weather File (EPW) — epw" />

<meta property="og:description" content="Reading an EPW file starts with function read_epw(), which parses an EPW
file and returns an Epw object. The parsing process is extremely inspired
by OpenStudio utilities library
with some simplifications." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read, and modify an EnergyPlus Weather File (EPW)</h1>
    
    <div class="hidden name"><code>epw.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Reading an EPW file starts with function <code><a href='read_epw.html'>read_epw()</a></code>, which parses an EPW
file and returns an <code>Epw</code> object. The parsing process is extremely inspired
by <a href='https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-2.5.1-doc/utilities/html/classopenstudio_1_1_epw_file.html'>OpenStudio utilities library</a>
with some simplifications.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>An EPW file can be divided into two parts, headers and weather data.  The
first eight lines of a standard EPW file are normally headers which contains
data of location, design conditions, typical/extreme periods, ground
temperatures, holidays/daylight savings, data periods and other comments. For
now, eplusr only parses headers of location, holidays/daylight savings and
data periods. All other headers are left as they were when parsing and
saving. For details on the data structure of EPW file, please see "Chapter 2 - Weather Converter Program"
in EnergyPlus "Auxiliary Programs" documentation. An online version can be
found <a href='https://bigladdersoftware.com/epx/docs/'>here</a>.</p>
<p>There are about 35 variables in the core weather data. However, not all of
them are used by EnergyPlus. Actually, despite of date and time columns, only
14 columns are used:</p><ol>
<li><p>dry bulb temperature</p></li>
<li><p>dew point temperature</p></li>
<li><p>relative humidity</p></li>
<li><p>atmospheric pressure</p></li>
<li><p>horizontal infrared radiation intensity from sky</p></li>
<li><p>direct normal radiation</p></li>
<li><p>diffuse horizontal radiation</p></li>
<li><p>wind direction</p></li>
<li><p>wind speed</p></li>
<li><p>present weather observation</p></li>
<li><p>present weather codes</p></li>
<li><p>snow depth</p></li>
<li><p>liquid precipitation depth</p></li>
<li><p>liquid precipitation rate</p></li>
</ol>
    <p><strong>NOTE</strong>: Even though <code>Epw</code> class provides methods to replace core weather data,
it is still not recommended.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>epw &lt;- read_epw(path)
epw$city
epw$city &lt;- "city"
epw$state_province
epw$state_province &lt;- "state_province"
epw$country
epw$country &lt;- "country"
epw$data_source
epw$data_source &lt;- "data_source"
epw$wmo_number
epw$wmo_number &lt;- "wmo_number"
epw$latitude
epw$latitude &lt;- "latitude"
epw$longitute
epw$longitute &lt;- "longitute"
epw$time_zone
epw$time_zone &lt;- "time_zone"
epw$elevation
epw$elevation &lt;- "elevation"
epw$time_step
epw$time_step &lt;- "time_step"
epw$start_day_of_week
epw$start_day_of_week &lt;- "start_day_of_week"
epw$path()
epw$get_data(year = NULL, unit = FALSE, tz = Sys.timezone(), update = FALSE)
epw$set_data(data)
epw$save(path, overwrite = FALSE)
epw$print()
print(epw)
</pre>
    
    <h2 class="hasAnchor" id="read"><a class="anchor" href="#read"></a>Read</h2>

    <pre>epw &lt;- read_epw(path)
</pre>
    <p><strong>Arguments</strong></p><ul>
<li><p><code>path</code>: Path of an EnergyPlus <code>EPW</code> file.</p></li>
</ul>
    <pre>epw$save(path, overwrite = FALSE)
</pre>
    <p><strong>Arguments</strong></p><ul>
<li><p><code>path</code>: A path where to save the weather file. If <code>NULL</code>, the path of the
weather file itself is used.</p></li>
<li><p><code>overwrite</code>: Whether to overwrite the file if it already exists. Default is
<code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="query-and-modify-header"><a class="anchor" href="#query-and-modify-header"></a>Query and Modify Header</h2>

    <pre>epw$city
epw$city &lt;- "city"
epw$state_province
epw$state_province &lt;- "state_province"
epw$country
epw$country &lt;- "country"
epw$data_source
epw$data_source &lt;- "data_source"
epw$wmo_number
epw$wmo_number &lt;- "wmo_number"
epw$latitude
epw$latitude &lt;- "latitude"
epw$longitute
epw$longitute &lt;- "longitute"
epw$time_zone
epw$time_zone &lt;- "time_zone"
epw$elevation
epw$elevation &lt;- "elevation"
epw$time_step
epw$time_step &lt;- "time_step"
epw$start_day_of_week
epw$start_day_of_week &lt;- "start_day_of_week"
</pre>
    <p><code>$city</code>, <code>$state_province</code>, <code>$country</code>, <code>$data_source</code>, <code>$wmo_number</code>,
<code>$latitude</code>, <code>$longitute</code>, <code>$time_zone</code>, <code>$elevation</code>, <code>$time_step</code> and
<code>$start_day_of_week</code> are all active bindings, which means that you can get
the value and also set new value to it.</p>
<p>NOTE: Please be super careful when trying to modify those data. Some of them
must be consistent with weather data in order to make the weather file
successfully parsed by EnergyPlus and eplusr.</p>
    
    <h2 class="hasAnchor" id="query-and-modify-data"><a class="anchor" href="#query-and-modify-data"></a>Query and Modify Data</h2>

    <pre>epw$path()
epw$get_data(year = NULL, unit = FALSE, tz = Sys.timezone(), update = FALSE)
epw$set_data(data)
</pre>
    <p><code>$path()</code> returns the path of EPW file. <code>NULL</code> if Epw is not created from
local file.</p>
<p><code>$get_data()</code> returns the core weather data in a data.table.</p>
<p><code>$set_data()</code> replaces core weather data with input data. NOTE: This feature is
experimental. There is no validation when replacing.</p>
<p><strong>Arguments</strong></p><ul>
<li><p><code>year</code>: A integer to indicate the year value in the return <code>datetime</code> column.
If <code>NULL</code>, which is the default, the year is left as it is in EPW file.</p></li>
<li><p><code>tz</code>: The time zone of Date and Time in <code>datetime</code> column. Default:
value of <code>Sys.timezone()</code>.</p></li>
<li><p><code>unit</code>: If <code>TRUE</code>, units are set to all numeric columns using
<code><a href='http://www.rdocumentation.org/packages/units/topics/set_units'>units::set_units()</a></code>. Default: <code>FALSE</code>.</p></li>
<li><p><code>update</code>: If <code>TRUE</code>, not only <code>datetime</code> column, but also <code>year</code>, <code>month</code>,
<code>day</code>, <code>hour</code> and <code>minute</code> are also updated according to the input
<code>year</code> value. Default: FALSE</p></li>
<li><p><code>data</code>: A data.frame which has all required columns.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># read an EPW file from EnergyPlus website</span>
<span class='no'>path_base</span> <span class='kw'>&lt;-</span> <span class='st'>"https://energyplus.net/weather-download"</span>
<span class='no'>path_region</span> <span class='kw'>&lt;-</span> <span class='st'>"north_and_central_america_wmo_region_4/USA/CA"</span>
<span class='no'>path_file</span> <span class='kw'>&lt;-</span> <span class='st'>"USA_CA_San.Francisco.Intl.AP.724940_TMY3/USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>
<span class='no'>path_epw</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='no'>path_base</span>, <span class='no'>path_region</span>, <span class='no'>path_file</span>)
<span class='no'>epw</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_epw.html'>read_epw</a></span>(<span class='no'>path_epw</span>)

<span class='co'># read an EPW file distributed with EnergyPlus</span>
<span class='kw'>if</span> (<span class='fu'><a href='use_eplus.html'>is_avail_eplus</a></span>(<span class='fl'>8.8</span>)) {
    <span class='no'>epw_path</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(
        <span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>,
        <span class='st'>"WeatherData"</span>,
        <span class='st'>"USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>
    )
    <span class='no'>epw</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_epw.html'>read_epw</a></span>(<span class='no'>path_epw</span>)
}

<span class='co'># get file path</span>
<span class='no'>epw</span>$<span class='fu'>path</span>()</div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># get basic info</span>
<span class='no'>epw</span>$<span class='no'>city</span></div><div class='output co'>#&gt; [1] "San Francisco Intl Ap"</div><div class='input'><span class='no'>epw</span>$<span class='no'>state_province</span></div><div class='output co'>#&gt; [1] "CA"</div><div class='input'><span class='no'>epw</span>$<span class='no'>country</span></div><div class='output co'>#&gt; [1] "USA"</div><div class='input'><span class='no'>epw</span>$<span class='no'>data_source</span></div><div class='output co'>#&gt; [1] "TMY3"</div><div class='input'><span class='no'>epw</span>$<span class='no'>wmo_number</span></div><div class='output co'>#&gt; [1] "724940"</div><div class='input'><span class='no'>epw</span>$<span class='no'>latitude</span></div><div class='output co'>#&gt; [1] 37.62</div><div class='input'><span class='no'>epw</span>$<span class='no'>longitude</span></div><div class='output co'>#&gt; [1] -122.4</div><div class='input'><span class='no'>epw</span>$<span class='no'>time_zone</span></div><div class='output co'>#&gt; [1] -8</div><div class='input'><span class='no'>epw</span>$<span class='no'>elevation</span></div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='no'>epw</span>$<span class='no'>time_step</span></div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='no'>epw</span>$<span class='no'>start_day_of_week</span></div><div class='output co'>#&gt; [1] "Sunday"</div><div class='input'>
<span class='co'># set basic info</span>
<span class='co'># NOTE: Use with caution. May mess up your weather data</span>
<span class='no'>epw</span>$<span class='no'>city</span> <span class='kw'>&lt;-</span> <span class='st'>"Chongqing"</span>
<span class='no'>epw</span>$<span class='no'>city</span></div><div class='output co'>#&gt; [1] "Chongqing"</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>state_province</span> <span class='kw'>&lt;-</span> <span class='st'>"Chongqing"</span>
<span class='no'>epw</span>$<span class='no'>state_province</span></div><div class='output co'>#&gt; [1] "Chongqing"</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>country</span> <span class='kw'>&lt;-</span> <span class='st'>"China"</span>
<span class='no'>epw</span>$<span class='no'>country</span></div><div class='output co'>#&gt; [1] "China"</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>data_source</span> <span class='kw'>&lt;-</span> <span class='st'>"TMY"</span>
<span class='no'>epw</span>$<span class='no'>data_source</span></div><div class='output co'>#&gt; [1] "TMY"</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>wmo_number</span> <span class='kw'>&lt;-</span> <span class='st'>"724944"</span>
<span class='no'>epw</span>$<span class='no'>wmo_number</span></div><div class='output co'>#&gt; [1] "724944"</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>latitude</span> <span class='kw'>&lt;-</span> <span class='fl'>20.0</span>
<span class='no'>epw</span>$<span class='no'>latitude</span></div><div class='output co'>#&gt; [1] 20</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>longitude</span> <span class='kw'>&lt;-</span> -<span class='fl'>120.0</span>
<span class='no'>epw</span>$<span class='no'>longitude</span></div><div class='output co'>#&gt; [1] -120</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>time_zone</span> <span class='kw'>&lt;-</span> <span class='fl'>8</span>
<span class='no'>epw</span>$<span class='no'>time_zone</span></div><div class='output co'>#&gt; [1] 8</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>elevation</span> <span class='kw'>&lt;-</span> <span class='fl'>100</span>
<span class='no'>epw</span>$<span class='no'>elevation</span></div><div class='output co'>#&gt; [1] 100</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>time_step</span> <span class='kw'>&lt;-</span> <span class='fl'>2</span>
<span class='no'>epw</span>$<span class='no'>time_step</span></div><div class='output co'>#&gt; [1] 2</div><div class='input'>
<span class='no'>epw</span>$<span class='no'>start_day_of_week</span> <span class='kw'>&lt;-</span> <span class='st'>"Monday"</span>
<span class='no'>epw</span>$<span class='no'>start_day_of_week</span></div><div class='output co'>#&gt; [1] "Monday"</div><div class='input'>
<span class='co'># get weather data</span>
<span class='fu'>str</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>())</div><div class='output co'>#&gt; Classes ‘data.table’ and 'data.frame':	8760 obs. of  36 variables:
#&gt;  $ datetime                                        : POSIXct, format: "1999-01-01 01:00:00" "1999-01-01 02:00:00" ...
#&gt;  $ year                                            : int  1999 1999 1999 1999 1999 1999 1999 1999 1999 1999 ...
#&gt;  $ month                                           : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ day                                             : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ hour                                            : int  1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ minute                                          : int  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ datasource                                      : chr  "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" ...
#&gt;  $ dry_bulb_temperature                            : num  7.2 7.2 6.7 6.1 4.4 4.4 6.1 5 7.8 8.9 ...
#&gt;  $ dew_point_temperature                           : num  5.6 5.6 5 5 3.9 3.9 4.4 2.8 5 6.7 ...
#&gt;  $ relative_humidity                               : num  90 90 89 93 97 97 89 86 82 86 ...
#&gt;  $ atmospheric_pressure                            : num  102200 102100 102200 102200 102200 ...
#&gt;  $ extraterrestrial_horizontal_radiation           : num  0 0 0 0 0 0 0 36 243 443 ...
#&gt;  $ extraterrestrial_direct_normal_radiation        : num  0 0 0 0 0 ...
#&gt;  $ horizontal_infrared_radiation_intensity_from_sky: num  290 296 291 276 280 280 287 281 295 299 ...
#&gt;  $ global_horizontal_radiation                     : num  0 0 0 0 0 0 0 2 121 276 ...
#&gt;  $ direct_normal_radiation                         : num  0 0 0 0 0 0 0 69 477 651 ...
#&gt;  $ diffuse_horizontal_radiation                    : num  0 0 0 0 0 0 0 1 39 71 ...
#&gt;  $ global_horizontal_illuminance                   : num  0 0 0 0 0 ...
#&gt;  $ direct_normal_illuminance                       : num  0 0 0 0 0 ...
#&gt;  $ diffuse_horizontal_illuminance                  : num  0 0 0 0 0 ...
#&gt;  $ zenith_luminance                                : num  0 0 0 0 0 ...
#&gt;  $ wind_direction                                  : num  0 170 210 200 260 180 0 0 0 0 ...
#&gt;  $ wind_speed                                      : num  0 2.1 2.1 1.5 3.1 2.1 0 0 0 0 ...
#&gt;  $ total_sky_cover                                 : int  2 4 3 0 3 3 3 3 3 2 ...
#&gt;  $ opaque_sky_cover                                : int  2 4 3 0 3 3 3 3 3 2 ...
#&gt;  $ visibility                                      : num  16 16 16 16 16 16 16 16 16 16 ...
#&gt;  $ ceiling_height                                  : num  77777 77777 77777 77777 77777 ...
#&gt;  $ present_weather_observation                     : int  9 9 9 9 9 9 9 9 9 9 ...
#&gt;  $ present_weather_codes                           : chr  NA NA NA NA ...
#&gt;  $ precipitable_water                              : num  129 120 120 120 120 120 120 110 110 110 ...
#&gt;  $ aerosol_optical_depth                           : num  0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 ...
#&gt;  $ snow_depth                                      : num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ days_since_last_snow                            : int  88 88 88 88 88 88 88 88 88 88 ...
#&gt;  $ albedo                                          : num  0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 ...
#&gt;  $ liquid_precip_depth                             : num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ liquid_precip_rate                              : num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </div><div class='input'>
<span class='co'># get weather data but change the year to 2018</span>
<span class='co'># the year column is not changed by default, only the returned datetime column</span>
<span class='fu'>str</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2018</span>)$<span class='no'>datetime</span>)</div><div class='output co'>#&gt;  POSIXct[1:8760], format: "2018-01-01 01:00:00" "2018-01-01 02:00:00" "2018-01-01 03:00:00" ...</div><div class='input'><span class='fu'>str</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2018</span>)$<span class='no'>year</span>)</div><div class='output co'>#&gt;  int [1:8760] 1999 1999 1999 1999 1999 1999 1999 1999 1999 1999 ...</div><div class='input'><span class='co'># you can force to update the year column</span>
<span class='fu'>str</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2018</span>, <span class='kw'>update</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)$<span class='no'>year</span>)</div><div class='output co'>#&gt;  int [1:8760] 2018 2018 2018 2018 2018 2018 2018 2018 2018 2018 ...</div><div class='input'>
<span class='co'># get weather data with units</span>
<span class='fu'>str</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>unit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; Classes ‘data.table’ and 'data.frame':	8760 obs. of  36 variables:
#&gt;  $ datetime                                        : POSIXct, format: "1999-01-01 01:00:00" "1999-01-01 02:00:00" ...
#&gt;  $ year                                            : int  1999 1999 1999 1999 1999 1999 1999 1999 1999 1999 ...
#&gt;  $ month                                           : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ day                                             : int  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ hour                                            : int  1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ minute                                          : int  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ datasource                                      : chr  "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" "?9?9?9?9E0?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9*9*9?9?9?9" ...
#&gt;  $ dry_bulb_temperature                            :Object of class units:
#&gt;  num  7.2 7.2 6.7 6.1 4.4 4.4 6.1 5 7.8 8.9 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "°C"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ dew_point_temperature                           :Object of class units:
#&gt;  num  5.6 5.6 5 5 3.9 3.9 4.4 2.8 5 6.7 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "°C"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ relative_humidity                               :Object of class units:
#&gt;  num  90 90 89 93 97 97 89 86 82 86 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "%"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ atmospheric_pressure                            :Object of class units:
#&gt;  num  102200 102100 102200 102200 102200 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "Pa"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ extraterrestrial_horizontal_radiation           :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 36 243 443 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ extraterrestrial_direct_normal_radiation        :Object of class units:
#&gt;  num  0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ horizontal_infrared_radiation_intensity_from_sky:Object of class units:
#&gt;  num  290 296 291 276 280 280 287 281 295 299 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ global_horizontal_radiation                     :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 2 121 276 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ direct_normal_radiation                         :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 69 477 651 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ diffuse_horizontal_radiation                    :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 1 39 71 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr  "h" "W"
#&gt;   .. ..$ denominator: chr  "m" "m"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ global_horizontal_illuminance                   :Object of class units:
#&gt;  num  0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "lx"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ direct_normal_illuminance                       :Object of class units:
#&gt;  num  0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "lx"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ diffuse_horizontal_illuminance                  :Object of class units:
#&gt;  num  0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "lx"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ zenith_luminance                                :Object of class units:
#&gt;  num  0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "lx"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ wind_direction                                  :Object of class units:
#&gt;  num  0 170 210 200 260 180 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "°"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ wind_speed                                      :Object of class units:
#&gt;  num  0 2.1 2.1 1.5 3.1 2.1 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "m"
#&gt;   .. ..$ denominator: chr "s"
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ total_sky_cover                                 :Object of class units:
#&gt;  int  2 4 3 0 3 3 3 3 3 2 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ opaque_sky_cover                                :Object of class units:
#&gt;  int  2 4 3 0 3 3 3 3 3 2 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ visibility                                      :Object of class units:
#&gt;  num  16 16 16 16 16 16 16 16 16 16 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "km"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ ceiling_height                                  :Object of class units:
#&gt;  num  77777 77777 77777 77777 77777 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "m"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ present_weather_observation                     :Object of class units:
#&gt;  int  9 9 9 9 9 9 9 9 9 9 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ present_weather_codes                           : chr  NA NA NA NA ...
#&gt;  $ precipitable_water                              :Object of class units:
#&gt;  num  129 120 120 120 120 120 120 110 110 110 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "mm"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ aerosol_optical_depth                           :Object of class units:
#&gt;  num  0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 0.108 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ snow_depth                                      :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "cm"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ days_since_last_snow                            :Object of class units:
#&gt;  int  88 88 88 88 88 88 88 88 88 88 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ albedo                                          :Object of class units:
#&gt;  num  0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 0.16 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr 
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ liquid_precip_depth                             :Object of class units:
#&gt;  num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "mm"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  $ liquid_precip_rate                              :Object of class units:
#&gt;  num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;   ..- attr(*, "units")=List of 2
#&gt;   .. ..$ numerator  : chr "h"
#&gt;   .. ..$ denominator: chr 
#&gt;   .. ..- attr(*, "class")= chr "symbolic_units"
#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </div><div class='input'><span class='co'># with units specified, you can easily perform unit conversion using units</span>
<span class='co'># package</span>
<span class='no'>t_dry_bulb</span> <span class='kw'>&lt;-</span> <span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>unit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)$<span class='no'>dry_bulb_temperature</span>
<span class='fu'>units</span>(<span class='no'>t_dry_bulb</span>) <span class='kw'>&lt;-</span> <span class='fu'>with</span>(<span class='kw pkg'>units</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/units/topics/ud_units'>ud_units</a></span>, <span class='st'>"kelvin"</span>)
<span class='fu'>str</span>(<span class='no'>t_dry_bulb</span>)</div><div class='output co'>#&gt; Object of class units:
#&gt;  num [1:8760] 280 280 280 279 278 ...
#&gt;  - attr(*, "units")=List of 2
#&gt;   ..$ numerator  : chr "K"
#&gt;   ..$ denominator: chr(0) 
#&gt;   ..- attr(*, "class")= chr "symbolic_units"</div><div class='input'>
<span class='co'># change the time zone of datetime column in the returned weather data</span>
<span class='fu'>attributes</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>()$<span class='no'>datetime</span>)</div><div class='output co'>#&gt; $class
#&gt; [1] "POSIXct" "POSIXt" 
#&gt; 
#&gt; $tzone
#&gt; [1] "Asia/Shanghai"
#&gt; </div><div class='input'><span class='fu'>attributes</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>(<span class='kw'>tz</span> <span class='kw'>=</span> <span class='st'>"America/Chicago"</span>)$<span class='no'>datetime</span>)</div><div class='output co'>#&gt; $class
#&gt; [1] "POSIXct" "POSIXt" 
#&gt; 
#&gt; $tzone
#&gt; [1] "America/Chicago"
#&gt; </div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># change the weather data</span>
<span class='co'># NOTE: This feature is experimental. There is no validation when replacing.</span>
<span class='no'>epw</span>$<span class='fu'>set_data</span>(<span class='no'>epw</span>$<span class='fu'>get_data</span>())
<span class='co'># }</span><div class='input'>
<span class='co'># save the weather file</span>
<span class='no'>epw</span>$<span class='fu'>save</span>(<span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"weather.epw"</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#usage">Usage</a></li>

      <li><a href="#read">Read</a></li>

      <li><a href="#query-and-modify-header">Query and Modify Header</a></li>

      <li><a href="#query-and-modify-data">Query and Modify Data</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Hongyuan Jia

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Hongyuan Jia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

