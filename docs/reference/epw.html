<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read, and modify an EnergyPlus Weather File (EPW) — epw • eplusr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Read, and modify an EnergyPlus Weather File (EPW) — epw" />

<meta property="og:description" content="Reading an EPW file starts with function read_epw(), which parses an EPW
file and returns an Epw object. The parsing process is extremely inspired
by OpenStudio utilities library
with some simplifications." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.8.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read, and modify an EnergyPlus Weather File (EPW)</h1>
    
    <div class="hidden name"><code>epw.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Reading an EPW file starts with function <code><a href='read_epw.html'>read_epw()</a></code>, which parses an EPW
file and returns an <code>Epw</code> object. The parsing process is extremely inspired
by <a href='https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-2.5.1-doc/utilities/html/classopenstudio_1_1_epw_file.html'>OpenStudio utilities library</a>
with some simplifications.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>An EPW file can be divided into two parts, headers and weather data.  The
first eight lines of a standard EPW file are normally headers which contains
data of location, design conditions, typical/extreme periods, ground
temperatures, holidays/daylight savings, data periods and other comments. For
now, eplusr only parses headers of location, holidays/daylight savings and
data periods. All other headers will be left as they were when parsing and
saving. For details on the data structure of EPW file, please see "Chapter 2 - Weather Converter Program"
in EnergyPlus "Auxiliary Programs" documentation. An online version can be
found <a href='https://bigladdersoftware.com/epx/docs/'>here</a>.</p>
<p>There are about 35 variables in the core weather data. However, not all of
them are used by EnergyPlus. Actually, despite of date and time columns, only
14 columns are used:</p><ol>
<li><p>dry bulb temperature</p></li>
<li><p>dew point temperature</p></li>
<li><p>relative humidity</p></li>
<li><p>atmospheric pressure</p></li>
<li><p>horizontal infrared radiation intensity from sky</p></li>
<li><p>direct normal radiation</p></li>
<li><p>diffuse horizontal radiation</p></li>
<li><p>wind direction</p></li>
<li><p>wind speed</p></li>
<li><p>present weather observation</p></li>
<li><p>present weather codes</p></li>
<li><p>snow depth</p></li>
<li><p>liquid precipitation depth</p></li>
<li><p>liquid precipitation rate</p></li>
</ol>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>epw &lt;- read_epw(path)
epw$city
epw$city &lt;- "city"
epw$state_province
epw$state_province &lt;- "state_province"
epw$country
epw$country &lt;- "country"
epw$data_source
epw$data_source &lt;- "data_source"
epw$wmo_number
epw$wmo_number &lt;- "wmo_number"
epw$latitude
epw$latitude &lt;- "latitude"
epw$longitute
epw$longitute &lt;- "longitute"
epw$time_zone
epw$time_zone &lt;- "time_zone"
epw$elevation
epw$elevation &lt;- "elevation"
epw$time_step
epw$time_step &lt;- "time_step"
epw$start_day_of_week
epw$start_day_of_week &lt;- "start_day_of_week"
epw$path()
epw$get_data(year = NULL, unit = FALSE, tz = Sys.timezone(), update = FALSE)
epw$set_data(data)
epw$save(path, overwrite = FALSE)
epw$print()
print(epw)
</pre>
    
    <h2 class="hasAnchor" id="read"><a class="anchor" href="#read"></a>Read</h2>

    <pre>epw &lt;- read_epw(path)
</pre>
    <p><strong>Arguments</strong></p><ul>
<li><p><code>path</code>: Path of an EnergyPlus <code>EPW</code> file.</p></li>
</ul>
    <pre>epw$save(path, overwrite = FALSE)
</pre>
    <p><strong>Arguments</strong></p><ul>
<li><p><code>path</code>: A path where to save the weather file. If <code>NULL</code>, the path of the
weather file itself will be used. Default: <code>NULL</code>.</p></li>
<li><p><code>overwrite</code>: Whether to overwrite the file if it already exists. Default is
<code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="query-and-modify-header"><a class="anchor" href="#query-and-modify-header"></a>Query and Modify Header</h2>

    <pre>epw$city
epw$city &lt;- "city"
epw$state_province
epw$state_province &lt;- "state_province"
epw$country
epw$country &lt;- "country"
epw$data_source
epw$data_source &lt;- "data_source"
epw$wmo_number
epw$wmo_number &lt;- "wmo_number"
epw$latitude
epw$latitude &lt;- "latitude"
epw$longitute
epw$longitute &lt;- "longitute"
epw$time_zone
epw$time_zone &lt;- "time_zone"
epw$elevation
epw$elevation &lt;- "elevation"
epw$time_step
epw$time_step &lt;- "time_step"
epw$start_day_of_week
epw$start_day_of_week &lt;- "start_day_of_week"
</pre>
    <p><code>$city</code>, <code>$state_province</code>, <code>$country</code>, <code>$data_source</code>, <code>$wmo_number</code>,
<code>$latitude</code>, <code>$longitute</code>, <code>$time_zone</code>, <code>$elevation</code>, <code>$time_step</code> and
<code>$start_day_of_week</code> are all active bindings, which means that you can get
the value and also set new value to it.</p>
    
    <h2 class="hasAnchor" id="query-and-modify-data"><a class="anchor" href="#query-and-modify-data"></a>Query and Modify Data</h2>

    <pre>epw$path()
epw$get_data(year = NULL, unit = FALSE, tz = Sys.timezone(), update = FALSE)
epw$set_data(data)
</pre>
    <p><code>$path()</code> returns the path of EPW file.</p>
<p><code>$get_data()</code> returns the core weather data.</p>
<p><code>$set_data()</code> replaces core weather data with input data. NOTE: This feature is
experimental. There is no validation when replacing.</p>
<p><strong>NOTE</strong>: Even though <code>Epw</code> class provides methods to replace core weather data,
it is still not recommended.</p>
<p><strong>Arguments</strong></p><ul>
<li><p><code>year</code>: A integer to indicate the year value in the return <code>datetime</code> column.
If <code>NULL</code>, the year will be left as it is in EPW file.</p></li>
<li><p><code>tz</code>: The time zone of Date and Time in <code>datetime</code> column.</p></li>
<li><p><code>unit</code>: If <code>TRUE</code>, units will be set to all numeric columns using
<code><a href='http://www.rdocumentation.org/packages/units/topics/set_units'>units::set_units()</a></code>.</p></li>
<li><p><code>update</code>: If <code>TRUE</code>, not only <code>datetime</code> column, but also <code>year</code>, <code>month</code>,
<code>day</code>, <code>hour</code> and <code>minute</code> will also be updated according to the input
<code>year</code> value.</p></li>
<li><p><code>data</code>: A data.frame which has all required columns.</p></li>
</ul>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#usage">Usage</a></li>

      <li><a href="#read">Read</a></li>

      <li><a href="#query-and-modify-header">Query and Modify Header</a></li>

      <li><a href="#query-and-modify-data">Query and Modify Data</a></li>
          </ul>

    <h2>Author</h2>
    
Hongyuan Jia

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Hongyuan Jia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

