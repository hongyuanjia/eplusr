<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parametric simulations • eplusr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Parametric simulations">
<meta property="og:description" content="eplusr">
<meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141601756-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-141601756-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.16.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/eplusr.html">Introduction to eplusr</a>
    </li>
    <li>
      <a href="../articles/job.html">Run simulation and data exploration</a>
    </li>
    <li>
      <a href="../articles/param.html">Parametric simulations</a>
    </li>
    <li>
      <a href="../articles/transition.html">Update IDF version</a>
    </li>
    <li>
      <a href="../articles/epw.html">Work with weather files</a>
    </li>
    <li>
      <a href="../articles/schedule.html">Work with `Schedule:Compact` objects</a>
    </li>
    <li>
      <a href="../articles/geom.html">Work with geometries</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently asked questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hongyuanjia/eplusr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Parametric simulations</h1>
                        <h4 data-toc-skip class="author">Hongyuan
Jia</h4>
            
            <h4 data-toc-skip class="date">2024-02-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hongyuanjia/eplusr/blob/HEAD/vignettes/param.Rmd" class="external-link"><code>vignettes/param.Rmd</code></a></small>
      <div class="hidden name"><code>param.Rmd</code></div>

    </div>

    
    
<p>This vignette demonstrates the process of performing parametric
simulation analyses using the <code>ParametricJob</code> class. The main
focuses are on showcasing the capabilities of (1) creating parametric
models by applying measures and (2) easing the comparative analysis by
reusing code snippets developed in data exploration process.</p>
<hr>
<div class="section level2">
<h2 id="parametric-prototype">Parametric prototype<a class="anchor" aria-label="anchor" href="#parametric-prototype"></a>
</h2>
<p>The <code>ParametricJob</code> class in eplusr is a parametric
prototype that provides a set of abstractions to ease the process of
parametric model generation, design alternative evaluation, and large
parametric simulation management.</p>
<p>An overview of the parametric prototype implementation is shown
blow:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"parametric.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="parametric.png" width="70%" style="display: block; margin: auto;"></p>
<p>A parametric simulation is initialized using <code><a href="../reference/ParametricJob.html">param_job()</a></code>
giving a seed model and a weather file.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hongyuanjia.github.io/eplusr/">eplusr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">path_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/path_eplus.html">path_eplus_example</a></span><span class="op">(</span><span class="st">"23.1"</span>, <span class="st">"RefBldgMediumOfficeNew2004_Chicago.idf"</span><span class="op">)</span></span>
<span><span class="va">path_weather</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/path_eplus.html">path_eplus_weather</a></span><span class="op">(</span><span class="st">"23.1"</span>, <span class="st">"USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">idf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_idf.html">read_idf</a></span><span class="op">(</span><span class="va">path_model</span><span class="op">)</span></span>
<span><span class="co">#&gt; IDD v23.1.0 has not been parsed before.</span></span>
<span><span class="co">#&gt; Try to locate 'Energy+.idd' in EnergyPlus v23.1.0 installation folder '/usr/local/EnergyPlus-23-1-0'.</span></span>
<span><span class="co">#&gt; IDD file found: '/usr/local/EnergyPlus-23-1-0/Energy+.idd'.</span></span>
<span><span class="co">#&gt; Start parsing...</span></span>
<span><span class="co">#&gt; Parsing completed.</span></span>
<span><span class="va">idf</span><span class="op">$</span><span class="va">SimulationControl</span><span class="op">$</span><span class="va">Run_Simulation_for_Weather_File_Run_Periods</span> <span class="op">&lt;-</span> <span class="st">"Yes"</span></span>
<span><span class="va">idf</span><span class="op">$</span><span class="va">OutputControl_Table_Style</span><span class="op">$</span><span class="va">Unit_Conversion</span> <span class="op">&lt;-</span> <span class="st">"JtoKWH"</span></span>
<span><span class="va">idf</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"MediumOffice.idf"</span><span class="op">)</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a parametric prototype of given model and weather file</span></span>
<span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ParametricJob.html">param_job</a></span><span class="op">(</span><span class="va">idf</span>, <span class="va">path_weather</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="specify-design-alternatives">Specify design alternatives<a class="anchor" aria-label="anchor" href="#specify-design-alternatives"></a>
</h2>
<p>Design alternatives are specified by applying a <em>measure</em>
function to the seed model. The concept of <em>measure</em> in the
prototype is inspired by a similar concept in <a href="https://nrel.github.io/OpenStudio-user-documentation/getting_started/about_measures/" class="external-link">OpenStudio</a>
but tailored for flexibility and extensibility.</p>
<p>A measure is simply an R function that takes an <code>Idf</code>
object and any other parameters as input, and returns a set of modified
<code>Idf</code> objects as output, making it possible to leverage other
modules in the framework and apply statistical methods and libraries
existing in R to generate design options.</p>
<p><code>set_lpd()</code> blow is a simple measure that modifies the LPD
(Lighting Power Density), and <code>set_nightplug()</code> is a measure
that modifies the off-work schedule values of plug loads by multiplying
a specified reduction faction value.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a measure for modifying LPD</span></span>
<span><span class="va">set_lpd</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">idf</span>, <span class="va">lpd</span> <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># keep the original if applicable</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">lpd</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">idf</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># set 'Watts per Zone Floor Area' in all 'Lights' objects as input LPD</span></span>
<span>    <span class="va">idf</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">Lights</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>watts_per_zone_floor_area <span class="op">=</span> <span class="va">lpd</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># return the modified model</span></span>
<span>    <span class="va">idf</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># create a measure for reducing plug loads during off-work time</span></span>
<span><span class="va">set_nightplug</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">idf</span>, <span class="va">frac</span> <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># keep the original if applicable</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">frac</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">idf</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># extract the plug load schedule into a tidy table</span></span>
<span>    <span class="va">sch</span> <span class="op">&lt;-</span> <span class="va">idf</span><span class="op">$</span><span class="fu">to_table</span><span class="op">(</span><span class="st">"bldg_equip_sch"</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># modify certain schedule value specified using field names</span></span>
<span>    <span class="va">sch</span> <span class="op">&lt;-</span> <span class="va">sch</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>            <span class="va">field</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Field"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">14</span>,<span class="fl">16</span>,<span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%.2f"</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">*</span> <span class="va">frac</span><span class="op">)</span>,</span>
<span>            <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">value</span></span>
<span>        <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># update schedule object using the tidy table</span></span>
<span>    <span class="va">idf</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span><span class="va">sch</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># return the modified model</span></span>
<span>    <span class="va">idf</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-parametric-models">Create parametric models<a class="anchor" aria-label="anchor" href="#create-parametric-models"></a>
</h2>
<p>After a measure is defined, the method <code>$apply_measure()</code>
takes it and other parameter values specified to create a set of models.
Different measures can be chained together.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># combine two measures into one</span></span>
<span><span class="va">ecm</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">idf</span>, <span class="va">lpd</span>, <span class="va">nightplug_frac</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">idf</span> <span class="op">&lt;-</span> <span class="fu">set_lpd</span><span class="op">(</span><span class="va">idf</span>, <span class="va">lpd</span><span class="op">)</span></span>
<span>    <span class="va">idf</span> <span class="op">&lt;-</span> <span class="fu">set_nightplug</span><span class="op">(</span><span class="va">idf</span>, <span class="va">nightplug_frac</span><span class="op">)</span></span>
<span>    <span class="va">idf</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># apply measures and create parametric models</span></span>
<span><span class="va">param</span><span class="op">$</span><span class="fu">apply_measure</span><span class="op">(</span><span class="va">ecm</span>,</span>
<span>                  lpd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>   <span class="cn">NA</span>,  <span class="fl">7.0</span>,   <span class="fl">5.0</span>,        <span class="cn">NA</span>,        <span class="cn">NA</span>,           <span class="fl">5.0</span><span class="op">)</span>,</span>
<span>       nightplug_frac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>   <span class="cn">NA</span>,   <span class="cn">NA</span>,    <span class="cn">NA</span>,       <span class="fl">0.6</span>,       <span class="fl">0.2</span>,           <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>               <span class="co"># name of each case</span></span>
<span>               .names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ori"</span>, <span class="st">"T5"</span>, <span class="st">"LED"</span>, <span class="st">"0.6Frac"</span>, <span class="st">"0.2Frac"</span>, <span class="st">"LED+0.2Frac"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: There was 1 warning in `mutate()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `value = case_when(...)`.</span></span>
<span><span class="co">#&gt; Caused by warning in `sprintf()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> NAs introduced by coercion</span></span>
<span><span class="co">#&gt; There was 1 warning in `mutate()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `value = case_when(...)`.</span></span>
<span><span class="co">#&gt; Caused by warning in `sprintf()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> NAs introduced by coercion</span></span>
<span><span class="co">#&gt; There was 1 warning in `mutate()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `value = case_when(...)`.</span></span>
<span><span class="co">#&gt; Caused by warning in `sprintf()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> NAs introduced by coercion</span></span>
<span><span class="co">#&gt; Measure 'ecm' has been applied with 6 new models created:</span></span>
<span><span class="co">#&gt; [1]: Ori</span></span>
<span><span class="co">#&gt; [2]: T5</span></span>
<span><span class="co">#&gt; [3]: LED</span></span>
<span><span class="co">#&gt; [4]: 0.6Frac</span></span>
<span><span class="co">#&gt; [5]: 0.2Frac</span></span>
<span><span class="co">#&gt; [6]: LED+0.2Frac</span></span></code></pre></div>
<p>After parametric models have been created, you can retrive the
summary of the parameter values and model names using
<code>$cases()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">param</span><span class="op">$</span><span class="fu">cases</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;    index        case   lpd nightplug_frac</span></span>
<span><span class="co">#&gt;    &lt;int&gt;      &lt;char&gt; &lt;num&gt;          &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     1         Ori    NA             NA</span></span>
<span><span class="co">#&gt; 2:     2          T5     7             NA</span></span>
<span><span class="co">#&gt; 3:     3         LED     5             NA</span></span>
<span><span class="co">#&gt; 4:     4     0.6Frac    NA            0.6</span></span>
<span><span class="co">#&gt; 5:     5     0.2Frac    NA            0.2</span></span>
<span><span class="co">#&gt; 6:     6 LED+0.2Frac     5            0.2</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="run-parametric-simulations-in-parallel">Run parametric simulations in parallel<a class="anchor" aria-label="anchor" href="#run-parametric-simulations-in-parallel"></a>
</h2>
<p>The <code>$run()</code> method will run all parametric simulations in
parallel and place each simulation outputs in a separate folder. All
simulation meta data will keep updating during the whole time and can be
retrieved using the <code>$status()</code> method for further
investigations.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>param<span class="sc">$</span><span class="fu">run</span>()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|RUNNING --&gt; [IDF]'Ori.idf' +</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|RUNNING --&gt; [IDF]'T5.idf' +</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|RUNNING --&gt; [IDF]'LED.idf' +</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|RUNNING --&gt; [IDF]'0.6Frac.idf' +</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|COMPLETED --&gt; [IDF]'0.6Frac.idf' +</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5|RUNNING --&gt; [IDF]'0.2Frac.idf' +</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">|</span>COMPLETED <span class="sc">-</span><span class="ot">-&gt;</span> [IDF]<span class="st">'Ori.idf'</span> <span class="sc">+</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span><span class="sc">|</span>RUNNING <span class="sc">-</span><span class="ot">-&gt;</span> [IDF]<span class="st">'LED+0.2Frac.idf'</span> <span class="sc">+</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">|</span>COMPLETED <span class="sc">-</span><span class="ot">-&gt;</span> [IDF]<span class="st">'T5.idf'</span> <span class="sc">+</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">|</span>COMPLETED <span class="sc">-</span><span class="ot">-&gt;</span> [IDF]<span class="st">'LED.idf'</span> <span class="sc">+</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1/6] |  17%  [32m■■■■■■                           [39m [Elapsed: 52.8s]</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span><span class="sc">/</span><span class="dv">6</span>] <span class="sc">|</span>  <span class="dv">67</span>%  [32m■■■■■■■■■■■■■■■■■■■■■            [39m [Elapsed<span class="sc">:</span> 56s]</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5|COMPLETED --&gt; [IDF]'0.2Frac.idf' +</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4/6] |  67%  [32m■■■■■■■■■■■■■■■■■■■■■            [39m [Elapsed: 56s]</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span><span class="sc">/</span><span class="dv">6</span>] <span class="sc">|</span>  <span class="dv">83</span>%  [32m■■■■■■■■■■■■■■■■■■■■■■■■■■       [39m [Elapsed<span class="sc">:</span> 1m 21s]</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6|COMPLETED --&gt; [IDF]'LED+0.2Frac.idf' +</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [EPW]'USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw'</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5/6] |  83%  [32m■■■■■■■■■■■■■■■■■■■■■■■■■■       [39m [Elapsed: 1m 21s]</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>[<span class="dv">6</span><span class="sc">/</span><span class="dv">6</span>] <span class="sc">|</span> <span class="dv">100</span>%  [32m■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  [39m [Elapsed<span class="sc">:</span> 1m <span class="fl">29.2</span>s]</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [32m── [39m  [32mEnergPlus Parametric Simulation Job [39m  [32m───────────────────────────────────────── [39m</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  • Path: '/tmp/RtmptF16UJ/MediumOffice.idf'</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  • Version: '/usr/local/EnergyPlus-23-1-0/WeatherData/USA_IL_Chicago-OHare.Intl…</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  • EnergyPlus Version: '23.1.0'</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  • EnergyPlus Path: '/usr/local/EnergyPlus-23-1-0'</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Applied Measure: 'ecm'</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Parametric Models [6]: </span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]: 'Ori.idf'         &lt;-- SUCCEEDED</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2]: 'T5.idf'          &lt;-- SUCCEEDED</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3]: 'LED.idf'         &lt;-- SUCCEEDED</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4]: '0.6Frac.idf'     &lt;-- SUCCEEDED</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5]: '0.2Frac.idf'     &lt;-- SUCCEEDED</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6]: 'LED+0.2Frac.idf' &lt;-- SUCCEEDED</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [42m [30m Simulation started at '2024-02-09 02:16:18.488338' and completed successfully after 1.49 mins. [39m [49m</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>param<span class="sc">$</span><span class="fu">status</span>()</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $run_before</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $alive</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $terminated</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $successful</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $changed_after</span></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $job_status</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    index    status                                         idf</span></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;int&gt;    &lt;char&gt;                                      &lt;char&gt;</span></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1:     1 completed                 /tmp/RtmptF16UJ/Ori/Ori.idf</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2:     2 completed                   /tmp/RtmptF16UJ/T5/T5.idf</span></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3:     3 completed                 /tmp/RtmptF16UJ/LED/LED.idf</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4:     4 completed         /tmp/RtmptF16UJ/0.6Frac/0.6Frac.idf</span></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5:     5 completed         /tmp/RtmptF16UJ/0.2Frac/0.2Frac.idf</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6:     6 completed /tmp/RtmptF16UJ/LED+0.2Frac/LED+0.2Frac.idf</span></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                                                      epw</span></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                                                   &lt;char&gt;</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1: /usr/local/EnergyPlus-23-1-0/WeatherData/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2: /usr/local/EnergyPlus-23-1-0/WeatherData/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3: /usr/local/EnergyPlus-23-1-0/WeatherData/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw</span></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4: /usr/local/EnergyPlus-23-1-0/WeatherData/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw</span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>....</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="collect-results-in-one-go">Collect results in one go<a class="anchor" aria-label="anchor" href="#collect-results-in-one-go"></a>
</h2>
<p>The <code>ParametricJob</code> class leverages the tidy data
interface to retrieve parametric simulation results in a tidy format.
For all resulting tidy tables, an extra column containing the simulation
job identifiers is prepended in each table. It can be used as an index
or key for further data transformations, analyses and visualization to
compare results of different simulated design options.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read building energy consumption from Standard Reports</span></span>
<span><span class="va">param_end_use</span> <span class="op">&lt;-</span> <span class="va">param</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"End Uses"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[[</span><span class="fl">1L</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">param_end_use</span><span class="op">)</span></span>
<span><span class="co">#&gt;     index        case                             report_name      report_for</span></span>
<span><span class="co">#&gt;     &lt;int&gt;      &lt;char&gt;                                  &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  2:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  3:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  4:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  5:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  6:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  7:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  8:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt;  9:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 10:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 11:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 12:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 13:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 14:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 15:     1         Ori AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 16:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 17:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 18:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 19:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 20:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 21:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 22:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 23:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 24:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 25:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 26:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 27:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="co">#&gt; 28:     2          T5 AnnualBuildingUtilityPerformanceSummary Entire Facility</span></span>
<span><span class="va">....</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-exploration">Data exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h2>
<p>After calling the <code>$run()</code> method to conduct parallel runs
of simulations, the tidy data interface can be used to extract any
simulation outputs of interest using <code>$report_data()</code>,
<code>$tabular_data()</code>, etc.</p>
<p>In this example, the building energy consumptions of all six models
are extracted using one line of code. The resulting data format is the
same as that of a single simulation and is equivalent to bind rows from
six tables into one tidy table. A <code>case</code> column is prepended
using the names specified in <code>$apply_measure()</code>. It works as
an identifier to group the results by different parametric models using
<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code> and <code>nest()</code> functions from the
tidyverse package.</p>
<p>This data structure makes it effortless to perform comparative
analyses by taking the code snippets developed in data exploration for a
single simulation and applying them to each of the parametric
simulations.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read building area from Standard Reports</span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="va">param</span><span class="op">$</span><span class="fu">tabular_data</span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"Building Area"</span>, wide <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[[</span><span class="fl">1L</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># calculate EUI breakdown</span></span>
<span><span class="va">param_eui</span> <span class="op">&lt;-</span> <span class="va">param_end_use</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">case</span>, category <span class="op">=</span> <span class="va">row_name</span>, electricity <span class="op">=</span> <span class="va">`Electricity [kWh]`</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">electricity</span> <span class="op">&gt;</span> <span class="fl">0.0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">electricity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">electricity</span> <span class="op">/</span> <span class="va">area</span><span class="op">$</span><span class="st">'Area [m2]'</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">case</span>, <span class="va">category</span>, <span class="va">eui</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="co"># exclude categories that did not change</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">category</span> <span class="op">!=</span> <span class="st">"Pumps"</span>, <span class="va">category</span> <span class="op">!=</span> <span class="st">"Exterior Lighting"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">param_eui</span><span class="op">)</span></span>
<span><span class="co">#&gt;            case           category    eui</span></span>
<span><span class="co">#&gt;          &lt;char&gt;             &lt;char&gt;  &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:         Ori     Total End Uses 154.14</span></span>
<span><span class="co">#&gt;  2:     0.6Frac     Total End Uses 149.60</span></span>
<span><span class="co">#&gt;  3:     0.2Frac     Total End Uses 145.34</span></span>
<span><span class="co">#&gt;  4:          T5     Total End Uses 142.75</span></span>
<span><span class="co">#&gt;  5:         LED     Total End Uses 136.72</span></span>
<span><span class="co">#&gt;  6: LED+0.2Frac     Total End Uses 128.32</span></span>
<span><span class="co">#&gt;  7:         Ori Interior Equipment  59.46</span></span>
<span><span class="co">#&gt;  8:          T5 Interior Equipment  59.46</span></span>
<span><span class="co">#&gt;  9:         LED Interior Equipment  59.46</span></span>
<span><span class="co">#&gt; 10:     0.6Frac Interior Equipment  52.74</span></span>
<span><span class="co">#&gt; 11:     0.2Frac Interior Equipment  46.01</span></span>
<span><span class="co">#&gt; 12: LED+0.2Frac Interior Equipment  46.01</span></span>
<span><span class="co">#&gt; 13: LED+0.2Frac            Heating  36.69</span></span>
<span><span class="co">#&gt; 14:     0.2Frac            Heating  33.90</span></span>
<span><span class="co">#&gt; 15:         Ori  Interior Lighting  33.80</span></span>
<span><span class="co">#&gt; 16:     0.6Frac  Interior Lighting  33.80</span></span>
<span><span class="co">#&gt; 17:     0.2Frac  Interior Lighting  33.80</span></span>
<span><span class="co">#&gt; 18:     0.6Frac            Heating  31.10</span></span>
<span><span class="co">#&gt; 19:         LED            Heating  30.96</span></span>
<span><span class="co">#&gt; 20:          T5            Heating  30.09</span></span>
<span><span class="co">#&gt; 21:         Ori            Heating  28.52</span></span>
<span><span class="co">#&gt; 22:          T5  Interior Lighting  21.99</span></span>
<span><span class="co">#&gt; 23:         LED  Interior Lighting  15.71</span></span>
<span><span class="co">#&gt; 24: LED+0.2Frac  Interior Lighting  15.71</span></span>
<span><span class="co">#&gt; 25:         Ori            Cooling  15.36</span></span>
<span><span class="co">#&gt; 26:     0.6Frac            Cooling  15.01</span></span>
<span><span class="co">#&gt; 27:     0.2Frac            Cooling  14.71</span></span>
<span><span class="co">#&gt; 28:          T5            Cooling  14.43</span></span>
<span><span class="va">....</span></span>
<span></span>
<span><span class="co"># extract the seed model, i.e. "Ori" case as the baseline</span></span>
<span><span class="va">ori_eui</span> <span class="op">&lt;-</span> <span class="va">param_eui</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">case</span> <span class="op">==</span> <span class="st">"Ori"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">case</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># calculate energy savings based on the baseline EUI</span></span>
<span><span class="va">param_savings</span> <span class="op">&lt;-</span> <span class="va">param_eui</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">right_join</a></span><span class="op">(</span><span class="va">ori_eui</span>, by <span class="op">=</span> <span class="st">"category"</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"_ori"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>savings <span class="op">=</span> <span class="op">(</span><span class="va">eui_ori</span> <span class="op">-</span> <span class="va">eui</span><span class="op">)</span> <span class="op">/</span> <span class="va">eui_ori</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">case</span> <span class="op">!=</span> <span class="st">"Ori"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">param_savings</span><span class="op">)</span></span>
<span><span class="co">#&gt;            case           category    eui eui_ori     savings</span></span>
<span><span class="co">#&gt;          &lt;char&gt;             &lt;char&gt;  &lt;num&gt;   &lt;num&gt;       &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:     0.6Frac     Total End Uses 149.60  154.14   2.9453743</span></span>
<span><span class="co">#&gt;  2:     0.2Frac     Total End Uses 145.34  154.14   5.7090956</span></span>
<span><span class="co">#&gt;  3:          T5     Total End Uses 142.75  154.14   7.3893863</span></span>
<span><span class="co">#&gt;  4:         LED     Total End Uses 136.72  154.14  11.3014143</span></span>
<span><span class="co">#&gt;  5: LED+0.2Frac     Total End Uses 128.32  154.14  16.7510056</span></span>
<span><span class="co">#&gt;  6:          T5 Interior Equipment  59.46   59.46   0.0000000</span></span>
<span><span class="co">#&gt;  7:         LED Interior Equipment  59.46   59.46   0.0000000</span></span>
<span><span class="co">#&gt;  8:     0.6Frac Interior Equipment  52.74   59.46  11.3017154</span></span>
<span><span class="co">#&gt;  9:     0.2Frac Interior Equipment  46.01   59.46  22.6202489</span></span>
<span><span class="co">#&gt; 10: LED+0.2Frac Interior Equipment  46.01   59.46  22.6202489</span></span>
<span><span class="co">#&gt; 11: LED+0.2Frac            Heating  36.69   28.52 -28.6465638</span></span>
<span><span class="co">#&gt; 12:     0.2Frac            Heating  33.90   28.52 -18.8639551</span></span>
<span><span class="co">#&gt; 13:     0.6Frac  Interior Lighting  33.80   33.80   0.0000000</span></span>
<span><span class="co">#&gt; 14:     0.2Frac  Interior Lighting  33.80   33.80   0.0000000</span></span>
<span><span class="co">#&gt; 15:     0.6Frac            Heating  31.10   28.52  -9.0462833</span></span>
<span><span class="co">#&gt; 16:         LED            Heating  30.96   28.52  -8.5553997</span></span>
<span><span class="co">#&gt; 17:          T5            Heating  30.09   28.52  -5.5049088</span></span>
<span><span class="co">#&gt; 18:          T5  Interior Lighting  21.99   33.80  34.9408284</span></span>
<span><span class="co">#&gt; 19:         LED  Interior Lighting  15.71   33.80  53.5207101</span></span>
<span><span class="co">#&gt; 20: LED+0.2Frac  Interior Lighting  15.71   33.80  53.5207101</span></span>
<span><span class="co">#&gt; 21:     0.6Frac            Cooling  15.01   15.36   2.2786458</span></span>
<span><span class="co">#&gt; 22:     0.2Frac            Cooling  14.71   15.36   4.2317708</span></span>
<span><span class="co">#&gt; 23:          T5            Cooling  14.43   15.36   6.0546875</span></span>
<span><span class="co">#&gt; 24:         LED            Cooling  13.93   15.36   9.3098958</span></span>
<span><span class="co">#&gt; 25: LED+0.2Frac            Cooling  13.33   15.36  13.2161458</span></span>
<span><span class="co">#&gt; 26:     0.6Frac               Fans   3.97    4.01   0.9975062</span></span>
<span><span class="co">#&gt; 27:     0.2Frac               Fans   3.93    4.01   1.9950125</span></span>
<span><span class="co">#&gt; 28:          T5               Fans   3.79    4.01   5.4862843</span></span>
<span><span class="va">....</span></span>
<span></span>
<span><span class="co"># plot a bar chart to show the energy savings</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">param_savings</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>case <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">case</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">param</span><span class="op">$</span><span class="fu">models</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">case</span>, <span class="va">savings</span>, fill <span class="op">=</span> <span class="va">category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span>, stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">0.6</span>, color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>        show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">category</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"Energy savings / %"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="param_files/figure-html/unnamed-chunk-8-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="extensions-based-on-parametricjob-class">Extensions based on <code>ParametricJob</code> class<a class="anchor" aria-label="anchor" href="#extensions-based-on-parametricjob-class"></a>
</h2>
<p>The <code>ParametricJob</code> class is designed to be simple yet
flexible and extensible. One good example of its extensibility is the <a href="https://github.com/hongyuanjia/epluspar" class="external-link">epluspar</a> R package,
which provides new classes for conducting specific parametric analyses
on EnergyPlus models, including sensitivity analysis, Bayesian
calibration and optimization using Generic algorithm.</p>
<p>All the new classes introduced are based on the
<code>ParametricJob</code> class. The main difference mainly lies in the
specific statistical method used for sampling parameter values when
calling <code>$apply_measure()</code> method.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/hongyuanjia" class="external-link">Hongyuan Jia</a>, Adrian Chong.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
